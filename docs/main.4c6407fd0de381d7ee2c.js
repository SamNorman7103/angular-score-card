(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=t.options,a=void 0===o?{}:o,u=this.normalizeInstanceIdentifier(void 0===i?s:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=Object(r.e)(h.value,2),f=d[1];u===this.normalizeInstanceIdentifier(d[0])&&f.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return c},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let r=1;const i=(()=>Promise.resolve())(),o={};function s(t){return t in o&&(delete o[t],!0)}const a={setImmediate(t){const e=r++;return o[e]=!0,i.then(()=>s(e)&&t()),e},clearImmediate(t){s(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(c),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.4.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return tn}),n.d(e,"b",function(){return pu}),n.d(e,"c",function(){return cu}),n.d(e,"d",function(){return au}),n.d(e,"e",function(){return uu}),n.d(e,"f",function(){return cc}),n.d(e,"g",function(){return Yu}),n.d(e,"h",function(){return da}),n.d(e,"i",function(){return Ou}),n.d(e,"j",function(){return Fs}),n.d(e,"k",function(){return yu}),n.d(e,"l",function(){return Us}),n.d(e,"m",function(){return oc}),n.d(e,"n",function(){return mr}),n.d(e,"o",function(){return qa}),n.d(e,"p",function(){return eo}),n.d(e,"q",function(){return Sn}),n.d(e,"r",function(){return k}),n.d(e,"s",function(){return Ze}),n.d(e,"t",function(){return bo}),n.d(e,"u",function(){return oa}),n.d(e,"v",function(){return aa}),n.d(e,"w",function(){return gu}),n.d(e,"x",function(){return Ea}),n.d(e,"y",function(){return Zu}),n.d(e,"z",function(){return Sa}),n.d(e,"A",function(){return $u}),n.d(e,"B",function(){return xu}),n.d(e,"C",function(){return En}),n.d(e,"D",function(){return fu}),n.d(e,"E",function(){return du}),n.d(e,"F",function(){return za}),n.d(e,"G",function(){return zs}),n.d(e,"H",function(){return Bs}),n.d(e,"I",function(){return vr}),n.d(e,"J",function(){return Ks}),n.d(e,"K",function(){return lr}),n.d(e,"L",function(){return Cn}),n.d(e,"M",function(){return nc}),n.d(e,"N",function(){return ba}),n.d(e,"O",function(){return Pu}),n.d(e,"P",function(){return en}),n.d(e,"Q",function(){return Gs}),n.d(e,"R",function(){return $s}),n.d(e,"S",function(){return Oa}),n.d(e,"T",function(){return P}),n.d(e,"U",function(){return Gu}),n.d(e,"V",function(){return Hu}),n.d(e,"W",function(){return f}),n.d(e,"X",function(){return vn}),n.d(e,"Y",function(){return zu}),n.d(e,"Z",function(){return ac}),n.d(e,"ab",function(){return Mu}),n.d(e,"bb",function(){return mu}),n.d(e,"cb",function(){return ro}),n.d(e,"db",function(){return Ss}),n.d(e,"eb",function(){return ur}),n.d(e,"fb",function(){return Kn}),n.d(e,"gb",function(){return Rn}),n.d(e,"hb",function(){return Fn}),n.d(e,"ib",function(){return Un}),n.d(e,"jb",function(){return Mn}),n.d(e,"kb",function(){return Ln}),n.d(e,"lb",function(){return Vn}),n.d(e,"mb",function(){return bs}),n.d(e,"nb",function(){return sc}),n.d(e,"ob",function(){return vs}),n.d(e,"pb",function(){return _s}),n.d(e,"qb",function(){return Pn}),n.d(e,"rb",function(){return U}),n.d(e,"sb",function(){return Io}),n.d(e,"tb",function(){return Ko}),n.d(e,"ub",function(){return zo}),n.d(e,"vb",function(){return Ho}),n.d(e,"wb",function(){return ys}),n.d(e,"xb",function(){return Ot}),n.d(e,"yb",function(){return l}),n.d(e,"zb",function(){return Dn}),n.d(e,"Ab",function(){return _o}),n.d(e,"Bb",function(){return vt}),n.d(e,"Cb",function(){return Ds}),n.d(e,"Db",function(){return si}),n.d(e,"Eb",function(){return Ao}),n.d(e,"Fb",function(){return is}),n.d(e,"Gb",function(){return eu}),n.d(e,"Hb",function(){return J}),n.d(e,"Ib",function(){return ot}),n.d(e,"Jb",function(){return _}),n.d(e,"Kb",function(){return w}),n.d(e,"Lb",function(){return nt}),n.d(e,"Mb",function(){return st}),n.d(e,"Nb",function(){return Do}),n.d(e,"Ob",function(){return Mo}),n.d(e,"Pb",function(){return qo}),n.d(e,"Qb",function(){return Uo}),n.d(e,"Rb",function(){return Vo}),n.d(e,"Sb",function(){return Lo}),n.d(e,"Tb",function(){return Fo}),n.d(e,"Ub",function(){return Bo}),n.d(e,"Vb",function(){return Qe}),n.d(e,"Wb",function(){return fs}),n.d(e,"Xb",function(){return bn}),n.d(e,"Yb",function(){return Xe}),n.d(e,"Zb",function(){return su}),n.d(e,"ac",function(){return $o}),n.d(e,"bc",function(){return nu}),n.d(e,"cc",function(){return Wo}),n.d(e,"dc",function(){return Jo}),n.d(e,"ec",function(){return Yo}),n.d(e,"fc",function(){return Ro}),n.d(e,"gc",function(){return Zo}),n.d(e,"hc",function(){return Ua}),n.d(e,"ic",function(){return Za}),n.d(e,"jc",function(){return zt}),n.d(e,"kc",function(){return hr}),n.d(e,"lc",function(){return rt}),n.d(e,"mc",function(){return rs}),n.d(e,"nc",function(){return jo}),n.d(e,"oc",function(){return ls}),n.d(e,"pc",function(){return hs}),n.d(e,"qc",function(){return ds}),n.d(e,"rc",function(){return tu});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=u({__forward_ref__:u});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function v(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${b(t)} found${n}`)}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function w(t){return{providers:t.providers||[],imports:t.imports||[]}}function S(t){return E(t,O)||E(t,I)}function E(t,e){return t.hasOwnProperty(e)?t[e]:null}function C(t){return t&&(t.hasOwnProperty(T)||t.hasOwnProperty(x))?t[T]:null}const O=u({"\u0275prov":u}),T=u({"\u0275inj":u}),I=u({ngInjectableDef:u}),x=u({ngInjectorDef:u});var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let A;function N(t){const e=A;return A=t,e}function j(t,e,n){const r=S(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&k.Optional?null:void 0!==e?e:void v(l(t),"Injector")}function D(t){return{toString:t}.toString()}var R=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),P=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const F="undefined"!=typeof globalThis&&globalThis,L="undefined"!=typeof window&&window,M="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,U=F||V||L||M,q={},B=[],z=[],H=u({"\u0275cmp":u}),K=u({"\u0275dir":u}),$=u({"\u0275pipe":u}),G=u({"\u0275mod":u}),Q=u({"\u0275loc":u}),W=u({"\u0275fac":u}),X=u({__NG_ELEMENT_ID__:u});let Y=0;function J(t){return D(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===R.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||P.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Y++,n.inputs=it(t.inputs,e),n.outputs=it(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Z):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(tt):null,n})}function Z(t){return at(t)||function(t){return t[K]||null}(t)}function tt(t){return function(t){return t[$]||null}(t)}const et={};function nt(t){const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&D(()=>{et[t.id]=t.type}),e}function rt(t,e){return D(()=>{const n=ut(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function it(t,e){if(null==t)return q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ot=J;function st(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[H]||null}function ut(t,e){const n=t[G]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const ct=20,lt=10;function ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function dt(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function gt(t){return null!==t.template}function yt(t,e){return t.hasOwnProperty(W)?t[W]:null}class bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function vt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=St),wt}function wt(){const t=Et(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function St(t,e,n,r){const i=Et(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:q,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new bt(u&&u.currentValue,e,s===q),t[r]=e}function Et(t){return t.__ngSimpleChanges__||null}let Ct;function Ot(t){Ct=t}function Tt(t){return!!t.listen}vt.ngInherit=!0;const It={createRenderer:(t,e)=>void 0!==Ct?Ct:"undefined"!=typeof document?document:void 0};function xt(t){for(;Array.isArray(t);)t=t[0];return t}function kt(t,e){return xt(e[t])}function At(t,e){return xt(e[t.index])}function Nt(t,e){return t.data[e]}function jt(t,e){const n=e[t];return ht(n)?n:n[0]}function Dt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Rt(t){return 4==(4&t[2])}function Pt(t){return 128==(128&t[2])}function Ft(t,e){return null==e?null:t[e]}function Lt(t){t[18]=0}function Mt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Vt={lFrame:se(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ut(){return Vt.bindingsEnabled}function qt(){return Vt.lFrame.lView}function Bt(){return Vt.lFrame.tView}function zt(t){Vt.lFrame.contextLView=t}function Ht(){let t=Kt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Kt(){return Vt.lFrame.currentTNode}function $t(t,e){const n=Vt.lFrame;n.currentTNode=t,n.isParent=e}function Gt(){return Vt.lFrame.isParent}function Qt(){Vt.lFrame.isParent=!1}function Wt(){return Vt.isInCheckNoChangesMode}function Xt(t){Vt.isInCheckNoChangesMode=t}function Yt(){return Vt.lFrame.bindingIndex++}function Jt(t,e){const n=Vt.lFrame;n.bindingIndex=n.bindingRootIndex=t,Zt(e)}function Zt(t){Vt.lFrame.currentDirectiveIndex=t}function te(){return Vt.lFrame.currentQueryIndex}function ee(t){Vt.lFrame.currentQueryIndex=t}function ne(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function re(t,e,n){if(n&k.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&k.Host||(r=ne(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Vt.lFrame=oe();return r.currentTNode=e,r.lView=t,!0}function ie(t){const e=oe(),n=t[1];Vt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function oe(){const t=Vt.lFrame,e=null===t?null:t.child;return null===e?se(t):e}function se(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ae(){const t=Vt.lFrame;return Vt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ue=ae;function ce(){const t=ae();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function le(){return Vt.lFrame.selectedIndex}function he(t){Vt.lFrame.selectedIndex=t}function de(){const t=Vt.lFrame;return Nt(t.tView,t.selectedIndex)}function fe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function pe(t,e,n){ye(t,e,3,n)}function me(t,e,n,r){(3&t[2])===n&&ye(t,e,n,r)}function ge(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ye(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(be(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function be(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const ve=-1;class _e{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function we(t,e,n){const r=Tt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ee(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Se(t){return 3===t||4===t||6===t}function Ee(t){return 64===t.charCodeAt(0)}function Ce(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Oe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Oe(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Te(t){return t!==ve}function Ie(t){return 32767&t}function xe(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let ke=!0;function Ae(t){const e=ke;return ke=t,e}let Ne=0;function je(t,e){const n=Re(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,De(r.data,t),De(e,null),De(r.blueprint,null));const i=Pe(t,e),o=t.injectorIndex;if(Te(i)){const t=Ie(i),n=xe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function De(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Re(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Pe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return ve;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ve}function Fe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=Ne++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Le(t,e,n){if(n&k.Optional)return t;v(e,"NodeInjector")}function Me(t,e,n,r){if(n&k.Optional&&void 0===r&&(r=null),0==(n&(k.Self|k.Host))){const i=t[9],o=N(void 0);try{return i?i.get(e,r,n&k.Optional):j(e,r,n&k.Optional)}finally{N(o)}}return Le(r,e,n)}function Ve(t,e,n,r=k.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e?e>=0?255&e:qe:e}(n);if("function"==typeof o){if(!re(e,t,r))return r&k.Host?Le(i,n,r):Me(e,n,r,i);try{const t=o();if(null!=t||r&k.Optional)return t;v(n)}finally{ue()}}else if("number"==typeof o){let i=null,s=Re(t,e),a=ve,u=r&k.Host?e[16][6]:null;for((-1===s||r&k.SkipSelf)&&(a=-1===s?Pe(t,e):e[s+8],a!==ve&&$e(r,!1)?(i=e[1],s=Ie(a),e=xe(a,e)):s=-1);-1!==s;){const t=e[1];if(Ke(o,s,t.data)){const t=Be(s,e,n,i,r,u);if(t!==Ue)return t}a=e[s+8],a!==ve&&$e(r,e[1].data[s+8]===u)&&Ke(o,s,e)?(i=t,s=Ie(a),e=xe(a,e)):s=-1}}}return Me(e,n,r,i)}const Ue={};function qe(){return new Ge(Ht(),qt())}function Be(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=ze(a,s,n,null==r?pt(a)&&ke:r!=s&&0!=(3&a.type),i&k.Host&&o===a);return null!==u?He(e,s,u,a):Ue}function ze(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&gt(t)&&t.type===n)return u}return null}function He(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof _e){const s=i;s.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(b(o[n]));const a=Ae(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?N(s.injectImpl):null;re(t,r,k.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&N(u),Ae(a),s.resolving=!1,ue()}}return i}function Ke(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function $e(t,e){return!(t&k.Self||t&k.Host&&e)}class Ge{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ve(this._tNode,this._lView,t,void 0,e)}}function Qe(t){return D(()=>{const e=t.prototype.constructor,n=e[W]||We(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[W]||We(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function We(t){return m(t)?()=>{const e=We(p(t));return e&&e()}:yt(t)}function Xe(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Se(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Ht(),t)}const Ye="__parameters__";function Je(t,e,n){return D(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Ye)?t[Ye]:Object.defineProperty(t,Ye,{value:[]})[Ye];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Ze{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const tn=new Ze("AnalyzeForEntryComponents"),en=Function;function nn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),nn(r,e)):e!==t&&e.push(r)}return e}function rn(t,e){t.forEach(t=>Array.isArray(t)?rn(t,e):e(t))}function on(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function sn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function an(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function un(t,e,n){let r=ln(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function cn(t,e){const n=ln(t,e);if(n>=0)return t[1|n]}function ln(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const hn={},dn=/\n/gm,fn="__source",pn=u({provide:String,useValue:u});let mn;function gn(t){const e=mn;return mn=t,e}function yn(t,e=k.Default){if(void 0===mn)throw new Error("inject() must be called from an injection context");return null===mn?j(t,void 0,e):mn.get(t,e&k.Optional?null:void 0,e)}function bn(t,e=k.Default){return(A||yn)(p(t),e)}const vn=bn;function _n(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=k.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(bn(t,n))}else e.push(bn(r))}return e}function wn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Sn=wn(Je("Inject",t=>({token:t})),-1),En=wn(Je("Optional"),8),Cn=wn(Je("SkipSelf"),4);let On;function Tn(t){var e;return(null===(e=function(){if(void 0===On&&(On=null,U.trustedTypes))try{On=U.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return On}())||void 0===e?void 0:e.createHTML(t))||t}class In{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class xn extends In{getTypeName(){return"HTML"}}class kn extends In{getTypeName(){return"Style"}}class An extends In{getTypeName(){return"Script"}}class Nn extends In{getTypeName(){return"URL"}}class jn extends In{getTypeName(){return"ResourceURL"}}function Dn(t){return t instanceof In?t.changingThisBreaksApplicationSecurity:t}function Rn(t,e){const n=Pn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Pn(t){return t instanceof In&&t.getTypeName()||null}function Fn(t){return new xn(t)}function Ln(t){return new kn(t)}function Mn(t){return new An(t)}function Vn(t){return new Nn(t)}function Un(t){return new jn(t)}class qn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Tn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Bn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Tn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Tn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const zn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Kn(t){return(t=String(t)).match(zn)||t.match(Hn)?t:"unsafe:"+t}function $n(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Gn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Qn=$n("area,br,col,hr,img,wbr"),Wn=$n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xn=$n("rp,rt"),Yn=Gn(Xn,Wn),Jn=Gn(Qn,Gn(Wn,$n("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gn(Xn,$n("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yn),Zn=$n("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tr=$n("srcset"),er=Gn(Zn,tr,$n("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$n("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nr=$n("script,style,template");class rr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Jn.hasOwnProperty(e))return this.sanitizedSomething=!0,!nr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!er.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Zn[o]&&(s=Kn(s)),tr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Kn(t.trim())).join(", ")),this.buf.push(" ",e,'="',sr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Jn.hasOwnProperty(e)&&!Qn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(sr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ir=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,or=/([^\#-~ |!])/g;function sr(t){return t.replace(/&/g,"&amp;").replace(ir,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(or,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ar;function ur(t,e){let n=null;try{ar=ar||function(t){const e=new Bn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Tn(""),"text/html")}catch(t){return!1}}()?new qn(e):e}(t);let r=e?String(e):"";n=ar.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ar.getInertBodyElement(r)}while(r!==o);return Tn((new rr).sanitizeChildren(cr(n)||n))}finally{if(n){const t=cr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function cr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var lr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function hr(t){const e=function(){const t=qt();return t&&t[12]}();return e?e.sanitize(lr.URL,t)||"":Rn(t,"URL")?Dn(t):Kn(y(t))}function dr(t){return t.ngDebugContext}function fr(t){return t.ngOriginalError}function pr(t,...e){t.error(...e)}class mr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||pr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?dr(t)?dr(t):this._findContext(fr(t)):null}_findOriginalError(t){let e=fr(t);for(;e&&fr(e);)e=fr(e);return e}}function gr(t,e){t.__ngContext__=e}const yr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(U))();function br(t){return t instanceof Function?t():t}var vr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function _r(t,e){return(void 0)(t,e)}function wr(t){const e=t[3];return dt(e)?e[3]:e}function Sr(t){return Cr(t[13])}function Er(t){return Cr(t[4])}function Cr(t){for(;null!==t&&!dt(t);)t=t[4];return t}function Or(t,e,n,r,i){if(null!=r){let o,s=!1;dt(r)?o=r:ht(r)&&(s=!0,r=r[0]);const a=xt(r);0===t&&null!==n?null==i?Dr(e,n,a):jr(e,n,a,i||null,!0):1===t&&null!==n?jr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Pr(t,e);r&&function(t,e,n,r){Tt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==xt(n)&&Or(e,t,r,o,i);for(let s=lt;s<n.length;s++){const i=n[s];zr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Tr(t,e,n){return Tt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Ir(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Mt(i,-1)),n.splice(r,1)}function xr(t,e){if(t.length<=lt)return;const n=lt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Ir(o,r),e>0&&(t[n-1][4]=r[4]);const s=sn(t,lt+e);zr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function kr(t,e){if(!(256&e[2])){const n=e[11];Tt(n)&&n.destroyNode&&zr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ar(t[1],t);for(;e;){let n=null;if(ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ht(e)&&Ar(e[1],e),e=e[3];null===e&&(e=t),ht(e)&&Ar(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ar(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof _e)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):xt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Tt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&dt(e[3])){n!==e[3]&&Ir(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Nr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===P.None||e===P.Emulated)return null}return At(r,n)}(t,e.parent,n)}function jr(t,e,n,r,i){Tt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Dr(t,e,n){Tt(t)?t.appendChild(e,n):e.appendChild(n)}function Rr(t,e,n,r,i){null!==r?jr(t,e,n,r,i):Dr(t,e,n)}function Pr(t,e){return Tt(t)?t.parentNode(e):e.parentNode}function Fr(t,e,n){return Lr(t,e,n)}let Lr=function(t,e,n){return 40&t.type?At(t,n):null};function Mr(t,e,n,r){const i=Nr(t,r,e),o=e[11],s=Fr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Rr(o,i,n[a],s,!1);else Rr(o,i,n,s,!1)}function Vr(t,e){if(null!==e){const n=e.type;if(3&n)return At(e,t);if(4&n)return qr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Vr(t,n);{const n=t[e.index];return dt(n)?qr(-1,n):xt(n)}}if(32&n)return _r(e,t)()||xt(t[e.index]);{const n=Ur(t,e);return null!==n?Array.isArray(n)?n[0]:Vr(wr(t[16]),n):Vr(t,e.next)}}return null}function Ur(t,e){return null!==e?t[16][6].projection[e.projection]:null}function qr(t,e){const n=lt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Vr(t,r)}return e[7]}function Br(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&gr(xt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Br(t,e,n.child,r,i,o,!1),Or(e,t,i,a,o);else if(32&u){const s=_r(n,r);let u;for(;u=s();)Or(e,t,i,u,o);Or(e,t,i,a,o)}else 16&u?Hr(t,e,r,n,i,o):Or(e,t,i,a,o);n=s?n.projectionNext:n.next}}function zr(t,e,n,r,i,o){Br(n,r,t.firstChild,e,i,o,!1)}function Hr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Or(e,t,i,a[u],o);else Br(t,e,a,s[3],i,o,!0)}function Kr(t,e,n){Tt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function $r(t,e,n){Tt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Gr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Qr="ng-template";function Wr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Gr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Xr(t){return 4===t.type&&t.value!==Qr}function Yr(t,e,n){return e===(4!==t.type||n?t.value:Qr)}function Jr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Se(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Yr(t,u,n)||""===u&&1===e.length){if(Zr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Wr(t.attrs,c,n)){if(Zr(r))return!1;s=!0}continue}const l=ti(8&r?"class":u,i,Xr(t),n);if(-1===l){if(Zr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Gr(e,c,0)||2&r&&c!==t){if(Zr(r))return!1;s=!0}}}}else{if(!s&&!Zr(r)&&!Zr(u))return!1;if(s&&Zr(u))continue;s=!1,r=u|1&r}}return Zr(r)||s}function Zr(t){return 0==(1&t)}function ti(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ei(t,e,n=!1){for(let r=0;r<e.length;r++)if(Jr(t,e[r],n))return!0;return!1}function ni(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function ri(t,e){return t?":not("+e.trim()+")":e}function ii(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Zr(s)||(e+=ri(o,i),i=""),r=s,o=o||!Zr(r);n++}return""!==i&&(e+=ri(o,i)),e}const oi={};function si(t){ai(Bt(),qt(),le()+t,Wt())}function ai(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&pe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&me(e,r,0,n)}he(n)}function ui(t,e){return t<<17|e<<2}function ci(t){return t>>17&32767}function li(t){return 2|t}function hi(t){return(131068&t)>>2}function di(t,e){return-131069&t|e<<2}function fi(t){return 1|t}function pi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ee(i),n.contentQueries(2,e[o],o)}}}function mi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Lt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function gi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Kt(),s=Gt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Vt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Vt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return $t(o,!0),o}function yi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function bi(t,e,n){ie(e);try{const r=t.viewQuery;null!==r&&Qi(1,r,n);const i=t.template;null!==i&&wi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&pi(t,e),t.staticViewQueries&&Qi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)zi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ce()}}function vi(t,e,n,r){const i=e[2];if(256==(256&i))return;ie(e);const o=Wt();try{Lt(e),Vt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&wi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&pe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&me(e,n,0,null),ge(e,0)}if(function(t){for(let e=Sr(t);null!==e;e=Er(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Mt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Sr(t);null!==e;e=Er(e))for(let t=lt;t<e.length;t++){const n=e[t],r=n[1];Pt(n)&&vi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&pi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&pe(e,n)}else{const n=t.contentHooks;null!==n&&me(e,n,1),ge(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)he(~r);else{const i=r,o=n[++t],s=n[++t];Jt(o,i),s(2,e[i])}}}finally{he(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)qi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Qi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&pe(e,n)}else{const n=t.viewHooks;null!==n&&me(e,n,2),ge(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Mt(e[3],-1))}finally{ce()}}function _i(t,e,n,r){const i=e[10],o=!Wt(),s=Rt(e);try{o&&!s&&i.begin&&i.begin(),s&&bi(t,e,r),vi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function wi(t,e,n,r,i){const o=le();try{he(-1),2&r&&e.length>ct&&ai(t,e,ct,Wt()),n(r,i)}finally{he(o)}}function Si(t,e,n){if(ft(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ei(t,e,n){Ut()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||je(n,e),gr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=gt(r);o&&Li(e,n,r);const u=He(e,t,a,n);gr(u,e),null!==s&&Mi(0,a-i,u,r,0,s),o&&(jt(n.index,e)[8]=u)}}(t,e,n,At(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Vt.lFrame.currentDirectiveIndex;try{he(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Zt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||ji(r,i)}}finally{he(-1),Zt(s)}}(t,e,n))}function Ci(t,e,n=At){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Oi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ti(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ti(t,e,n,r,i,o,s,a,u,c){const l=ct+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:oi);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Ii(t,e,n,r){const i=Xi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Yi(t).push(r,i.length-1))}function xi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ki(t,e,n,r,i,o,s,a){const u=At(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Zi(t,n,c,r,i),pt(e)&&function(t,e){const n=jt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Tt(o)?o.setProperty(u,r,i):Ee(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ai(t,e,n,r){let i=!1;if(Ut()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ei(n,s.selectors,!1)&&(i||(i=[]),Fe(je(n,e),t,s.type),gt(s)?(Di(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Pi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=yi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ce(n.mergedAttrs,c.hostAttrs),Fi(t,n,e,u,c),Ri(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Xr(e)?null:Vi(n,i);o.push(c),s=xi(n,u,s),a=xi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new g("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ce(n.mergedAttrs,n.attrs),i}function Ni(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function ji(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Di(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ri(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gt(e)&&(n[""]=t)}}function Pi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Fi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=yt(i.type)),s=new _e(o,gt(i),null);t.blueprint[r]=s,n[r]=s,Ni(t,e,0,r,yi(t,n,i.hostVars,oi),i)}function Li(t,e,n){const r=At(e,t),i=Oi(n),o=t[10],s=Hi(t,mi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Mi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Vi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ui(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function qi(t,e){const n=jt(e,t);if(Pt(n)){const t=n[1];80&n[2]?vi(t,n,t.template,n[8]):n[5]>0&&Bi(n)}}function Bi(t){for(let n=Sr(t);null!==n;n=Er(n))for(let t=lt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];vi(t,e,t.template,e[8])}else e[5]>0&&Bi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=jt(e[n],t);Pt(r)&&r[5]>0&&Bi(r)}}function zi(t,e){const n=jt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),bi(r,n,n[8])}function Hi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ki(t){for(;t;){t[2]|=64;const e=wr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function $i(t,e,n){const r=e[10];r.begin&&r.begin();try{vi(t,e,t.template,n)}catch(i){throw Ji(e,i),i}finally{r.end&&r.end()}}function Gi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Dt(n),i=r[1];_i(i,r,i.template,n)}}(t[8])}function Qi(t,e,n){ee(0),e(t,n)}const Wi=(()=>Promise.resolve(null))();function Xi(t){return t[7]||(t[7]=[])}function Yi(t){return t.cleanup||(t.cleanup=[])}function Ji(t,e){const n=t[9],r=n?n.get(mr,null):null;r&&r.handleError(e)}function Zi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function to(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const eo=new Ze("INJECTOR",-1);class no{get(t,e=hn){if(e===hn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const ro=new Ze("Set Injector scope."),io={},oo={},so=[];let ao;function uo(){return void 0===ao&&(ao=new no),ao}function co(t,e=null,n=null,r){return new lo(t,n,e||uo(),r)}class lo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&rn(e,n=>this.processProvider(n,t,e)),rn([t],t=>this.processInjectorType(t,[],i)),this.records.set(eo,po(void 0,this));const o=this.records.get(ro);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=hn,n=k.Default){this.assertNotDestroyed();const r=gn(this);try{if(!(n&k.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Ze)&&S(t);e=n&&this.injectableDefInScope(n)?po(ho(t),io):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&k.Self?uo():this.parent).get(t,e=n&k.Optional&&e===hn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[fn]&&i.unshift(e[fn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(dn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{gn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{rn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];rn(r,t=>this.processProvider(t,n,r||so))}}this.injectorDefTypes.add(o);const a=yt(o)||(()=>new o);this.records.set(o,po(a,io));const u=r.providers;if(null!=u&&!s){const e=t;rn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=go(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return mo(t)?po(void 0,t.useValue):po(fo(t),io)}(t);if(go(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=po(void 0,io,!0),e.factory=()=>_n(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===io&&(e.value=oo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ho(t){const e=S(t),n=null!==e?e.factory:yt(t);if(null!==n)return n;if(t instanceof Ze)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=an(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[O]||t[I]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function fo(t,e,n){let r;if(go(t)){const e=p(t);return yt(e)||ho(e)}if(mo(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(..._n(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>bn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return yt(e)||ho(e);r=()=>new e(..._n(t.deps))}var i;return r}function po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function mo(t){return null!==t&&"object"==typeof t&&pn in t}function go(t){return"function"==typeof t}const yo=function(t,e,n){return function(t,e=null,n=null,r){const i=co(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let bo=(()=>{class t{static create(t,e){return Array.isArray(t)?yo(t,e,""):yo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=hn,t.NULL=new no,t.\u0275prov=_({token:t,providedIn:"any",factory:()=>bn(eo)}),t.__NG_ELEMENT_ID__=-1,t})();function vo(t,e){fe(Dt(t)[1],Ht())}function _o(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(gt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=wo(t.inputs),e.declaredInputs=wo(t.declaredInputs),e.outputs=wo(t.outputs);const n=i.hostBindings;n&&Co(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&So(t,o),s&&Eo(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),gt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===_o&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ce(i.hostAttrs,n=Ce(n,i.hostAttrs))}}(r)}function wo(t){return t===q?{}:t===z?[]:t}function So(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Eo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Co(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Oo=null;function To(){if(!Oo){const t=U.Symbol;if(t&&t.iterator)Oo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Oo=n)}}}return Oo}function Io(t){return!!xo(t)&&(Array.isArray(t)||!(t instanceof Map)&&To()in t)}function xo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ko(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ao(t,e,n,r){const i=qt();return ko(i,Yt(),e)&&(Bt(),function(t,e,n,r,i,o){const s=At(t,e);!function(t,e,n,r,i,o,s){if(null==o)Tt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?y(o):s(o,r||"",i);Tt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(de(),i,t,e,n,r)),Ao}function No(t,e,n,r){return ko(t,Yt(),n)?e+y(n)+r:oi}function jo(t,e,n,r,i,o,s,a){const u=qt(),c=Bt(),l=t+ct,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=gi(e,t,4,s||null,Ft(c,a));Ai(e,n,l,Ft(c,u)),fe(e,l);const h=l.tViews=Ti(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];$t(h,!1);const d=u[11].createComment("");Mr(c,u,d,h),gr(d,u),Hi(u,u[l]=Ui(d,u,d,h)),mt(h)&&Ei(c,u,h),null!=s&&Ci(u,h,a)}function Do(t,e=k.Default){const n=qt();return null===n?bn(t,e):Ve(Ht(),n,p(t),e)}function Ro(t,e,n){const r=qt();return ko(r,Yt(),e)&&ki(Bt(),de(),r,t,e,r[11],n,!1),Ro}function Po(t,e,n,r,i){const o=i?"class":"style";Zi(t,n,e.inputs[o],o,r)}function Fo(t,e,n,r){const i=qt(),o=Bt(),s=ct+t,a=i[11],u=i[s]=Tr(a,e,Vt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=gi(e,t,2,i,Ft(a,o));return Ai(e,n,u,Ft(a,s)),null!==u.attrs&&to(u,u.attrs,!1),null!==u.mergedAttrs&&to(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];$t(c,!0);const l=c.mergedAttrs;null!==l&&we(a,u,l);const h=c.classes;null!==h&&$r(a,u,h);const d=c.styles;null!==d&&Kr(a,u,d),64!=(64&c.flags)&&Mr(o,i,u,c),0===Vt.lFrame.elementDepthCount&&gr(u,i),Vt.lFrame.elementDepthCount++,mt(c)&&(Ei(o,i,c),Si(o,c,i)),null!==r&&Ci(i,c)}function Lo(){let t=Ht();Gt()?Qt():(t=t.parent,$t(t,!1));const e=t;Vt.lFrame.elementDepthCount--;const n=Bt();n.firstCreatePass&&(fe(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Po(n,e,qt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Po(n,e,qt(),e.stylesWithoutHost,!1)}function Mo(t,e,n,r){Fo(t,e,n,r),Lo()}function Vo(t,e,n){const r=qt(),i=Bt(),o=t+ct,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Ft(o,r),a=gi(e,t,8,"ng-container",s);return null!==s&&to(a,s,!0),Ai(e,n,a,Ft(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];$t(s,!0);const a=r[o]=r[11].createComment("");Mr(i,r,a,s),gr(a,r),mt(s)&&(Ei(i,r,s),Si(i,s,r)),null!=n&&Ci(r,s)}function Uo(){let t=Ht();const e=Bt();Gt()?Qt():(t=t.parent,$t(t,!1)),e.firstCreatePass&&(fe(e,t),ft(t)&&e.queries.elementEnd(t))}function qo(t,e,n){Vo(t,e,n),Uo()}function Bo(){return qt()}function zo(t){return!!t&&"function"==typeof t.then}function Ho(t){return!!t&&"function"==typeof t.subscribe}const Ko=Ho;function $o(t,e,n=!1,r){const i=qt(),o=Bt(),s=Ht();return function(t,e,n,r,i,o,s=!1,a){const u=mt(r),c=t.firstCreatePass&&Yi(t),l=Xi(e);let h=!0;if(3&r.type){const d=At(r,e),f=a?a(d):q,p=f.target||d,m=l.length,g=a?t=>a(xt(t[r.index])).target:r.index;if(Tt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Qo(r,e,o,!1);const t=n.listen(f.name||p,i,o);l.push(o,t),c&&c.push(i,g,m,m+1)}}else o=Qo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,m,s)}else o=Qo(r,e,o,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),$o}function Go(t,e,n){try{return!1!==e(n)}catch(r){return Ji(t,r),!1}}function Qo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?jt(t.index,e):e;0==(32&e[2])&&Ki(s);let a=Go(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Go(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Wo(t=1){return function(t){return(Vt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Vt.lFrame.contextLView))[8]}(t)}function Xo(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?ei(t,o,!0):ni(r,o))return i}else n=i}return n}function Yo(t){const e=qt()[16][6];if(!e.projection){const n=e.projection=an(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Xo(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Jo(t,e=0,n){const r=qt(),i=Bt(),o=gi(i,ct+t,16,null,n||null);null===o.projection&&(o.projection=e),Qt(),64!=(64&o.flags)&&function(t,e,n){Hr(e[11],0,e,n,Nr(t,n,e),Fr(n.parent||e[6],n,e))}(i,r,o)}function Zo(t,e,n){return ts(t,"",e,"",n),Zo}function ts(t,e,n,r,i){const o=qt(),s=No(o,e,n,r);return s!==oi&&ki(Bt(),de(),o,t,s,o[11],i,!1),ts}function es(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ci(o):hi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];ns(t[a],e)&&(u=!0,t[a+1]=r?fi(n):li(n)),a=r?ci(n):hi(n)}u&&(t[n+1]=r?li(o):fi(o))}function ns(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ln(t,e)>=0}function rs(t,e,n){return os(t,e,n,!1),rs}function is(t,e){return os(t,e,null,!0),is}function os(t,e,n,r){const i=qt(),o=Bt(),s=function(t){const e=Vt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[le()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Vt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=as(n=ss(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ss(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==hi(r))return t[ci(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ss(null,t,e,n[1],r),n=as(n,e.attrs,r),function(t,e,n,r){t[ci(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=as(r,t[o].hostAttrs,n);return as(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ci(s),u=hi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||ln(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ci(t[a+1]);t[r+1]=ui(e,a),0!==e&&(t[e+1]=di(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ui(a,0),0!==a&&(t[a+1]=di(t[a+1],r)),a=r;else t[r+1]=ui(u,0),0===a?a=r:t[u+1]=di(t[u+1],r),u=r;l&&(t[r+1]=li(t[r+1])),es(t,c,r,!0),es(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&ln(o,e)>=0&&(n[r+1]=fi(n[r+1]))}(e,c,t,r,o),s=ui(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==oi&&ko(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];cs(1==(1&c)?us(u,e,n,i,hi(c),s):void 0)||(cs(o)||function(t){return 2==(2&t)}(c)&&(o=us(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Tt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:vr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=vr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,kt(le(),n),i,o))}(o,o.data[le()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Dn(t)))),t}(e,n),r,s)}function ss(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=as(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function as(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),un(t,s,!!n||e[++o]))}return void 0===t?null:t}function us(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===oi&&(l=c?B:void 0);let h=c?cn(l,r):u===r?l:void 0;if(o&&!cs(h)&&(h=cn(e,r)),cs(h)&&(a=h,s))return a;const d=t[i+1];i=s?ci(d):hi(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=cn(t,r))}return a}function cs(t){return void 0!==t}function ls(t,e=""){const n=qt(),r=Bt(),i=t+ct,o=r.firstCreatePass?gi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Tt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Mr(r,n,s,o),$t(o,!1)}function hs(t){return ds("",t,""),hs}function ds(t,e,n){const r=qt(),i=No(r,t,e,n);return i!==oi&&function(t,e,n){const r=kt(e,t);!function(t,e,n){Tt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,le(),i),ds}function fs(t,e,n){const r=qt();return ko(r,Yt(),e)&&ki(Bt(),de(),r,t,e,r[11],n,!0),fs}const ps=void 0;var ms=["en",[["a","p"],["AM","PM"],ps],[["AM","PM"],ps,ps],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ps,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ps,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ps,"{1} 'at' {0}",ps],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let gs={};function ys(t,e,n){"string"!=typeof e&&(n=e,e=t[Ss.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),gs[e]=t,n&&(gs[e][Ss.ExtraData]=n)}function bs(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ws(e);if(n)return n;const r=e.split("-")[0];if(n=ws(r),n)return n;if("en"===r)return ms;throw new Error(`Missing locale data for the locale "${t}".`)}function vs(t){return bs(t)[Ss.CurrencyCode]||null}function _s(t){return bs(t)[Ss.PluralCase]}function ws(t){return t in gs||(gs[t]=U.ng&&U.ng.common&&U.ng.common.locales&&U.ng.common.locales[t]),gs[t]}var Ss=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Es="en-US";let Cs=Es;function Os(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Cs=t.toLowerCase().replace(/_/g,"-"))}function Ts(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ts(t[o],e,n,r,i);else{const o=Bt(),s=qt();let a=go(t)?t:p(t.provide),u=fo(t);const c=Ht(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(go(t)||!t.multi){const r=new _e(u,i,Do),f=ks(a,e,i?l:l+d,h);-1===f?(Fe(je(c,s),o,a),Is(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=ks(a,e,l+d,h),p=ks(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){Fe(je(c,s),o,a);const l=function(t,e,n,r,i){const o=new _e(t,n,Do);return o.multi=[],o.index=e,o.componentProviders=0,xs(o,i,r&&!n),o}(i?Ns:As,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),Is(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Is(o,t,f>-1?f:p,xs(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Is(t,e,n,r){const i=go(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function xs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ks(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function As(t,e,n,r){return js(this.multi,[])}function Ns(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=He(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),js(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],js(i,o);return o}function js(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ds(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Bt();if(r.firstCreatePass){const i=gt(t);Ts(n,r.data,r.blueprint,i,!0),Ts(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Rs{}class Ps{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Fs=(()=>{class t{}return t.NULL=new Ps,t})();function Ls(...t){}function Ms(t,e){return new Us(At(t,e))}const Vs=function(){return Ms(Ht(),qt())};let Us=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Vs,t})();function qs(t){return t instanceof Us?t.nativeElement:t}class Bs{}let zs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Hs(),t})();const Hs=function(){const t=qt(),e=jt(Ht().index,t);return function(t){return t[11]}(ht(e)?e:t)};let Ks=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class $s{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Gs=new $s("11.2.8");class Qs{constructor(){}supports(t){return Io(t)}create(t){return new Xs(t)}}const Ws=(t,e)=>e;class Xs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ws}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ta(n,r,i)?e:n,s=ta(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Io(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[To()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Ys(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Zs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ys{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Js{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Zs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Js,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ta(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ea{constructor(){}supports(t){return t instanceof Map||xo(t)}create(){return new na}}class na{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||xo(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ra(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ra{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ia(){return new oa([new Qs])}let oa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ia()),deps:[[t,new Cn,new En]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:ia}),t})();function sa(){return new aa([new ea])}let aa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||sa()),deps:[[t,new Cn,new En]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:sa}),t})();function ua(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(xt(o)),dt(o))for(let t=lt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&ua(e[1],e,n,r)}const s=n.type;if(8&s)ua(t,e,n.child,r);else if(32&s){const t=_r(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Ur(e,n);if(Array.isArray(t))r.push(...t);else{const n=wr(e[16]);ua(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class ca{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ua(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(dt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(xr(t,n),sn(e,n))}this._attachedToViewContainer=!1}kr(this._lView[1],this._lView)}onDestroy(t){Ii(this._lView[1],this._lView,null,t)}markForCheck(){Ki(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$i(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Xt(!0);try{$i(t,e,n)}finally{Xt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,zr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class la extends ca{constructor(t){super(t),this._view=t}detectChanges(){Gi(this._view)}checkNoChanges(){!function(t){Xt(!0);try{Gi(t)}finally{Xt(!1)}}(this._view)}get context(){return null}}const ha=fa;let da=(()=>{class t{}return t.__NG_ELEMENT_ID__=ha,t.__ChangeDetectorRef__=!0,t})();function fa(t=!1){return function(t,e,n){if(!n&&pt(t)){const n=jt(t.index,e);return new ca(n,n)}return 47&t.type?new ca(e[16],e):null}(Ht(),qt(),t)}const pa=[new ea],ma=new oa([new Qs]),ga=new aa(pa),ya=function(){return wa(Ht(),qt())};let ba=(()=>{class t{}return t.__NG_ELEMENT_ID__=ya,t})();const va=ba,_a=class extends va{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=mi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),bi(e,n,t),new ca(n)}};function wa(t,e){return 4&t.type?new _a(e,t,Ms(t,e)):null}class Sa{}class Ea{}const Ca=function(){return Aa(Ht(),qt())};let Oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ca,t})();const Ta=Oa,Ia=class extends Ta{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ms(this._hostTNode,this._hostLView)}get injector(){return new Ge(this._hostTNode,this._hostLView)}get parentInjector(){const t=Pe(this._hostTNode,this._hostLView);if(Te(t)){const e=xe(t,this._hostLView),n=Ie(t);return new Ge(e[1].data[n+8],e)}return new Ge(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=xa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Sa,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ia(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=lt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-lt?(e[4]=n[i],on(n,lt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=qr(i,o),a=n[11],u=Pr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,zr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),on(ka(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=xa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=xr(this._lContainer,e);n&&(sn(ka(this._lContainer),e),kr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=xr(this._lContainer,e);return n&&null!=sn(ka(this._lContainer),e)?new ca(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function xa(t){return t[8]}function ka(t){return t[8]||(t[8]=[])}function Aa(t,e){let n;const r=e[t.index];if(dt(r))n=r;else{let i;if(8&t.type)i=xt(r);else{const n=e[11];i=n.createComment("");const r=At(t,e);jr(n,Pr(n,r),i,function(t,e){return Tt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ui(r,e,i,t),Hi(e,n)}return new Ia(n,t,e)}const Na={};class ja extends Fs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=at(t);return new Pa(e,this.ngModule)}}function Da(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ra=new Ze("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yr});class Pa extends Rs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ii).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Da(this.componentDef.inputs)}get outputs(){return Da(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Na,i);return o!==Na||r===Na?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Bs,It),s=i.get(Ks,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Tt(t))return t.selectRootElement(e,n===P.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Tr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:yr,clean:Wi,playerHandler:null,flags:0},d=Ti(0,null,null,1,0,null,null,null,null,null),f=mi(null,d,h,l,null,null,o,a,s,i);let p,m;ie(f);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=gi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(to(a,u,!0),null!==t&&(we(i,t,u),null!==a.classes&&$r(i,t,a.classes),null!==a.styles&&Kr(i,t,a.styles)));const c=r.createRenderer(t,e),l=mi(n,Oi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Fe(je(a,n),s,e.type),Di(s,a),Pi(a,n.length,1)),Hi(n,l),n[20]=l}(c,this.componentDef,f,o,a);if(c)if(n)we(a,c,["ng-version",Gs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Zr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&we(a,c,t),e&&e.length>0&&$r(a,c,e.join(" "))}if(m=Nt(d,ct),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Ht();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Fi(t,r,e,yi(t,e,1,null),n));const i=He(e,t,r.directiveStart,r);gr(i,e);const o=At(r,e);return o&&gr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Ht();e.contentQueries(1,s,t.directiveStart)}const a=Ht();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(he(a.index),Ni(n[1],a,0,a.directiveStart,a.directiveEnd,e),ji(e,s)),s}(t,this.componentDef,f,h,[vo]),bi(d,f,null)}finally{ce()}return new Fa(this.componentType,p,Ms(m,f),f,m)}}class Fa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new la(r),this.componentType=t}get injector(){return new Ge(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const La=new Map;class Ma extends Sa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ja(this);const n=ut(t),r=t[Q]||null;r&&Os(r),this._bootstrapComponents=br(n.bootstrap),this._r3Injector=co(t,e,[{provide:Sa,useValue:this},{provide:Fs,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=bo.THROW_IF_NOT_FOUND,n=k.Default){return t===bo||t===Sa||t===eo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Va extends Ea{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(t){const e=new Set;!function t(n){const r=ut(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,La.get(i),n),La.set(i,n));const o=br(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ma(this.moduleType,t)}}function Ua(t,e,n){const r=function(){const t=Vt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=qt();return i[r]===oi?function(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}const qa=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Ba(){return this._results[To()]()}class za{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=To(),n=za.prototype;n[e]||(n[e]=Ba)}get changes(){return this._changes||(this._changes=new qa)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=nn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ha{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ha(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ka{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ka(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ou(t,e).matches&&this.queries[e].setDirty()}}class $a{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Ga{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ga(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Qa{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Qa(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Wa(e,i)),this.matchTNodeWithReadOption(t,e,ze(e,t,i,!1,!1))}else n===ba?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ze(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Us||r===Oa||r===ba&&4&e.type)this.addMatch(e.index,-2);else{const n=ze(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Wa(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Xa(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ms(t,e):4&t.type?wa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Us?Ms(e,t):n===ba?wa(e,t):n===Oa?Aa(e,t):void 0}(t,e,r):He(t,t[1],n,e)}function Ya(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Xa(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ja(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Ya(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=lt;t<s.length;t++){const e=s[t];e[17]===e[3]&&Ja(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Ja(n[1],n,i,r)}}}}}return r}function Za(t){const e=qt(),n=Bt(),r=te();ee(r+1);const i=ou(n,r);if(t.dirty&&Rt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Ja(n,e,r,[]):Ya(n,e,i,r);t.reset(o,qs),t.notifyOnChanges()}return!0}return!1}function tu(t,e,n){const r=Bt();r.firstCreatePass&&(iu(r,new $a(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),ru(r,qt(),e)}function eu(t,e,n,r){const i=Bt();if(i.firstCreatePass){const o=Ht();iu(i,new $a(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}ru(i,qt(),n)}function nu(){return t=qt(),e=te(),t[19].queries[e].queryList;var t,e}function ru(t,e,n){const r=new za(4==(4&n));Ii(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ka),e[19].queries.push(new Ha(r))}function iu(t,e,n){null===t.queries&&(t.queries=new Ga),t.queries.track(new Qa(e,n))}function ou(t,e){return t.queries.getByIndex(e)}function su(t=k.Default){const e=fa(!0);if(null!=e||t&k.Optional)return e;v("ChangeDetectorRef")}const au=new Ze("Application Initializer");let uu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ls,this.reject=Ls,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();zo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(bn(au,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const cu=new Ze("AppId"),lu={provide:cu,useFactory:function(){return`${hu()}${hu()}${hu()}`},deps:[]};function hu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const du=new Ze("Platform Initializer"),fu=new Ze("Platform ID"),pu=new Ze("appBootstrapListener");let mu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const gu=new Ze("LocaleId"),yu=new Ze("DefaultCurrencyCode");class bu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const vu=function(t){return new Va(t)},_u=vu,wu=function(t){return Promise.resolve(vu(t))},Su=function(t){const e=vu(t),n=br(ut(t).declarations).reduce((t,e)=>{const n=at(e);return n&&t.push(new Pa(n)),t},[]);return new bu(e,n)},Eu=Su,Cu=function(t){return Promise.resolve(Su(t))};let Ou=(()=>{class t{constructor(){this.compileModuleSync=_u,this.compileModuleAsync=wu,this.compileModuleAndAllComponentsSync=Eu,this.compileModuleAndAllComponentsAsync=Cu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Tu=(()=>Promise.resolve(0))();function Iu(t){"undefined"==typeof Zone?Tu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class xu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qa(!1),this.onMicrotaskEmpty=new qa(!1),this.onStable=new qa(!1),this.onError=new qa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=U.requestAnimationFrame,e=U.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(U,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Nu(t),Au(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Nu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return ju(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Du(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return ju(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Du(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Nu(t),Au(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(xu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ku,Ls,Ls);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const ku={};function Au(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Nu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ju(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Du(t){t._nesting--,Au(t)}class Ru{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qa,this.onMicrotaskEmpty=new qa,this.onStable=new qa,this.onError=new qa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Pu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xu.assertNotInAngularZone(),Iu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Iu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(bn(xu))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),Fu=(()=>{class t{constructor(){this._applications=new Map,Uu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Uu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class Lu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Mu(t){Uu=t}let Vu,Uu=new Lu,qu=!0,Bu=!1;function zu(){return Bu=!0,qu}function Hu(){if(Bu)throw new Error("Cannot enable prod mode after platform setup.");qu=!1}const Ku=new Ze("AllowMultipleToken");class $u{constructor(t,e){this.name=t,this.token=e}}function Gu(t,e,n=[]){const r=`Platform: ${e}`,i=new Ze(r);return(e=[])=>{let o=Qu();if(!o||o.injector.get(Ku,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ro,useValue:"platform"});!function(t){if(Vu&&!Vu.destroyed&&!Vu.injector.get(Ku,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Vu=t.get(Wu);const e=t.get(du,null);e&&e.forEach(t=>t())}(bo.create({providers:t,name:r}))}return function(t){const e=Qu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Qu(){return Vu&&!Vu.destroyed?Vu:null}let Wu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Ru:("zone.js"===t?void 0:t)||new xu({enableLongStackTrace:zu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:xu,useValue:n}];return n.run(()=>{const e=bo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(mr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Ju(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return zo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(uu);return t.runInitializers(),t.donePromise.then(()=>(Os(i.injector.get(gu,Es)||Es),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Xu({},e);return function(t,e,n){const r=new Va(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Yu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(bn(bo))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Xu(t,e){return Array.isArray(e)?e.reduce(Xu,t):Object.assign(Object.assign({},t),e)}let Yu=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{xu.assertNotInAngularZone(),Iu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{xu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(u,c.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Rs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Sa),i=n.create(bo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Pu,null),a=s&&i.injector.get(Fu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Ju(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ju(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(pu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(bn(xu),bn(bo),bn(mr),bn(Fs),bn(uu))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Ju(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Zu{}class tc{}const ec={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let nc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||ec}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>rc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>rc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(bn(Ou),bn(tc,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function rc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class ic extends da{}class oc extends ic{}const sc=function(t){return null},ac=Gu(null,"core",[{provide:fu,useValue:"unknown"},{provide:Wu,deps:[bo]},{provide:Fu,deps:[]},{provide:mu,deps:[]}]),uc=[{provide:Yu,useClass:Yu,deps:[xu,bo,mr,Fs,uu]},{provide:Ra,deps:[xu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:uu,useClass:uu,deps:[[new En,au]]},{provide:Ou,useClass:Ou,deps:[]},lu,{provide:oa,useFactory:function(){return ma},deps:[]},{provide:aa,useFactory:function(){return ga},deps:[]},{provide:gu,useFactory:function(t){return Os(t=t||"undefined"!=typeof $localize&&$localize.locale||Es),t},deps:[[new Sn(gu),new En,new Cn]]},{provide:yu,useValue:"USD"}];let cc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(bn(Yu))},t.\u0275mod=nt({type:t}),t.\u0275inj=w({providers:uc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("z6cu");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return C}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return f}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return d}),n.d(e,"p",function(){return m});var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?b(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new g(i,a,r);return u},t}();function b(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new S(t,e);return n.subscribe.bind(n)}var S=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}function C(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return S});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(m.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.s("angularfire2.app.options"),v=new u.s("angularfire2.app.nameOrConfig"),_=new u.R("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const S=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.Y)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:w,deps:[b,u.B,[new u.C,v]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.Q.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Xb(u.D))},t.\u0275mod=u.Lb({type:t}),t.\u0275inj=u.Kb({providers:[O]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),o=n("Y7HM");class s extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(o.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new s(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(s.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new s(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),o=n("XNiG");function s(){return new o.a}function a(){return t=>{return Object(i.a)()((e=s,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.f)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.20",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.s("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Xb)(l)}const c=new r.s("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(s))},t.\u0275prov=Object(r.Jb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(r.Xb)(s))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Xb)(s).location;return new v(Object(r.Xb)(a),e&&e.origin||"")}const b=new r.s("appBaseHref");let v=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(a),r.Xb(b,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(a),r.Xb(b,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.o,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(g),r.Xb(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Jb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new w(Object(r.Xb)(g),Object(r.Xb)(a))}function E(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const O=r.pb;class T{}let I=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(O(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.w))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();function x(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class k{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new k(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new N(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new N(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.S),r.Nb(r.N),r.Nb(r.u))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class N{constructor(t,e){this.record=t,this.view=e}}let j=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.S),r.Nb(r.N))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.yb)(e)}'.`)}class P{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let F=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),L=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new P(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.S),r.Nb(r.N),r.Nb(F,1))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[{provide:T,useClass:I}]}),t})();function V(t){return"server"===t}let U=(()=>{class t{}return t.\u0275prov=Object(r.Jb)({token:t,providedIn:"root",factory:()=>new q(Object(r.Xb)(s),window)}),t})();class q{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=B(this.window.history)||B(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function B(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class z extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new z,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=K||(K=document.querySelector("base"),K)?K.getAttribute("href"):null;return null==e?null:(n=e,H||(H=document.createElement("a")),H.setAttribute("href",n),"/"===H.pathname.charAt(0)?H.pathname:"/"+H.pathname);var n}resetBaseElement(){K=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return x(document.cookie,t)}}let H,K=null;const $=new r.s("TRANSITION_ID"),G=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[$,s,r.t],multi:!0}];class Q{static init(){Object(r.ab)(new Q)}addToWindow(t){r.rb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.rb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.rb.getAllAngularRootElements=()=>t.getAllRootElements(),r.rb.frameworkStabilizers||(r.rb.frameworkStabilizers=[]),r.rb.frameworkStabilizers.push(t=>{const e=r.rb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const W=new r.s("EventManagerPlugins");let X=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(W),r.Xb(r.B))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class Y{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let J=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),Z=(()=>{class t extends J{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(s))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const tt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},et=/%COMP%/g;function nt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?nt(t,i,n):(i=i.replace(et,t),n.push(i))}return n}function rt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let it=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ot(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.T.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new st(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.T.ShadowDom:return new at(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=nt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(X),r.Xb(Z),r.Xb(r.c))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class ot{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(tt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=tt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=tt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.I.DashCase|r.I.Important)?t.style.setProperty(e,n,i&r.I.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.I.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,rt(n)):this.eventManager.addEventListener(t,e,rt(n))}}class st extends ot{constructor(t,e,n,r){super(t),this.component=n;const i=nt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(et,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(et,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class at extends ot{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=nt(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ut=(()=>{class t extends Y{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(s))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const ct=["alt","control","meta","shift"],lt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ht={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},dt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ft=(()=>{class t extends Y{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(ct.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ht.hasOwnProperty(e)&&(e=ht[e]))}return lt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ct.forEach(r=>{r!=n&&(0,dt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(s))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),pt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return Object(r.Xb)(mt)},token:t,providedIn:"root"}),t})(),mt=(()=>{class t extends pt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.K.NONE:return e;case r.K.HTML:return Object(r.gb)(e,"HTML")?Object(r.zb)(e):Object(r.eb)(this._doc,String(e)).toString();case r.K.STYLE:return Object(r.gb)(e,"Style")?Object(r.zb)(e):e;case r.K.SCRIPT:if(Object(r.gb)(e,"Script"))return Object(r.zb)(e);throw new Error("unsafe value used in a script context");case r.K.URL:return Object(r.qb)(e),Object(r.gb)(e,"URL")?Object(r.zb)(e):Object(r.fb)(String(e));case r.K.RESOURCE_URL:if(Object(r.gb)(e,"ResourceURL"))return Object(r.zb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.hb)(t)}bypassSecurityTrustStyle(t){return Object(r.kb)(t)}bypassSecurityTrustScript(t){return Object(r.jb)(t)}bypassSecurityTrustUrl(t){return Object(r.lb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.ib)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(s))},t.\u0275prov=Object(r.Jb)({factory:function(){return t=Object(r.Xb)(r.p),new mt(t.get(s));var t},token:t,providedIn:"root"}),t})();const gt=[{provide:r.D,useValue:"browser"},{provide:r.E,useValue:function(){z.makeCurrent(),Q.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.xb)(document),document},deps:[]}],yt=Object(r.U)(r.Z,"browser",gt),bt=[[],{provide:r.cb,useValue:"root"},{provide:r.n,useFactory:function(){return new r.n},deps:[]},{provide:W,useClass:ut,multi:!0,deps:[s,r.B,r.D]},{provide:W,useClass:ft,multi:!0,deps:[s]},[],{provide:it,useClass:it,deps:[X,Z,r.c]},{provide:r.H,useExisting:it},{provide:J,useExisting:Z},{provide:Z,useClass:Z,deps:[s]},{provide:r.O,useClass:r.O,deps:[r.B]},{provide:X,useClass:X,deps:[W,r.B]},[]];let vt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:$,useExisting:r.c},G]}}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(t,12))},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:bt,imports:[M,r.f]}),t})();"undefined"!=typeof window&&window;var _t=n("Cfvw"),wt=n("LRne"),St=n("XNiG"),Et=n("9ppp");class Ct extends St.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Et.a;return this._value}next(t){super.next(this._value=t)}}var Ot=n("z+Ro"),Tt=n("DH7j"),It=n("7o/Q");class xt extends It.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class kt extends It.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var At=n("SeVD"),Nt=n("HDdC");function jt(t,e,n,r,i=new kt(t,n,r)){if(!i.closed)return e instanceof Nt.a?e.subscribe(i):Object(At.a)(e)(i)}var Dt=n("yCtX");const Rt={};class Pt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ft(t,this.resultSelector))}}class Ft extends xt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Rt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(jt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Rt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Lt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Mt=n("bHdf");function Vt(...t){return Object(Mt.a)(1)(Object(wt.a)(...t))}var Ut=n("EY2u");function qt(t){return new Nt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(_t.a)(n):Object(Ut.b)()).subscribe(e)})}var Bt=n("EQ5u"),zt=n("lJxs"),Ht=n("zx2A");function Kt(t,e){return"function"==typeof e?n=>n.pipe(Kt((n,r)=>Object(_t.a)(t(n,r)).pipe(Object(zt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new $t(t))}class $t{constructor(t){this.project=t}call(t,e){return e.subscribe(new Gt(t,this.project))}}class Gt extends Ht.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Ht.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Ht.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Qt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Wt(t){return e=>0===t?Object(Ut.b)():e.lift(new Xt(t))}class Xt{constructor(t){if(this.total=t,this.total<0)throw new Qt}call(t,e){return e.subscribe(new Yt(t,this.total))}}class Yt extends It.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Jt(...t){const e=t[t.length-1];return Object(Ot.a)(e)?(t.pop(),n=>Vt(t,n,e)):e=>Vt(t,e)}function Zt(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new te(t,e,n))}}class te{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ee(t,this.accumulator,this.seed,this.hasSeed))}}class ee extends It.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ne(t,e){return function(n){return n.lift(new re(t,e))}}class re{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ie(t,this.predicate,this.thisArg))}}class ie extends It.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function oe(t){return function(e){const n=new se(t),r=e.lift(n);return n.caught=r}}class se{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ae(t,this.selector,this.caught))}}class ae extends Ht.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Ht.a(this);this.add(r);const i=Object(Ht.c)(n,r);i!==r&&this.add(i)}}}var ue=n("5+tZ");function ce(t,e){return Object(ue.a)(t,e,1)}function le(t){return function(e){return 0===t?Object(Ut.b)():e.lift(new he(t))}}class he{constructor(t){if(this.total=t,this.total<0)throw new Qt}call(t,e){return e.subscribe(new de(t,this.total))}}class de extends It.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function fe(t=ge){return e=>e.lift(new pe(t))}class pe{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new me(t,this.errorFactory))}}class me extends It.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(SC){t=SC}this.destination.error(t)}}}function ge(){return new Lt}function ye(t=null){return e=>e.lift(new be(t))}class be{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ve(t,this.defaultValue))}}class ve extends It.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var _e=n("SpAZ");function we(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ne((e,n)=>t(e,n,r)):_e.a,Wt(1),n?ye(e):fe(()=>new Lt))}var Se=n("vkgz"),Ee=n("x+ZX"),Ce=n("quSY");function Oe(t){return e=>e.lift(new Te(t))}class Te{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ie(t,this.callback))}}class Ie extends It.a{constructor(t,e){super(t),this.add(new Ce.a(e))}}class xe{constructor(t,e){this.id=t,this.url=e}}class ke extends xe{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ae extends xe{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ne extends xe{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class je extends xe{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class De extends xe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re extends xe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pe extends xe{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fe extends xe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Le extends xe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ve{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ue{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Be{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class He{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ke="primary";class $e{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ge(t){return new $e(t)}function Qe(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function We(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Xe(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Ye(t[i],e[i]))return!1;return!0}function Ye(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Je(t){return Array.prototype.concat.apply([],t)}function Ze(t){return t.length>0?t[t.length-1]:null}function tn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function en(t){return Object(r.tb)(t)?t:Object(r.ub)(t)?Object(_t.a)(Promise.resolve(t)):Object(wt.a)(t)}function nn(t,e,n){return n?function(t,e){return Xe(t,e)}(t.queryParams,e.queryParams)&&rn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ye(t[n],e[n]))}(t.queryParams,e.queryParams)&&on(t.root,e.root)}function rn(t,e){if(!ln(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!rn(t.children[n],e.children[n]))return!1}return!0}function on(t,e){return sn(t,e,e.segments)}function sn(t,e,n){if(t.segments.length>n.length)return!!ln(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!ln(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!on(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!ln(t.segments,r)&&!!t.children.primary&&sn(t.children.primary,e,i)}}class an{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return fn.serialize(this)}}class un{constructor(t,e){this.segments=t,this.children=e,this.parent=null,tn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pn(this)}}class cn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ge(this.parameters)),this._parameterMap}toString(){return wn(this)}}function ln(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class hn{}class dn{parse(t){const e=new Tn(t);return new an(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${mn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${yn(e)}=${yn(t)}`).join("&"):`${yn(e)}=${yn(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const fn=new dn;function pn(t){return t.segments.map(t=>wn(t)).join("/")}function mn(t,e){if(!t.hasChildren())return pn(t);if(e){const e=t.children.primary?mn(t.children.primary,!1):"",n=[];return tn(t.children,(t,e)=>{e!==Ke&&n.push(`${e}:${mn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return tn(t.children,(t,r)=>{r===Ke&&(n=n.concat(e(t,r)))}),tn(t.children,(t,r)=>{r!==Ke&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Ke?[mn(t.children.primary,!1)]:[`${n}:${mn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${pn(t)}/${e[0]}`:`${pn(t)}/(${e.join("//")})`}}function gn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yn(t){return gn(t).replace(/%3B/gi,";")}function bn(t){return gn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vn(t){return decodeURIComponent(t)}function _n(t){return vn(t.replace(/\+/g,"%20"))}function wn(t){return`${bn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${bn(t)}=${bn(e[t])}`).join("")}`;var e}const Sn=/^[^\/()?;=#]+/;function En(t){const e=t.match(Sn);return e?e[0]:""}const Cn=/^[^=?&#]+/,On=/^[^?&#]+/;class Tn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new un(t,e)),n}parseSegment(){const t=En(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new cn(vn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=En(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=En(this.remaining);t&&(n=t,this.capture(n))}t[vn(e)]=vn(n)}parseQueryParam(t){const e=function(t){const e=t.match(Cn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(On);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=_n(e),i=_n(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=En(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ke);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new un([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class In{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=xn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=xn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=kn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return kn(t,this._root).map(t=>t.value)}}function xn(t,e){if(t===e.value)return e;for(const n of e.children){const e=xn(t,n);if(e)return e}return null}function kn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=kn(t,n);if(r.length)return r.unshift(e),r}return[]}class An{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Nn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class jn extends In{constructor(t,e){super(t),this.snapshot=e,Mn(this,t)}toString(){return this.snapshot.toString()}}function Dn(t,e){const n=function(t,e){const n=new Fn([],{},{},"",{},Ke,e,null,t.root,-1,{});return new Ln("",new An(n,[]))}(t,e),r=new Ct([new cn("",{})]),i=new Ct({}),o=new Ct({}),s=new Ct({}),a=new Ct(""),u=new Rn(r,i,s,a,o,Ke,e,n.root);return u.snapshot=n.root,new jn(new An(u,[]),n)}class Rn{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(zt.a)(t=>Ge(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(zt.a)(t=>Ge(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Fn{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ge(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ln extends In{constructor(t,e){super(e),this.url=t,Mn(this,e)}toString(){return Vn(this._root)}}function Mn(t,e){e.value._routerState=t,e.children.forEach(e=>Mn(t,e))}function Vn(t){const e=t.children.length>0?` { ${t.children.map(Vn).join(", ")} } `:"";return`${t.value}${e}`}function Un(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xe(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Xe(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xe(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Xe(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function qn(t,e){return Xe(t.params,e.params)&&function(t,e){return ln(t,e)&&t.every((t,n)=>Xe(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||qn(t.parent,e.parent))}function Bn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Bn(t,e,r);return Bn(t,e)})}(t,e,n);return new An(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return zn(e,t),t}{const n=new Rn(new Ct((r=e.value).url),new Ct(r.params),new Ct(r.queryParams),new Ct(r.fragment),new Ct(r.data),r.outlet,r.component,r),i=e.children.map(e=>Bn(t,e));return new An(n,i)}}var r}function zn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)zn(t.children[n],e.children[n])}function Hn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Kn(t){return"object"==typeof t&&null!=t&&t.outlets}function $n(t,e,n,r,i){let o={};return r&&tn(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new an(n.root===t?e:Gn(n.root,t,e),o,i)}function Gn(t,e,n){const r={};return tn(t.children,(t,i)=>{r[i]=t===e?n:Gn(t,e,n)}),new un(t.segments,r)}class Qn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Hn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Kn);if(r&&r!==Ze(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Xn(t,e,n){if(t||(t=new un([],{})),0===t.segments.length&&t.hasChildren())return Yn(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Kn(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!er(a,u,e))return o;r+=2}else{if(!er(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new un(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new un(t.segments.slice(r.pathIndex),t.children),Yn(e,0,i)}return r.match&&0===i.length?new un(t.segments,{}):r.match&&!t.hasChildren()?Jn(t,e,n):r.match?Yn(t,0,i):Jn(t,e,n)}function Yn(t,e,n){if(0===n.length)return new un(t.segments,{});{const r=function(t){return Kn(t[0])?t[0].outlets:{[Ke]:t}}(n),i={};return tn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Xn(t.children[r],e,n))}),tn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new un(t.segments,i)}}function Jn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Kn(o)){const t=Zn(o.outlets);return new un(r,t)}if(0===i&&Hn(n[0])){r.push(new cn(t.segments[e].path,tr(n[0]))),i++;continue}const s=Kn(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Hn(a)?(r.push(new cn(s,tr(a))),i+=2):(r.push(new cn(s,{})),i++)}return new un(r,{})}function Zn(t){const e={};return tn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Jn(new un([],{}),0,t))}),e}function tr(t){const e={};return tn(t,(t,n)=>e[n]=`${t}`),e}function er(t,e,n){return t==n.path&&Xe(e,n.parameters)}class nr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Un(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Nn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),tn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Nn(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=Nn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new ze(t.value.snapshot))}),t.children.length&&this.forwardEvent(new qe(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Un(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),rr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function rr(t){Un(t.value),t.children.forEach(rr)}class ir{constructor(t,e){this.routes=t,this.module=e}}function or(t){return"function"==typeof t}function sr(t){return t instanceof an}const ar=Symbol("INITIAL_VALUE");function ur(){return Kt(t=>function(...t){let e,n;return Object(Ot.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Tt.a)(t[0])&&(t=t[0]),Object(Dt.a)(t,n).lift(new Pt(e))}(t.map(t=>t.pipe(Wt(1),Jt(ar)))).pipe(Zt((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ar)return t;if(r===ar&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||sr(r))return r}return t},t)},ar),ne(t=>t!==ar),Object(zt.a)(t=>sr(t)?t:!0===t),Wt(1)))}let cr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Ob(0,"router-outlet")},directives:function(){return[ni]},encapsulation:2}),t})();function lr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];hr(r,dr(e,r))}}function hr(t,e){t.children&&lr(t.children,e)}function dr(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function fr(t){const e=t.children&&t.children.map(fr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ke&&(n.component=cr),n}function pr(t){return t.outlet||Ke}function mr(t,e){const n=t.filter(t=>pr(t)===e);return n.push(...t.filter(t=>pr(t)!==e)),n}const gr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function yr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},gr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||We)(n,t,e);if(!i)return Object.assign({},gr);const o={};tn(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function br(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>vr(t,e,n)&&pr(n)!==Ke)}(t,n,r)){const i=new un(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&pr(o)!==Ke){const n=new un([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[pr(o)]=n}return i}(t,e,r,new un(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>vr(t,e,n))}(t,n,r)){const o=new un(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(vr(t,n,a)&&!i[pr(a)]){const n=new un([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[pr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new un(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function vr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function _r(t,e,n,r){return!!(pr(t)===r||r!==Ke&&vr(e,n,t))&&("**"===t.path||yr(e,t,n).matched)}function wr(t,e,n){return 0===e.length&&!t.children[n]}class Sr{constructor(t){this.segmentGroup=t||null}}class Er{constructor(t){this.urlTree=t}}function Cr(t){return new Nt.a(e=>e.error(new Sr(t)))}function Or(t){return new Nt.a(e=>e.error(new Er(t)))}function Tr(t){return new Nt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ir{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.z)}apply(){const t=br(this.urlTree.root,[],[],this.config).segmentGroup,e=new un(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ke).pipe(Object(zt.a)(t=>this.createUrlTree(xr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(oe(t=>{if(t instanceof Er)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Sr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ke).pipe(Object(zt.a)(e=>this.createUrlTree(xr(e),t.queryParams,t.fragment))).pipe(oe(t=>{if(t instanceof Sr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new un([],{[Ke]:t}):t;return new an(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(zt.a)(t=>new un([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(_t.a)(r).pipe(ce(r=>{const i=n.children[r],o=mr(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(zt.a)(t=>({segment:t,outlet:r})))}),Zt((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ne((e,n)=>t(e,n,r)):_e.a,le(1),n?ye(e):fe(()=>new Lt))}())}expandSegment(t,e,n,r,i,o){return Object(_t.a)(n).pipe(ce(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(oe(t=>{if(t instanceof Sr)return Object(wt.a)(null);throw t}))),we(t=>!!t),oe((t,n)=>{if(t instanceof Lt||"EmptyError"===t.name){if(wr(e,r,i))return Object(wt.a)(new un([],{}));throw new Sr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return _r(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Cr(e):Cr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Or(i):this.lineralizeSegments(n,i).pipe(Object(ue.a)(n=>{const i=new un(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=yr(e,r,i);if(!s)return Cr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Or(l):this.lineralizeSegments(r,l).pipe(Object(ue.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(wt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(zt.a)(t=>(n._loadedConfig=t,new un(r,{})))):Object(wt.a)(new un(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=yr(e,n,r);if(!o)return Cr(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(ue.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=br(e,s,u,o),l=new un(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(zt.a)(t=>new un(s,t)));if(0===o.length&&0===c.length)return Object(wt.a)(new un(s,{}));const h=pr(n)===i;return this.expandSegment(r,l,o,c,h?Ke:i,!0).pipe(Object(zt.a)(t=>new un(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(wt.a)(new ir(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(wt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ue.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(zt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Nt.a(e=>e.error(Qe(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(wt.a)(new ir([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(wt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&or(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!or(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return en(o)});return Object(wt.a)(i).pipe(ur(),Object(Se.a)(t=>{if(!sr(t))return;const e=Qe(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(zt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(wt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Tr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new an(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return tn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return tn(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new un(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function xr(t){const e={};for(const n of Object.keys(t.children)){const r=xr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new un(t.segments.concat(e.segments),e.children)}return t}(new un(t.segments,e))}class kr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ar{constructor(t,e){this.component=t,this.route=e}}function Nr(t,e,n){const r=t._root;return Dr(r,e?e._root:null,n,[r.value])}function jr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Dr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Nn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ln(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ln(t.url,e.url)||!Xe(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qn(t,e)||!Xe(t.queryParams,e.queryParams);case"paramsChange":default:return!qn(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new kr(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Dr(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ar(a.outlet.component,s))}else s&&Rr(e,a,i),i.canActivateChecks.push(new kr(r)),Dr(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),tn(o,(t,e)=>Rr(t,n.getContext(e),i)),i}function Rr(t,e,n){const r=Nn(t),i=t.value;tn(r,(t,r)=>{Rr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ar(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Pr{}function Fr(t){return new Nt.a(e=>e.error(t))}class Lr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=br(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ke);if(null===e)return null;const n=new Fn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ke,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new An(n,e),i=new Ln(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Pn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=mr(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!Mr(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===Ke?-1:e.value.outlet===Ke?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return wr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!_r(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Ze(n).parameters:{};i=new Fn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qr(t),pr(t),t.component,t,Vr(e),Ur(e)+n.length,Br(t))}else{const r=yr(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Fn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qr(t),pr(t),t.component,t,Vr(e),Ur(e)+o.length,Br(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=br(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new An(i,t)]}if(0===a.length&&0===c.length)return[new An(i,[])];const l=pr(t)===r,h=this.processSegment(a,u,c,l?Ke:r);return null===h?null:[new An(i,h)]}}function Mr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Vr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ur(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function qr(t){return t.data||{}}function Br(t){return t.resolve||{}}function zr(t){return Kt(e=>{const n=t(e);return n?Object(_t.a)(n).pipe(Object(zt.a)(()=>e)):Object(wt.a)(e)})}class Hr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Kr=new r.s("ROUTES");class $r{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(zt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new ir(Je(i.injector.get(Kr,void 0,r.r.Self|r.r.Optional)).map(fr),i)}),oe(t=>{throw e._loader$=void 0,t}));return e._loader$=new Bt.a(n,()=>new St.a).pipe(Object(Ee.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(_t.a)(this.loader.load(t)):en(t()).pipe(Object(ue.a)(t=>t instanceof r.x?Object(wt.a)(t):Object(_t.a)(this.compiler.compileModuleAsync(t))))}}class Gr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Qr,this.attachRef=null}}class Qr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Gr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Wr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Xr(t){throw t}function Yr(t,e,n){return e.parse("/")}function Jr(t,e){return Object(wt.a)(null)}let Zr=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new St.a,this.errorHandler=Xr,this.malformedUriErrorHandler=Yr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Jr,afterPreactivation:Jr},this.urlHandlingStrategy=new Wr,this.routeReuseStrategy=new Hr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.z),this.console=o.get(r.bb);const c=o.get(r.B);this.isNgZoneEnabled=c instanceof r.B&&r.B.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new an(new un([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $r(s,a,t=>this.triggerEvent(new Me(t)),t=>this.triggerEvent(new Ve(t))),this.routerState=Dn(this.currentUrlTree,this.rootComponentType),this.transitions=new Ct({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ne(t=>0!==t.id),Object(zt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Kt(t=>{let n=!1,r=!1;return Object(wt.a)(t).pipe(Object(Se.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Kt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(wt.a)(t).pipe(Kt(t=>{const n=this.transitions.getValue();return e.next(new ke(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ut.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Kt(t=>function(t,e,n,r,i){return new Ir(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(zt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Se.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(ue.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Lr(t,e,n,r,i,o).recognize();return null===s?Fr(new Pr):Object(wt.a)(s)}catch(SC){return Fr(SC)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(zt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Se.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new ke(n,this.serializeUrl(r),i,o);e.next(a);const u=Dn(r,this.rootComponentType).snapshot;return Object(wt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ut.a}),zr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Se.a)(t=>{const e=new Re(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(zt.a)(t=>Object.assign(Object.assign({},t),{guards:Nr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(ue.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(wt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(_t.a)(t).pipe(Object(ue.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(wt.a)(!0);const s=o.map(o=>{const s=jr(o,e,i);let a;if(function(t){return t&&or(t.canDeactivate)}(s))a=en(s.canDeactivate(t,e,n,r));else{if(!or(s))throw new Error("Invalid CanDeactivate guard");a=en(s(t,e,n,r))}return a.pipe(we())});return Object(wt.a)(s).pipe(ur())}(t.component,t.route,n,e,r)),we(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(ue.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(_t.a)(e).pipe(ce(e=>Vt(function(t,e){return null!==t&&e&&e(new Ue(t)),Object(wt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Be(t)),Object(wt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>qt(()=>{const i=e.guards.map(i=>{const o=jr(i,e.node,n);let s;if(function(t){return t&&or(t.canActivateChild)}(o))s=en(o.canActivateChild(r,t));else{if(!or(o))throw new Error("Invalid CanActivateChild guard");s=en(o(r,t))}return s.pipe(we())});return Object(wt.a)(i).pipe(ur())}));return Object(wt.a)(i).pipe(ur())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(wt.a)(!0);const i=r.map(r=>qt(()=>{const i=jr(r,e,n);let o;if(function(t){return t&&or(t.canActivate)}(i))o=en(i.canActivate(e,t));else{if(!or(i))throw new Error("Invalid CanActivate guard");o=en(i(e,t))}return o.pipe(we())}));return Object(wt.a)(i).pipe(ur())}(t,e.route,n))),we(t=>!0!==t,!0))}(r,o,t,e):Object(wt.a)(n)),Object(zt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Se.a)(t=>{if(sr(t.guardsResult)){const e=Qe(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Pe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ne(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ne(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),zr(t=>{if(t.guards.canActivateChecks.length)return Object(wt.a)(t).pipe(Object(Se.a)(t=>{const e=new Fe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Kt(t=>{let n=!1;return Object(wt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(ue.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(wt.a)(t);let o=0;return Object(_t.a)(n).pipe(ce(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(wt.a)({});const o={};return Object(_t.a)(i).pipe(Object(ue.a)(i=>function(t,e,n,r){const i=jr(t,e,r);return en(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Se.a)(t=>{o[i]=t}))),le(1),Object(ue.a)(()=>Object.keys(o).length===i.length?Object(wt.a)(o):Ut.a))}(t._resolve,t,e,r).pipe(Object(zt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Pn(t,n).resolve),null)))}(t.route,e,r,i)),Object(Se.a)(()=>o++),le(1),Object(ue.a)(e=>o===n.length?Object(wt.a)(t):Ut.a))})),Object(Se.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Ne(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Se.a)(t=>{const e=new Le(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),zr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(zt.a)(t=>{const e=function(t,e,n){const r=Bn(t,e._root,n?n._root:void 0);return new jn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Se.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),Object(zt.a)(t=>(new nr(o,t.targetRouterState,t.currentRouterState,s).activate(i),t))),Object(Se.a)({next(){n=!0},complete(){n=!0}}),Oe(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ne(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),oe(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=sr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ne(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new je(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Ym){t.reject(Ym)}}var i;return Ut.a}));var i,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){lr(t),this.config=t.map(fr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return $n(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Qn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return tn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Qn(n,e,r)}(n);if(o.toRoot())return $n(e.root,new un([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Wn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Wn(t,t===e.root,0)}const r=Hn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Wn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Yn(s.segmentGroup,s.index,o.commands):Xn(s.segmentGroup,s.index,o.commands);return $n(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=sr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(SC){e=this.malformedUriErrorHandler(SC,this.urlSerializer,t)}return e}isActive(t,e){if(sr(t))return nn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return nn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Ae(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.P),r.Xb(hn),r.Xb(Qr),r.Xb(w),r.Xb(r.t),r.Xb(r.y),r.Xb(r.i),r.Xb(void 0))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),ti=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new St.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:ei(this.skipLocationChange),replaceUrl:ei(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ei(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Zr),r.Nb(Rn),r.Yb("tabindex"),r.Nb(r.G),r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.ac("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Bb]}),t})();function ei(t){return""===t||!!t}let ni=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.o,this.deactivateEvents=new r.o,this.name=i||Ke,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ri(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Qr),r.Nb(r.S),r.Nb(r.j),r.Yb("name"),r.Nb(r.h))},t.\u0275dir=r.Ib({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ri{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Rn?this.route:t===Qr?this.childContexts:this.parent.get(t,e)}}class ii{}class oi{preload(t,e){return Object(wt.a)(null)}}let si=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new $r(e,n,e=>t.triggerEvent(new Me(e)),e=>t.triggerEvent(new Ve(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ne(t=>t instanceof Ae),ce(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.z);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(_t.a)(n).pipe(Object(Mt.a)(),Object(zt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(wt.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(ue.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Zr),r.Xb(r.y),r.Xb(r.i),r.Xb(r.t),r.Xb(ii))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),ai=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ke?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ae&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof He&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new He(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Zr),r.Xb(U),r.Xb(void 0))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const ui=new r.s("ROUTER_CONFIGURATION"),ci=new r.s("ROUTER_FORROOT_GUARD"),li=[w,{provide:hn,useClass:dn},{provide:Zr,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new Zr(null,t,e,n,r,i,s,Je(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[hn,Qr,w,r.t,r.y,r.i,Kr,ui,[class{},new r.C],[class{},new r.C]]},Qr,{provide:Rn,useFactory:function(t){return t.routerState.root},deps:[Zr]},{provide:r.y,useClass:r.M},si,oi,class{preload(t,e){return e().pipe(oe(()=>Object(wt.a)(null)))}},{provide:ui,useValue:{enableTracing:!1}}];function hi(){return new r.A("Router",Zr)}let di=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[li,gi(e),{provide:ci,useFactory:mi,deps:[[Zr,new r.C,new r.L]]},{provide:ui,useValue:n||{}},{provide:g,useFactory:pi,deps:[a,[new r.q(b),new r.C],ui]},{provide:ai,useFactory:fi,deps:[Zr,U,ui]},{provide:ii,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:oi},{provide:r.A,multi:!0,useFactory:hi},[yi,{provide:r.d,multi:!0,useFactory:bi,deps:[yi]},{provide:_i,useFactory:vi,deps:[yi]},{provide:r.b,multi:!0,useExisting:_i}]]}}static forChild(e){return{ngModule:t,providers:[gi(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(ci,8),r.Xb(Zr,8))},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({}),t})();function fi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ai(t,e,n)}function pi(t,e,n={}){return n.useHash?new _(t,e):new v(t,e)}function mi(t){return"guarded"}function gi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Kr,multi:!0,useValue:t}]}let yi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new St.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Zr),r=this.injector.get(ui);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(wt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(ui),n=this.injector.get(si),i=this.injector.get(ai),o=this.injector.get(Zr),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.t))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();function bi(t){return t.appInitializer.bind(t)}function vi(t){return t.bootstrapListener.bind(t)}const _i=new r.s("Router Initializer");class wi{}class Si{}class Ei{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ei?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ei;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ei?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Ci{encodeKey(t){return Oi(t)}encodeValue(t){return Oi(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Oi(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Ti{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ci,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ti({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Ii(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function xi(t){return"undefined"!=typeof Blob&&t instanceof Blob}function ki(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Ai{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Ei),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Ti,this.urlWithParams=e}serializeBody(){return null===this.body?null:Ii(this.body)||xi(this.body)||ki(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ti?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ki(this.body)?null:xi(this.body)?this.body.type||null:Ii(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ti?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new Ai(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var Ni=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class ji{constructor(t,e=200,n="OK"){this.headers=t.headers||new Ei,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Di extends ji{constructor(t={}){super(t),this.type=Ni.ResponseHeader}clone(t={}){return new Di({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ri extends ji{constructor(t={}){super(t),this.type=Ni.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Ri({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Pi extends ji{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Fi(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Li=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Ai)r=t;else{let i,o;i=n.headers instanceof Ei?n.headers:new Ei(n.headers),n.params&&(o=n.params instanceof Ti?n.params:new Ti({fromObject:n.params})),r=new Ai(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(wt.a)(r).pipe(ce(t=>this.handler.handle(t)));if(t instanceof Ai||"events"===n.observe)return i;const o=i.pipe(ne(t=>t instanceof Ri));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(zt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(zt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(zt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(zt.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Ti).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Fi(n,e))}post(t,e,n={}){return this.request("POST",t,Fi(n,e))}put(t,e,n={}){return this.request("PUT",t,Fi(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(wi))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class Mi{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Vi=new r.s("HTTP_INTERCEPTORS");let Ui=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const qi=/^\)\]\}',?\n/;class Bi{}let zi=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),Hi=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Nt.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new Ei(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Di({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(qi,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new Ri({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new Pi({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new Pi({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:Ni.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:Ni.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:Ni.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Bi))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const Ki=new r.s("XSRF_COOKIE_NAME"),$i=new r.s("XSRF_HEADER_NAME");class Gi{}let Qi=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=x(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(s),r.Xb(r.D),r.Xb(Ki))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),Wi=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Gi),r.Xb($i))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),Xi=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Vi,[]);this.chain=t.reduceRight((t,e)=>new Mi(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Si),r.Xb(r.t))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),Yi=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Wi,useClass:Ui}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Ki,useValue:e.cookieName}:[],e.headerName?{provide:$i,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[Wi,{provide:Vi,useExisting:Wi,multi:!0},{provide:Gi,useClass:Qi},{provide:Ki,useValue:"XSRF-TOKEN"},{provide:$i,useValue:"X-XSRF-TOKEN"}]}),t})(),Ji=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[Li,{provide:wi,useClass:Xi},Hi,{provide:Si,useExisting:Hi},zi,{provide:Bi,useExisting:zi}],imports:[[Yi.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),Zi=(()=>{class t{constructor(t){this.http=t}getCourses(){return this.http.get("https://golf-courses-api.herokuapp.com/courses/")}getCourseData(t){return this.http.get(`https://golf-courses-api.herokuapp.com/courses/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Li))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class to{}const eo="*";function no(t,e){return{type:7,name:t,definitions:e,options:{}}}function ro(t,e=null){return{type:4,styles:e,timings:t}}function io(t,e=null){return{type:2,steps:t,options:e}}function oo(t){return{type:6,styles:t,offset:null}}function so(t,e,n){return{type:0,name:t,styles:e,options:n}}function ao(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function uo(t){Promise.resolve(null).then(t)}class co{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){uo(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class lo{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?uo(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function ho(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function fo(t){switch(t.length){case 0:return new co;case 1:return t[0];default:return new lo(t)}}function po(t,e,n,r,i={},o={}){const s=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case eo:a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a}),r||a.push(l),c=l,u=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function mo(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&go(n,"start",t)));break;case"done":t.onDone(()=>r(n&&go(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&go(n,"destroy",t)))}}function go(t,e,n){const r=n.totalTime,i=yo(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function yo(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function bo(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function vo(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let _o=(t,e)=>!1,wo=(t,e)=>!1,So=(t,e,n)=>[];const Eo=ho();(Eo||"undefined"!=typeof Element)&&(_o=(t,e)=>t.contains(e),wo=(()=>{if(Eo||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):wo}})(),So=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Co=null,Oo=!1;function To(t){Co||(Co=("undefined"!=typeof document?document.body:null)||{},Oo=!!Co.style&&"WebkitAppearance"in Co.style);let e=!0;return Co.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Co.style,!e&&Oo)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Co.style),e}const Io=wo,xo=_o,ko=So;function Ao(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let No=(()=>{class t{validateStyleProperty(t){return To(t)}matchesElement(t,e){return Io(t,e)}containsElement(t,e){return xo(t,e)}query(t,e,n){return ko(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new co(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),jo=(()=>{class t{}return t.NOOP=new No,t})();const Do="ng-enter",Ro="ng-leave",Po="ng-trigger",Fo=".ng-trigger",Lo="ng-animating",Mo=".ng-animating";function Vo(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Uo(parseFloat(e[1]),e[2])}function Uo(t,e){switch(e){case"s":return 1e3*t;default:return t}}function qo(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Uo(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=Uo(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function Bo(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function zo(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Bo(t,n);return n}function Ho(t,e,n){return n?e+":"+n+";":""}function Ko(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Ho(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Ho(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function $o(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=ts(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),ho()&&Ko(t))}function Go(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=ts(e);t.style[n]=""}),ho()&&Ko(t))}function Qo(t){return Array.isArray(t)?1==t.length?t[0]:io(t):t}const Wo=new RegExp("{{\\s*(.+?)\\s*}}","g");function Xo(t){let e=[];if("string"==typeof t){let n;for(;n=Wo.exec(t);)e.push(n[1]);Wo.lastIndex=0}return e}function Yo(t,e,n){const r=t.toString(),i=r.replace(Wo,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function Jo(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Zo=/-+([a-z0-9])/g;function ts(t){return t.replace(Zo,(...t)=>t[1].toUpperCase())}function es(t,e){return 0===t||0===e}function ns(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach(function(e){n[e]=is(t,e)})}}return e}function rs(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function is(t,e){return window.getComputedStyle(t)[e]}const os="*";function ss(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(cs(i,s)),"<"!=o[0]||i==os&&s==os||e.push(cs(s,i))}(t,n,e)):n.push(t),n}const as=new Set(["true","1"]),us=new Set(["false","0"]);function cs(t,e){const n=as.has(t)||us.has(t),r=as.has(e)||us.has(e);return(i,o)=>{let s=t==os||t==i,a=e==os||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?as.has(t):us.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?as.has(e):us.has(e)),s&&a}}const ls=new RegExp("s*:selfs*,?","g");function hs(t,e,n){return new ds(t).build(e,n)}class ds{constructor(t){this._driver=t}build(t,e){const n=new fs(e);return this._resetContextStyleTimingState(n),rs(this,Qo(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(ps(t)){const e=t;Object.keys(e).forEach(t=>{Xo(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Jo(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=rs(this,Qo(t.animation),e);return{type:1,matchers:ss(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:ms(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>rs(this,t,e)),options:ms(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=rs(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:ms(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return gs(qo(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=gs(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||qo(r,e),gs(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:oo({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=oo(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==eo?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(ps(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Xo(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(ps(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(ps(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),s=s||c<0||c>1,o=o||c<a,a=c,i.push(c),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;e.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:rs(this,Qo(t.animation),e),options:ms(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:ms(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ms(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(ls,"")),[t=t.replace(/@\*/g,Fo).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Mo),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,bo(e.collectedStyles,e.currentQuerySelector,{});const s=rs(this,Qo(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:ms(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:qo(t.timings,e.errors,!0);return{type:12,animation:rs(this,Qo(t.animation),e),timings:n,options:null}}}class fs{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ps(t){return!Array.isArray(t)&&"object"==typeof t}function ms(t){var e;return t?(t=Bo(t)).params&&(t.params=(e=t.params)?Bo(e):null):t={},t}function gs(t,e,n){return{duration:t,delay:e,easing:n}}function ys(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class bs{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const vs=new RegExp(":enter","g"),_s=new RegExp(":leave","g");function ws(t,e,n,r,i,o={},s={},a,u,c=[]){return(new Ss).buildKeyframes(t,e,n,r,i,o,s,a,u,c)}class Ss{buildKeyframes(t,e,n,r,i,o,s,a,u,c=[]){u=u||new bs;const l=new Cs(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),rs(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[ys(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Vo(n.duration):null,o=null!=n.delay?Vo(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),rs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Es);const t=Vo(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>rs(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Vo(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),rs(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return qo(e.params?Yo(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Vo(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Es);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),rs(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;rs(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const Es={};class Cs{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Es,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Os(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Vo(n.duration)),null!=n.delay&&(r.delay=Vo(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Yo(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Cs(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Es,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Ts(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(vs,"."+this._enterClassName)).replace(_s,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class Os{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Os(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||eo,this._currentKeyframe[t]=eo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=eo})):zo(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=Yo(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:eo),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=zo(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):r==eo&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?Jo(t.values()):[],o=e.size?Jo(e.values()):[];if(n){const t=r[0],e=Bo(t);t.offset=0,e.offset=1,r=[t,e]}return ys(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class Ts extends Os{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=zo(t[0],!1);a.offset=0,i.push(a);const u=zo(t[0],!1);u.offset=Is(s),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let s=zo(t[r],!1);s.offset=Is((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return ys(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Is(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class xs{}class ks extends xs{normalizePropertyName(t,e){return ts(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(As[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const As=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ns(t,e,n,r,i,o,s,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const js={};class Ds{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||js,d=this.buildStyles(n,s&&s.params||js,l),f=a&&a.params||js,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,b="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=c?[]:ws(t,e,this.ast.animation,i,o,d,p,v,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return Ns(e,this._triggerName,n,r,b,d,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=bo(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=bo(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const S=Jo(m.values());return Ns(e,this._triggerName,n,r,b,d,p,_,S,g,y,w)}}class Rs{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Bo(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=Yo(o,r,e)),n[t]=o})}}),n}}class Ps{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Rs(t.style,t.options&&t.options.params||{})}),Fs(this.states,"true","1"),Fs(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Ds(t,e,this.states))}),this.fallbackTransition=new Ds(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Fs(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Ls=new bs;class Ms{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=hs(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=po(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=ws(this._driver,e,i,Do,Ro,{},{},n,Ls,r),o.forEach(t=>{const e=bo(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,eo)})});const a=fo(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=yo(e,"","","");return mo(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Vs="ng-animate-queued",Us="ng-animate-disabled",qs=".ng-animate-disabled",Bs=[],zs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Hs={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Ks{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Bo(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const $s="void",Gs=new Ks($s);class Qs{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ea(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=bo(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=bo(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(ea(t,Po),ea(t,"ng-trigger-"+e),a[e]=Gs),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new Xs(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(ea(t,Po),ea(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const u=new Ks(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),s[e]=u,a||(a=Gs),u.value!==$s&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Go(t,n),$o(t,r)})}return}const c=bo(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:o,isFallbackTransition:h}),h||(ea(t,Vs),o.onStart(()=>{na(t,Vs)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),c.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Fo,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,$s,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&fo(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const o=this._triggers[i].fallbackTransition,s=n[i]||Gs,a=new Ks($s),u=new Xs(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:o,fromState:s,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==zs||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){ea(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=yo(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,mo(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Ws{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Qs(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Ys(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Ys(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ea(t,Us)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),na(t,Us))}removeNode(t,e,n,r){if(Ys(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Ys(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Fo,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Mo,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return fo(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=zs,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,qs)&&this.markElementAsDisabled(t,!1),this.driver.query(t,qs,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)ea(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?fo(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new bs,r=[],i=new Map,o=[],s=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=ta(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=Do+p++;f.set(e,n),t.forEach(t=>ea(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const b=new Map,v=ta(h,Array.from(g));v.forEach((t,e)=>{const n=Ro+p++;b.set(e,n),t.forEach(t=>ea(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>na(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>na(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>Go(i,p.fromStyles)),e.onDestroy(()=>$o(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Go(i,p.fromStyles)),e.onDestroy(()=>$o(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>bo(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,E=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{bo(S,e,[]).push(t),t.destroy()})});const C=m.filter(t=>oa(t,a,u)),O=new Map;Zs(O,this.driver,y,u,eo).forEach(t=>{oa(t,a,u)&&C.push(t)});const T=new Map;d.forEach((t,e)=>{Zs(T,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=O.get(t),n=T.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const I=[],x=[],k={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(c.has(e))return o.onDestroy(()=>$o(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=k;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,S,i,T,O);if(o.setRealPlayer(n),t===k)I.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=fo(e)),r.push(o)}}else Go(e,s.fromStyles),o.onDestroy(()=>$o(e,s.toStyles)),x.push(o),c.has(e)&&r.push(o)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=fo(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(na(t,Ro),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Mo,!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?ra(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==$s;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,u=bo(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}Go(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new co(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return ia(t,e),e}((n.get(h)||Bs).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=o.get(h),y=po(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new Xs(t,s,h);e.setRealPlayer(b),u.push(e)}return b});u.forEach(t=>{bo(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>ea(t,Lo));const d=fo(h);return d.onDestroy(()=>{c.forEach(t=>na(t,Lo)),$o(a,e.toStyles)}),l.forEach(t=>{bo(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new co(t.duration,t.delay)}}class Xs{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new co,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>mo(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){bo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Ys(t){return t&&1===t.nodeType}function Js(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Zs(t,e,n,r,i){const o=[];n.forEach(t=>o.push(Js(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Hs,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>Js(t,o[a++])),s}function ta(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function o(t){if(!t)return 1;let e=i.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:r.has(s)?1:o(s),i.set(t,e),e}return e.forEach(t=>{const e=o(t);1!==e&&n.get(e).push(t)}),n}function ea(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function na(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function ra(t,e,n){fo(n).onDone(()=>t.processLeaveNode(e))}function ia(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof lo?ia(r.players,e):e.push(r)}}function oa(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class sa{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Ws(t,e,n),this._timelineEngine=new Ms(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=hs(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new Ps(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=vo(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=vo(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function aa(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=ca(e[0]),e.length>1&&(r=ca(e[e.length-1]))):e&&(n=ca(e)),n||r?new ua(t,n,r):null}let ua=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&$o(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($o(this._element,this._initialStyles),this._endStyles&&($o(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Go(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Go(this._element,this._endStyles),this._endStyles=null),$o(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function ca(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];la(i)&&(e=e||{},e[i]=t[i])}return e}function la(t){return"display"===t||"position"===t}const ha="animation",da="animationend";class fa{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=va(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),ba(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),ya(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){pa(this._element,this._name,"paused")}resume(){pa(this._element,this._name,"running")}setPosition(t){const e=ma(this._element,this._name);this._position=t*this._duration,ba(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),ya(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=va(t,"").split(","),r=ga(n,e);r>=0&&(n.splice(r,1),ba(t,"",n.join(",")))}(this._element,this._name))}}function pa(t,e,n){ba(t,"PlayState",n,ma(t,e))}function ma(t,e){const n=va(t,"");return n.indexOf(",")>0?ga(n.split(","),e):ga([n],e)}function ga(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function ya(t,e,n){n?t.removeEventListener(da,e):t.addEventListener(da,e)}function ba(t,e,n,r){const i=ha+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function va(t,e){return t.style[ha+e]||""}class _a{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new fa(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:is(this.element,n))})}this.currentSnapshot=t}}class wa extends co{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Ao(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Sa{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return To(t)}matchesElement(t,e){return Io(t,e)}containsElement(t,e){return xo(t,e)}query(t,e,n){return ko(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Ao(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(t,e,n,r,i,o=[],s){const a=o.filter(t=>t instanceof _a),u={};es(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=ns(t,e,u));if(0==n)return new wa(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=aa(t,e),f=new _a(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class Ea{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:is(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Ca{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Oa().toString()),this._cssKeyframesDriver=new Sa}validateStyleProperty(t){return To(t)}matchesElement(t,e){return Io(t,e)}containsElement(t,e){return xo(t,e)}query(t,e,n){return ko(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=o.filter(t=>t instanceof Ea);es(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=aa(t,e=ns(t,e=e.map(t=>zo(t,!1)),u));return new Ea(t,e,a,l)}}function Oa(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Ta=(()=>{class t extends to{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.T.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?io(t):t;return ka(this._renderer,null,e,"register",[n]),new Ia(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.H),r.Xb(s))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class Ia extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new xa(this._id,t,e||{},this._renderer)}}class xa{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return ka(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function ka(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Aa="@",Na="@.disabled";let ja=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Da("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new Ra(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.H),r.Xb(sa),r.Xb(r.B))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class Da{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Aa&&e==Na?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Ra extends Da{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Aa?"."==e.charAt(1)&&e==Na?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Aa){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return i.charAt(0)!=Aa&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Pa=(()=>{class t extends sa{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(s),r.Xb(jo),r.Xb(xs))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const Fa=new r.s("AnimationModuleType"),La=[{provide:jo,useFactory:function(){return"function"==typeof Oa()?new Ca:new Sa}},{provide:Fa,useValue:"BrowserAnimations"},{provide:to,useClass:Ta},{provide:xs,useFactory:function(){return new ks}},{provide:sa,useClass:Pa},{provide:r.H,useFactory:function(t,e,n){return new ja(t,e,n)},deps:[it,sa,r.B]}];let Ma=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:La,imports:[vt]}),t})();var Va=n("D0XW");class Ua{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new qa(t,this.dueTime,this.scheduler))}}class qa extends It.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ba,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Ba(t){t.debouncedNext()}function za(t){return null!=t&&"false"!=`${t}`}function Ha(t){return t instanceof r.l?t.nativeElement:t}let Ka;try{Ka="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(eI){Ka=!1}let $a,Ga=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ka)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.D))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Xb)(r.D))},token:t,providedIn:"root"}),t})(),Qa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({}),t})();const Wa=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Xa(){if($a)return $a;if("object"!=typeof document||!document)return $a=new Set(Wa),$a;let t=document.createElement("input");return $a=new Set(Wa.filter(e=>(t.setAttribute("type",e),t.type===e))),$a}let Ya,Ja;function Za(t){return function(){if(null==Ya&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ya=!0}))}finally{Ya=Ya||!1}return Ya}()?t:!!t.capture}let tu=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),eu=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Ha(t);return new Nt.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new St.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(tu))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Xb)(tu))},token:t,providedIn:"root"}),t})(),nu=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.o,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=za(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function(t,e=Va.a){return n=>n.lift(new Ua(t,e))}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(eu),r.Nb(r.l),r.Nb(r.B))},t.\u0275dir=r.Ib({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),ru=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[tu]}),t})();function iu(t){return 0===t.buttons}function ou(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const su=new r.s("cdk-focus-monitor-default-options"),au=Za({passive:!0,capture:!0});let uu=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=iu(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{ou(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=cu(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=cu(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=Ha(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(wt.a)(null);const r=function(t){if(function(){if(null==Ja){const t="undefined"!=typeof document?document.head:null;Ja=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Ja}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const o={checkChildren:e,subject:new St.a,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(t){const e=Ha(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=Ha(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=cu(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===cu(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,au),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,au)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,au),t.addEventListener("mousedown",this._documentMousedownListener,au),t.addEventListener("touchstart",this._documentTouchstartListener,au),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,au),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,au),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,au),t.removeEventListener("mousedown",this._documentMousedownListener,au),t.removeEventListener("touchstart",this._documentTouchstartListener,au),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.B),r.Xb(Ga),r.Xb(s,8),r.Xb(su,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Xb)(r.B),Object(r.Xb)(Ga),Object(r.Xb)(s,8),Object(r.Xb)(su,8))},token:t,providedIn:"root"}),t})();function cu(t){return t.composedPath?t.composedPath()[0]:t.target}const lu="cdk-high-contrast-black-on-white",hu="cdk-high-contrast-white-on-black",du="cdk-high-contrast-active";let fu=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(du),t.remove(lu),t.remove(hu);const e=this.getHighContrastMode();1===e?(t.add(du),t.add(lu)):2===e&&(t.add(du),t.add(hu))}}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Ga),r.Xb(s))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Xb)(Ga),Object(r.Xb)(s))},token:t,providedIn:"root"}),t})();const pu=new r.s("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.X)(s)}});let mu=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.o,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(pu,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Xb)(pu,8))},token:t,providedIn:"root"}),t})(),gu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({}),t})();const yu=new r.R("11.2.7"),bu=new r.R("11.2.7"),vu=new r.s("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let _u,wu=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.Y)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&bu.full!==yu.full&&console.warn("The Angular Material version ("+bu.full+") does not match the Angular CDK version ("+yu.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(fu),r.Xb(vu,8),r.Xb(s))},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[gu],gu]}),t})();function Su(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=za(t)}}}function Eu(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function Cu(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=za(t)}}}function Ou(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new St.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{_u="undefined"!=typeof Intl}catch(eI){_u=!1}let Tu=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class Iu{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const xu={enterDuration:450,exitDuration:400},ku=Za({passive:!0}),Au=["mousedown","touchstart"],Nu=["mouseup","mouseleave","touchend","touchcancel"];class ju{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ha(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},xu),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),s=t-r.left,a=e-r.top,u=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=s-o+"px",c.style.top=a-o+"px",c.style.height=2*o+"px",c.style.width=2*o+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const l=new Iu(this,c,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},u),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},xu),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Ha(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Au))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Nu),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=iu(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!ou(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,ku)})})}_removeTriggerEvents(){this._triggerElement&&(Au.forEach(t=>{this._triggerElement.removeEventListener(t,this,ku)}),this._pointerUpEventsRegistered&&Nu.forEach(t=>{this._triggerElement.removeEventListener(t,this,ku)}))}}const Du=new r.s("mat-ripple-global-options");let Ru=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new ju(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.B),r.Nb(Ga),r.Nb(Du,8),r.Nb(Fa,8))},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Fb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),Pu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[wu,Qa],wu]}),t})();const Fu=["*",[["mat-card-footer"]]],Lu=["*","mat-card-footer"],Mu=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Vu=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let Uu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),qu=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,e){2&t&&r.Fb("mat-card-actions-align-end","end"===e.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),t})(),Bu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),t})(),zu=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Fa,8))},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&r.Fb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:Lu,decls:2,vars:0,template:function(t,e){1&t&&(r.ec(Fu),r.dc(0),r.dc(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),Hu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:Vu,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(r.ec(Mu),r.dc(0),r.Tb(1,"div",0),r.dc(2,1),r.Sb(),r.dc(3,2))},encapsulation:2,changeDetection:0}),t})(),Ku=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[wu],wu]}),t})();const $u=["mat-button",""],Gu=["*"],Qu=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class Wu{constructor(t){this._elementRef=t}}const Xu=Eu(Su(Cu(Wu)));let Yu=(()=>{class t extends Xu{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of Qu)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(uu),r.Nb(Fa,8))},t.\u0275cmp=r.Hb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.rc(Ru,1),2&t){let t;r.ic(t=r.bc())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Eb("disabled",e.disabled||null),r.Fb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.Ab],attrs:$u,ngContentSelectors:Gu,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.ec(),r.Tb(0,"span",0),r.dc(1),r.Sb(),r.Ob(2,"span",1),r.Ob(3,"span",2)),2&t&&(r.Db(2),r.Fb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.fc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Ru],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),Ju=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[Pu,wu],wu]}),t})();function Zu(t,e){if(1&t){const t=r.Ub();r.Tb(0,"mat-card",2),r.Tb(1,"mat-card-header"),r.Tb(2,"mat-card-title"),r.oc(3),r.Sb(),r.Sb(),r.Ob(4,"img",3),r.Tb(5,"mat-card-actions",4),r.Tb(6,"button",5),r.ac("click",function(){r.jc(t);const n=e.$implicit;return r.cc().loadSelectedCourse(n.id)}),r.oc(7,"Select"),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=e.$implicit;r.Db(3),r.pc(t.name),r.Db(1),r.gc("src",t.image,r.kc),r.gc("alt",t.name)}}let tc=(()=>{class t{constructor(t,e){this.CoursesService=t,this.router=e,this.courses=[]}ngOnInit(){this.CoursesService.getCourses().subscribe(t=>{t.courses.forEach(t=>{this.CoursesService.getCourseData(t.id).subscribe(t=>{this.courses.push({id:t.data.id,name:t.data.name,image:t.data.thumbnail})})})})}loadSelectedCourse(t){this.router.navigate(["./play",{id:t}])}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Zi),r.Nb(Zr))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-course-select"]],decls:2,vars:1,consts:[["id","course-select-container"],["class","select-card",4,"ngFor","ngForOf"],[1,"select-card"],["mat-card-image","",3,"src","alt"],[1,"actions"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.nc(1,Zu,8,3,"mat-card",1),r.Sb()),2&t&&(r.Db(1),r.fc("ngForOf",e.courses))},directives:[A,zu,Hu,Uu,Bu,qu,Yu],styles:["#course-select-container[_ngcontent-%COMP%]{display:flex}.select-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.actions[_ngcontent-%COMP%]{display:flex}@media screen and (max-width:750px){#course-select-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}}"]}),t})();var ec=n("XoHu");function nc(...t){if(1===t.length){const e=t[0];if(Object(Tt.a)(e))return rc(e,null);if(Object(ec.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return rc(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return rc(t=1===t.length&&Object(Tt.a)(t[0])?t[0]:t,null).pipe(Object(zt.a)(t=>e(...t)))}return rc(t,null)}function rc(t,e){return new Nt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(_t.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const ic=new r.s("NgValueAccessor"),oc={provide:ic,useExisting:Object(r.W)(()=>ac),multi:!0},sc=new r.s("CompositionEventMode");let ac=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.G),r.Nb(r.l),r.Nb(sc,8))},t.\u0275dir=r.Ib({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.ac("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Cb([oc])]}),t})();const uc=new r.s("NgValidators"),cc=new r.s("NgAsyncValidators");function lc(t){return null!=t}function hc(t){const e=Object(r.ub)(t)?Object(_t.a)(t):t;return Object(r.tb)(e),e}function dc(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function fc(t,e){return e.map(e=>e(t))}function pc(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function mc(t){return null!=t?function(t){if(!t)return null;const e=t.filter(lc);return 0==e.length?null:function(t){return dc(fc(t,e))}}(pc(t)):null}function gc(t){return null!=t?function(t){if(!t)return null;const e=t.filter(lc);return 0==e.length?null:function(t){return nc(fc(t,e).map(hc)).pipe(Object(zt.a)(dc))}}(pc(t)):null}function yc(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function bc(t){return t._rawValidators}function vc(t){return t._rawAsyncValidators}let _c=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=mc(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=gc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t}),t})(),wc=(()=>{class t extends _c{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Sc(e||t)},t.\u0275dir=r.Ib({type:t,features:[r.Ab]}),t})();const Sc=r.Vb(wc);class Ec extends _c{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Cc=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Ec,2))},t.\u0275dir=r.Ib({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Fb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.Ab]}),t})();function Oc(t,e){xc(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ac(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ac(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Tc(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),kc(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ic(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function xc(t,e,n){const r=bc(t);null!==e.validator?t.setValidators(yc(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=vc(t);if(null!==e.asyncValidator?t.setAsyncValidators(yc(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();Ic(e._rawValidators,n),Ic(e._rawAsyncValidators,n)}}function kc(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=bc(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=vc(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};Ic(e._rawValidators,t),Ic(e._rawAsyncValidators,t)}return r}function Ac(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Nc(t,e){xc(t,e,!1)}function jc(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Dc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Rc="VALID",Pc="INVALID",Fc="PENDING",Lc="DISABLED";function Mc(t){return(Bc(t)?t.validators:t)||null}function Vc(t){return Array.isArray(t)?mc(t):t||null}function Uc(t,e){return(Bc(e)?e.asyncValidators:t)||null}function qc(t){return Array.isArray(t)?gc(t):t||null}function Bc(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class zc{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Vc(this._rawValidators),this._composedAsyncValidatorFn=qc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Rc}get invalid(){return this.status===Pc}get pending(){return this.status==Fc}get disabled(){return this.status===Lc}get enabled(){return this.status!==Lc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Vc(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=qc(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Fc,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Lc,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Rc,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Rc&&this.status!==Fc||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lc:Rc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Fc,this._hasOwnPendingAsyncValidator=!0;const e=hc(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Kc?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof $c&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.o,this.statusChanges=new r.o}_calculateStatus(){return this._allControlsDisabled()?Lc:this.errors?Pc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fc)?Fc:this._anyControlsHaveStatus(Pc)?Pc:Rc}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Bc(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Hc extends zc{constructor(t=null,e,n){super(Mc(e),Uc(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Dc(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Dc(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Kc extends zc{constructor(t,e,n){super(Mc(e),Uc(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Hc?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class $c extends zc{constructor(t,e,n){super(Mc(e),Uc(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Hc?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Gc={provide:wc,useExisting:Object(r.W)(()=>Wc)},Qc=(()=>Promise.resolve(null))();let Wc=(()=>{class t extends wc{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.o,this.form=new Kc({},mc(t),gc(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Qc.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Oc(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Qc.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Dc(this._directives,t)})}addFormGroup(t){Qc.then(()=>{const e=this._findContainer(t.path),n=new Kc({});Nc(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Qc.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Qc.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,jc(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(uc,10),r.Nb(cc,10))},t.\u0275dir=r.Ib({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.ac("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Cb([Gc]),r.Ab]}),t})(),Xc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({}),t})();const Yc=new r.s("NgModelWithFormControlWarning"),Jc={provide:Ec,useExisting:Object(r.W)(()=>Zc)};let Zc=(()=>{class t extends Ec{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new r.o,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(e),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===ac?n=t:Object.getPrototypeOf(t.constructor)===class{}?r=t:i=t}),i||r||n||null}(0,n)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const e=t.form.previousValue;e&&Tc(e,this,!1),Oc(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}(function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)})(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Tc(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(uc,10),r.Nb(cc,10),r.Nb(ic,10),r.Nb(Yc,8))},t.\u0275dir=r.Ib({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r.Cb([Jc]),r.Ab,r.Bb]}),t._ngModelWarningSentOnce=!1,t})();const tl={provide:wc,useExisting:Object(r.W)(()=>el)};let el=(()=>{class t extends wc{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.o,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kc(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Oc(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Tc(t.control||null,t,!1),Dc(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,jc(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(Tc(e||null,t),n instanceof Hc&&(Oc(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);Nc(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return kc(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xc(this.form,this,!1),this._oldForm&&kc(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(uc,10),r.Nb(cc,10))},t.\u0275dir=r.Ib({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.ac("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Cb([tl]),r.Ab,r.Bb]}),t})(),nl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[Xc]]}),t})(),rl=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Yc,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[nl]}),t})();function il(){return t=>t.lift(new ol)}class ol{call(t,e){return e.subscribe(new sl(t))}}class sl extends It.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class al{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ul(t,this.compare,this.keySelector))}}class ul extends It.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var cl=n("pxpQ"),ll=n("spgP"),hl=n("Jgta"),dl=n("zIRd"),fl=n("qOnz"),pl=n("q/0M"),ml=function(t,e){return(ml=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function gl(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var yl,bl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},vl=vl||{},_l=bl||self;function wl(){}function Sl(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function El(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Cl="closure_uid_"+(1e9*Math.random()>>>0),Ol=0;function Tl(t,e,n){return t.call.apply(t.bind,arguments)}function Il(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function xl(t,e,n){return(xl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Tl:Il).apply(null,arguments)}function kl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Al(){return Date.now()}function Nl(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function jl(){this.j=this.j,this.i=this.i}jl.prototype.j=!1,jl.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Cl)&&t[Cl]||(t[Cl]=++Ol)}(this)},jl.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Dl=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Rl=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Pl(t){return Array.prototype.concat.apply([],arguments)}function Fl(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ll(t){return/^[\s\xa0]*$/.test(t)}var Ml,Vl=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ul(t,e){return-1!=t.indexOf(e)}function ql(t,e){return t<e?-1:t>e?1:0}t:{var Bl=_l.navigator;if(Bl){var zl=Bl.userAgent;if(zl){Ml=zl;break t}}Ml=""}function Hl(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Kl(t){var e={};for(var n in t)e[n]=t[n];return e}var $l="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gl(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<$l.length;o++)n=$l[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ql(t){return Ql[" "](t),t}Ql[" "]=wl;var Wl,Xl,Yl=Ul(Ml,"Opera"),Jl=Ul(Ml,"Trident")||Ul(Ml,"MSIE"),Zl=Ul(Ml,"Edge"),th=Zl||Jl,eh=Ul(Ml,"Gecko")&&!(Ul(Ml.toLowerCase(),"webkit")&&!Ul(Ml,"Edge"))&&!(Ul(Ml,"Trident")||Ul(Ml,"MSIE"))&&!Ul(Ml,"Edge"),nh=Ul(Ml.toLowerCase(),"webkit")&&!Ul(Ml,"Edge");function rh(){var t=_l.document;return t?t.documentMode:void 0}t:{var ih="",oh=(Xl=Ml,eh?/rv:([^\);]+)(\)|;)/.exec(Xl):Zl?/Edge\/([\d\.]+)/.exec(Xl):Jl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Xl):nh?/WebKit\/(\S+)/.exec(Xl):Yl?/(?:Version)[ \/]?(\S+)/.exec(Xl):void 0);if(oh&&(ih=oh?oh[1]:""),Jl){var sh=rh();if(null!=sh&&sh>parseFloat(ih)){Wl=String(sh);break t}}Wl=ih}var ah={};function uh(t){return function(t,e){var n=ah;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Vl(String(Wl)).split("."),r=Vl(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ql(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ql(0==s[2].length,0==a[2].length)||ql(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var ch=_l.document&&Jl&&(rh()||parseInt(Wl,10))||void 0,lh=!Jl||9<=Number(ch),hh=Jl&&!uh("9"),dh=function(){if(!_l.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{_l.addEventListener("test",wl,e),_l.removeEventListener("test",wl,e)}catch(n){}return t}();function fh(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ph(t,e){if(fh.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(eh){t:{try{Ql(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:mh[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}fh.prototype.b=function(){this.defaultPrevented=!0},Nl(ph,fh);var mh={2:"touch",3:"pen",4:"mouse"};ph.prototype.b=function(){ph.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,hh)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var gh="closure_listenable_"+(1e6*Math.random()|0),yh=0;function bh(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++yh,this.Y=this.Z=!1}function vh(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function _h(t){this.src=t,this.a={},this.b=0}function wh(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Dl(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(vh(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Sh(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}_h.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Sh(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new bh(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Eh="closure_lm_"+(1e6*Math.random()|0),Ch={};function Oh(t,e,n,r,i){if(r&&r.once)return Ih(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Oh(t,e[o],n,r,i);return null}return n=Ph(n),t&&t[gh]?t.va(e,n,El(r)?!!r.capture:!!r,i):Th(t,e,n,!1,r,i)}function Th(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=El(i)?!!i.capture:!!i;if(s&&!lh)return null;var a=Dh(t);if(a||(t[Eh]=a=new _h(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=jh,e=lh?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)dh||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ah(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ih(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ih(t,e[o],n,r,i);return null}return n=Ph(n),t&&t[gh]?t.wa(e,n,El(r)?!!r.capture:!!r,i):Th(t,e,n,!0,r,i)}function xh(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)xh(t,e[o],n,r,i);else r=El(r)?!!r.capture:!!r,n=Ph(n),t&&t[gh]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Sh(o=t.a[e],n,r,i))&&(vh(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Dh(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Sh(e,n,r,i)),(n=-1<t?e[t]:null)&&kh(n))}function kh(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[gh])wh(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ah(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Dh(e))?(wh(n,t),0==n.b&&(n.src=null,e[Eh]=null)):vh(t)}}}function Ah(t){return t in Ch?Ch[t]:Ch[t]="on"+t}function Nh(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&kh(t),n.call(r,e)}function jh(t,e){if(t.Y)return!0;if(!lh){if(!e)t:{e=["window","event"];for(var n=_l,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Nh(t,e=new ph(e,this))}return Nh(t,new ph(e,this))}function Dh(t){return(t=t[Eh])instanceof _h?t:null}var Rh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ph(t){return"function"==typeof t?t:(t[Rh]||(t[Rh]=function(e){return t.handleEvent(e)}),t[Rh])}function Fh(){jl.call(this),this.c=new _h(this),this.J=this,this.C=null}function Lh(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new fh(e,t);else if(e instanceof fh)e.target=e.target||t;else{var i=e;Gl(e=new fh(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Mh(s,r,!0,e)&&i}if(i=Mh(s=e.a=t,r,!0,e)&&i,i=Mh(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Mh(s=e.a=n[o],r,!1,e)&&i}function Mh(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&wh(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Nl(Fh,jl),Fh.prototype[gh]=!0,(yl=Fh.prototype).addEventListener=function(t,e,n,r){Oh(this,t,e,n,r)},yl.removeEventListener=function(t,e,n,r){xh(this,t,e,n,r)},yl.G=function(){if(Fh.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)vh(n[r]);delete e.a[t],e.b--}}this.C=null},yl.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},yl.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Vh=_l.JSON.stringify;function Uh(){this.b=this.a=null}var qh,Bh=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Hh},function(t){t.reset()});function zh(){var t=Qh,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Hh(){this.next=this.b=this.a=null}function Kh(t){_l.setTimeout(function(){throw t},0)}function $h(t,e){qh||function(){var t=_l.Promise.resolve(void 0);qh=function(){t.then(Wh)}}(),Gh||(qh(),Gh=!0),Qh.add(t,e)}Uh.prototype.add=function(t,e){var n=Bh.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Hh.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Hh.prototype.reset=function(){this.next=this.b=this.a=null};var Gh=!1,Qh=new Uh;function Wh(){for(var t;t=zh();){try{t.a.call(t.b)}catch(n){Kh(n)}var e=Bh;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Gh=!1}function Xh(t,e){Fh.call(this),this.b=t||1,this.a=e||_l,this.f=xl(this.Za,this),this.g=Al()}function Yh(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Jh(t,e,n){if("function"==typeof t)n&&(t=xl(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=xl(t.handleEvent,t)}return 2147483647<Number(e)?-1:_l.setTimeout(t,e||0)}function Zh(t){t.a=Jh(function(){t.a=null,t.c&&(t.c=!1,Zh(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Nl(Xh,Fh),(yl=Xh.prototype).aa=!1,yl.M=null,yl.Za=function(){if(this.aa){var t=Al()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Lh(this,"tick"),this.aa&&(Yh(this),this.start()))}},yl.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Al())},yl.G=function(){Xh.X.G.call(this),Yh(this),delete this.a};var td=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}ml(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Zh(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(_l.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(jl);function ed(t){jl.call(this),this.b=t,this.a={}}Nl(ed,jl);var nd=[];function rd(t,e,n,r){Array.isArray(n)||(n&&(nd[0]=n.toString()),n=nd);for(var i=0;i<n.length;i++){var o=Oh(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function id(t){Hl(t.a,function(t,e){this.a.hasOwnProperty(e)&&kh(t)},t),t.a={}}function od(){this.a=!0}function sd(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Vh(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}ed.prototype.G=function(){ed.X.G.call(this),id(this)},ed.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},od.prototype.info=function(){};var ad={},ud=null;function cd(){return ud=ud||new Fh}function ld(t){fh.call(this,ad.Fa,t)}function hd(t){var e=cd();Lh(e,new ld(e,t))}function dd(t,e){fh.call(this,ad.STAT_EVENT,t),this.stat=e}function fd(t){var e=cd();Lh(e,new dd(e,t))}function pd(t){fh.call(this,ad.Ga,t)}function md(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return _l.setTimeout(function(){t()},e)}ad.Fa="serverreachability",Nl(ld,fh),ad.STAT_EVENT="statevent",Nl(dd,fh),ad.Ga="timingevent",Nl(pd,fh);var gd={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},yd={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function bd(){}function vd(){}bd.prototype.a=null;var _d,wd={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Sd(){fh.call(this,"d")}function Ed(){fh.call(this,"c")}function Cd(){}function Od(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ed(this),this.P=Td,this.R=new Xh(t=th?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Nl(Sd,fh),Nl(Ed,fh),Nl(Cd,bd),_d=new Cd;var Td=45e3,Id={},xd={};function kd(t,e,n){t.H=1,t.i=Yd(Kd(e)),t.j=n,t.I=!0,Ad(t,null)}function Ad(t,e){t.u=Al(),Dd(t),t.l=Kd(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),hf(n.b,"t",r),t.D=0,t.a=op(t.g,t.g.C?e:null),0<t.O&&(t.F=new td(xl(t.Ca,t,t.a),t.O)),rd(t.J,t.a,"readystatechange",t.Xa),e=t.B?Kl(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),hd(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Nd(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=jd(t,n);if(i==xd){4==e&&(t.h=4,fd(14),r=!1),sd(t.c,t.f,null,"[Incomplete Response]");break}if(i==Id){t.h=4,fd(15),sd(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}sd(t.c,t.f,i,null),Md(t,i)}4==e&&0==n.length&&(t.h=1,fd(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yf(e),e.F=!0,fd(11))):(sd(t.c,t.f,n,"[Invalid Chunked Response]"),Ld(t),Fd(t))}function jd(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?xd:(n=Number(e.substring(n,r)),isNaN(n)?Id:(r+=1)+n>e.length?xd:(e=e.substr(r,n),t.D=r+n,e))}function Dd(t){t.T=Al()+t.P,Rd(t,t.P)}function Rd(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=md(xl(t.Va,t),e)}function Pd(t){t.o&&(_l.clearTimeout(t.o),t.o=null)}function Fd(t){0==t.g.v||t.A||tp(t.g,t)}function Ld(t){Pd(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Yh(t.R),id(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Md(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||bf(n.b,t)))if(n.I=t.N,!t.C&&bf(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(qE){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Zf(n),Bf(n)}Xf(n),fd(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=md(xl(n.Sa,n),6e3));if(1>=yf(n.b)&&n.ea){try{n.ea()}catch(qE){}n.ea=void 0}}else np(n,11)}else if((t.C||n.a==t)&&Zf(n),!Ll(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Ul(l,"spdy")||Ul(l,"quic")||Ul(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(vf(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,Xd(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Al()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=ip(u,u.C?u.ga:null,u.fa),f.C){_f(u.b,f);var p=f,m=u.D;m&&p.setTimeout(m),p.o&&(Pd(p),Dd(p)),u.a=f}else Wf(u);0<n.g.length&&Kf(n)}else"stop"!=i[0]&&"close"!=i[0]||np(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?np(n,7):qf(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);hd(4)}catch(qE){}}function Vd(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Sl(t)||"string"==typeof t)Rl(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Sl(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Sl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ud(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ud)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function qd(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Bd(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Bd(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Bd(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(yl=Od.prototype).setTimeout=function(t){this.P=t},yl.Xa=function(t){t=t.target;var e=this.F;e&&3==Lf(t)?e.f():this.Ca(t)},yl.Ca=function(t){try{if(t==this.a)t:{var e=Lf(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!th&&!this.a.$())){this.A||4!=e||7==n||hd(8==n||0>=r?3:2),Pd(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ll(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,fd(12),Ld(this),Fd(this);break t}sd(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Md(this,u)}this.I?(Nd(this,e,o),th&&this.b&&3==e&&(rd(this.J,this.R,"tick",this.Wa),this.R.start())):(sd(this.c,this.f,o,null),Md(this,o)),4==e&&Ld(this),this.b&&!this.A&&(4==e?tp(this.g,this):(this.b=!1,Dd(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,fd(12)):(this.h=0,fd(13)),Ld(this),Fd(this)}}}catch(c){}},yl.Wa=function(){if(this.a){var t=Lf(this.a),e=this.a.$();this.D<e.length&&(Pd(this),Nd(this,t,e),this.b&&4!=t&&Dd(this))}},yl.cancel=function(){this.A=!0,Ld(this)},yl.Va=function(){this.o=null;var t=Al();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(hd(3),fd(17)),Ld(this),this.h=2,Fd(this)):Rd(this,this.T-t)},(yl=Ud.prototype).K=function(){qd(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},yl.L=function(){return qd(this),this.a.concat()},yl.get=function(t,e){return Bd(this.b,t)?this.b[t]:e},yl.set=function(t,e){Bd(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},yl.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var zd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Hd(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Hd){this.a=void 0!==e?e:t.a,$d(this,t.f),this.j=t.j,Gd(this,t.c),Qd(this,t.h),this.g=t.g,e=t.b;var n=new af;n.c=e.c,e.a&&(n.a=new Ud(e.a),n.b=e.b),Wd(this,n),this.i=t.i}else t&&(n=String(t).match(zd))?(this.a=!!e,$d(this,n[1]||"",!0),this.j=Jd(n[2]||""),Gd(this,n[3]||"",!0),Qd(this,n[4]),this.g=Jd(n[5]||"",!0),Wd(this,n[6]||"",!0),this.i=Jd(n[7]||"")):(this.a=!!e,this.b=new af(null,this.a))}function Kd(t){return new Hd(t)}function $d(t,e,n){t.f=n?Jd(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Gd(t,e,n){t.c=n?Jd(e,!0):e}function Qd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Wd(t,e,n){e instanceof af?(t.b=e,function(t,e){e&&!t.f&&(uf(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(cf(this,e),hf(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Zd(e,of)),t.b=new af(e,t.a))}function Xd(t,e,n){t.b.set(e,n)}function Yd(t){return Xd(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Al()).toString(36)),t}function Jd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Zd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,tf),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function tf(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Hd.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Zd(e,ef,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Zd(e,ef,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Zd(n,"/"==n.charAt(0)?rf:nf,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Zd(n,sf)),t.join("")};var ef=/[#\/\?@]/g,nf=/[#\?:]/g,rf=/[#\?]/g,of=/[#\?@]/g,sf=/#/g;function af(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function uf(t){t.a||(t.a=new Ud,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function cf(t,e){uf(t),e=df(t,e),Bd(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Bd((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&qd(t)))}function lf(t,e){return uf(t),e=df(t,e),Bd(t.a.b,e)}function hf(t,e,n){cf(t,e),0<n.length&&(t.c=null,t.a.set(df(t,e),Fl(n)),t.b+=n.length)}function df(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(yl=af.prototype).add=function(t,e){uf(this),this.c=null,t=df(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},yl.forEach=function(t,e){uf(this),this.a.forEach(function(n,r){Rl(n,function(n){t.call(e,n,r,this)},this)},this)},yl.L=function(){uf(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},yl.K=function(t){uf(this);var e=[];if("string"==typeof t)lf(this,t)&&(e=Pl(e,this.a.get(df(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Pl(e,t[n])}return e},yl.set=function(t,e){return uf(this),this.c=null,lf(this,t=df(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},yl.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},yl.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ff=function(){return function(t,e){this.b=t,this.a=e}}();function pf(t){this.g=t||mf,t=_l.PerformanceNavigationTiming?0<(t=_l.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(_l.ia&&_l.ia.ya&&_l.ia.ya()&&_l.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var mf=10;function gf(t){return!!t.b||!!t.a&&t.a.size>=t.f}function yf(t){return t.b?1:t.a?t.a.size:0}function bf(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function vf(t,e){t.a?t.a.add(e):t.b=e}function _f(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function wf(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=gl(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Fl(t.c)}function Sf(){}function Ef(){this.a=new Sf}function Cf(t,e,n){var r=n||"";try{Vd(t,function(t,n){var i=t;El(t)&&(i=Vh(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(SC){throw e.push(r+"type="+encodeURIComponent("_badmap")),SC}}function Of(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}pf.prototype.cancel=function(){var t,e;if(this.c=wf(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=gl(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Sf.prototype.stringify=function(t){return _l.JSON.stringify(t,void 0)},Sf.prototype.parse=function(t){return _l.JSON.parse(t,void 0)};var Tf=_l.JSON.parse;function If(t){Fh.call(this),this.headers=new Ud,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=xf,this.D=this.F=!1}Nl(If,Fh);var xf="",kf=/^https?$/i,Af=["POST","PUT"];function Nf(t){return"content-type"==t.toLowerCase()}function jf(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Df(t),Pf(t)}function Df(t){t.u||(t.u=!0,Lh(t,"complete"),Lh(t,"error"))}function Rf(t){if(t.b&&void 0!==vl&&(!t.s[1]||4!=Lf(t)||2!=t.W()))if(t.l&&4==Lf(t))Jh(t.za,0,t);else if(Lh(t,"readystatechange"),4==Lf(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(zd)[1]||null;if(!o&&_l.self&&_l.self.location){var s=_l.self.location.protocol;o=s.substr(0,s.length-1)}i=!kf.test(o?o.toLowerCase():"")}e=i}if(e)Lh(t,"complete"),Lh(t,"success");else{t.h=6;try{var a=2<Lf(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Df(t)}}finally{Pf(t)}}}function Pf(t,e){if(t.a){Ff(t);var n=t.a,r=t.s[0]?wl:null;t.a=null,t.s=null,e||Lh(t,"ready");try{n.onreadystatechange=r}catch(SC){}}}function Ff(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(_l.clearTimeout(t.m),t.m=null)}function Lf(t){return t.a?t.a.readyState:0}function Mf(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Hl(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Xd(t,e,n))}function Vf(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Uf(t){this.pa=0,this.g=[],this.c=new od,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Vf("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Vf("baseRetryDelayMs",5e3,t),this.Ra=Vf("retryDelaySeedMs",1e4,t),this.Ma=Vf("forwardChannelMaxRetries",2,t),this.ma=Vf("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new pf(t&&t.concurrentRequestLimit),this.ka=new Ef,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function qf(t){if(zf(t),3==t.v){var e=t.R++,n=Kd(t.B);Xd(n,"SID",t.J),Xd(n,"RID",e),Xd(n,"TYPE","terminate"),Gf(t,n),(e=new Od(t,t.c,e,void 0)).H=2,e.i=Yd(Kd(n)),n=!1,_l.navigator&&_l.navigator.sendBeacon&&(n=_l.navigator.sendBeacon(e.i.toString(),"")),!n&&_l.Image&&((new Image).src=e.i,n=!0),n||(e.a=op(e.g,null),e.a.ba(e.i)),e.u=Al(),Dd(e)}rp(t)}function Bf(t){t.a&&(Yf(t),t.a.cancel(),t.a=null)}function zf(t){Bf(t),t.j&&(_l.clearTimeout(t.j),t.j=null),Zf(t),t.b.cancel(),t.h&&("number"==typeof t.h&&_l.clearTimeout(t.h),t.h=null)}function Hf(t,e){t.g.push(new ff(t.Oa++,e)),3==t.v&&Kf(t)}function Kf(t){gf(t.b)||t.h||(t.h=!0,$h(t.Ba,t),t.u=0)}function $f(t,e){var n;n=e?e.f:t.R++;var r=Kd(t.B);Xd(r,"SID",t.J),Xd(r,"RID",n),Xd(r,"AID",t.P),Gf(t,r),t.i&&t.l&&Mf(r,t.i,t.l),n=new Od(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Qf(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),vf(t.b,n),kd(n,r,e)}function Gf(t,e){t.f&&Vd({},function(t,n){Xd(e,n,t)})}function Qf(t,e,n){n=Math.min(t.g.length,n);var r=t.f?xl(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Cf(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Wf(t){t.a||t.j||(t.T=1,$h(t.Aa,t),t.o=0)}function Xf(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=md(xl(t.Aa,t),ep(t,t.o)),t.o++,0))}function Yf(t){null!=t.s&&(_l.clearTimeout(t.s),t.s=null)}function Jf(t){t.a=new Od(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Kd(t.la);Xd(e,"RID","rpc"),Xd(e,"SID",t.J),Xd(e,"CI",t.H?"0":"1"),Xd(e,"AID",t.P),Gf(t,e),Xd(e,"TYPE","xmlhttp"),t.i&&t.l&&Mf(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Yd(Kd(e)),n.j=null,n.I=!0,Ad(n,t)}function Zf(t){null!=t.m&&(_l.clearTimeout(t.m),t.m=null)}function tp(t,e){var n=null;if(t.a==e){Zf(t),Yf(t),t.a=null;var r=2}else{if(!bf(t.b,e))return;n=e.s,_f(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Al()-e.u;var i=t.u;Lh(r=cd(),new pd(r,n,e,i)),Kf(t)}else Wf(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(yf(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=md(xl(t.Ba,t,e),ep(t,t.u)),t.u++,0)))}(t,e)||2==r&&Xf(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:np(t,5);break;case 4:np(t,10);break;case 3:np(t,6);break;default:np(t,2)}}function ep(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function np(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=xl(t.Ya,t);n||(n=new Hd("//www.google.com/images/cleardot.gif"),_l.location&&"http"==_l.location.protocol||$d(n,"https"),Yd(n)),function(t,e){var n=new od;if(_l.Image){var r=new Image;r.onload=kl(Of,n,r,"TestLoadImage: loaded",!0,e),r.onerror=kl(Of,n,r,"TestLoadImage: error",!1,e),r.onabort=kl(Of,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=kl(Of,n,r,"TestLoadImage: timeout",!1,e),_l.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else fd(2);t.v=0,t.f&&t.f.ra(e),rp(t),zf(t)}function rp(t){t.v=0,t.I=-1,t.f&&(0==wf(t.b).length&&0==t.g.length||(t.b.c.length=0,Fl(t.g),t.g.length=0),t.f.qa())}function ip(t,e,n){var r=function(t){return t instanceof Hd?Kd(t):new Hd(t,void 0)}(n);if(""!=r.c)e&&Gd(r,e+"."+r.c),Qd(r,r.h);else{var i=_l.location;r=function(t,e,n,r){var i=new Hd(null,void 0);return t&&$d(i,t),e&&Gd(i,e),n&&Qd(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Hl(t.V,function(t,e){Xd(r,e,t)}),n=t.na,(e=t.A)&&n&&Xd(r,e,n),Xd(r,"VER",t.ha),Gf(t,r),r}function op(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new If(t.Na)).F=t.C,e}function sp(){}function ap(){if(Jl&&!(10<=Number(ch)))throw Error("Environmental error: no available transport.")}function up(t,e){Fh.call(this),this.a=new Uf(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ll(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ll(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new hp(this)}function cp(t){Sd.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function lp(){Ed.call(this),this.status=1}function hp(t){this.a=t}(yl=If.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:_d),this.a.onreadystatechange=xl(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void jf(this,o)}t=n||"";var i=new Ud(this.headers);r&&Vd(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Nf,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=_l.FormData&&t instanceof _l.FormData,!(0<=Dl(Af,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ff(this),0<this.o&&((this.D=function(t){return Jl&&uh(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=xl(this.xa,this)):this.m=Jh(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){jf(this,o)}},yl.xa=function(){void 0!==vl&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Lh(this,"timeout"),this.abort(8))},yl.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Lh(this,"complete"),Lh(this,"abort"),Pf(this))},yl.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Pf(this,!0)),If.X.G.call(this)},yl.za=function(){this.j||(this.A||this.l||this.g?Rf(this):this.Ua())},yl.Ua=function(){Rf(this)},yl.W=function(){try{return 2<Lf(this)?this.a.status:-1}catch(Xl){return-1}},yl.$=function(){try{return this.a?this.a.responseText:""}catch(Xl){return""}},yl.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Tf(e)}},yl.ua=function(){return this.h},yl.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(yl=Uf.prototype).ha=8,yl.v=1,yl.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Od(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Gl(r=Kl(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Qf(this,n,e),Xd(i=Kd(this.B),"RID",t),Xd(i,"CVER",22),this.A&&Xd(i,"X-HTTP-Session-Id",this.A),Gf(this,i),this.i&&r&&Mf(i,this.i,r),vf(this.b,n),this.Ia&&Xd(i,"TYPE","init"),this.da?(Xd(i,"$req",e),Xd(i,"SID","null"),n.U=!0,kd(n,i,null)):kd(n,i,e),this.v=2}}else 3==this.v&&(t?$f(this,t):0==this.g.length||gf(this.b)||$f(this))},yl.Aa=function(){if(this.j=null,Jf(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=md(xl(this.Ta,this),t)}},yl.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,fd(10),Bf(this),Jf(this))},yl.Sa=function(){null!=this.m&&(this.m=null,Bf(this),Xf(this),fd(19))},yl.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),fd(2)):(this.c.info("Failed to ping google.com"),fd(1))},(yl=sp.prototype).ta=function(){},yl.sa=function(){},yl.ra=function(){},yl.qa=function(){},yl.Ja=function(){},ap.prototype.a=function(t,e){return new up(t,e)},Nl(up,Fh),up.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;fd(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ip(t,null,t.fa),Kf(t)},up.prototype.close=function(){qf(this.a)},up.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Hf(this.a,e)}else this.l?((e={}).__data__=Vh(t),Hf(this.a,e)):Hf(this.a,t)},up.prototype.G=function(){this.a.f=null,delete this.f,qf(this.a),delete this.a,up.X.G.call(this)},Nl(cp,Sd),Nl(lp,Ed),Nl(hp,sp),hp.prototype.ta=function(){Lh(this.a,"a")},hp.prototype.sa=function(t){Lh(this.a,new cp(t))},hp.prototype.ra=function(t){Lh(this.a,new lp(t))},hp.prototype.qa=function(){Lh(this.a,"b")},ap.prototype.createWebChannel=ap.prototype.a,up.prototype.send=up.prototype.h,up.prototype.open=up.prototype.g,up.prototype.close=up.prototype.close,gd.NO_ERROR=0,gd.TIMEOUT=8,gd.HTTP_ERROR=6,yd.COMPLETE="complete",vd.EventType=wd,wd.OPEN="a",wd.CLOSE="b",wd.ERROR="c",wd.MESSAGE="d",Fh.prototype.listen=Fh.prototype.va,If.prototype.listenOnce=If.prototype.wa,If.prototype.getLastError=If.prototype.Qa,If.prototype.getLastErrorCode=If.prototype.ua,If.prototype.getStatus=If.prototype.W,If.prototype.getResponseJson=If.prototype.Pa,If.prototype.getResponseText=If.prototype.$,If.prototype.send=If.prototype.ba;var dp=gd,fp=yd,pp=ad,mp=vd,gp=If,yp=n("mrSG"),bp=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();bp.o=-1;var vp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_p=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(yp.c)(e,t),e}(Error),wp=new pl.b("@firebase/firestore");function Sp(){return wp.logLevel}function Ep(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wp.logLevel<=pl.a.DEBUG){var r=e.map(Tp);wp.debug.apply(wp,Object(yp.f)(["Firestore (8.4.0): "+t],r))}}function Cp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wp.logLevel<=pl.a.ERROR){var r=e.map(Tp);wp.error.apply(wp,Object(yp.f)(["Firestore (8.4.0): "+t],r))}}function Op(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wp.logLevel<=pl.a.WARN){var r=e.map(Tp);wp.warn.apply(wp,Object(yp.f)(["Firestore (8.4.0): "+t],r))}}function Tp(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(SC){return t}}function Ip(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.0) INTERNAL ASSERTION FAILED: "+t;throw Cp(e),new Error(e)}function xp(t,e){t||Ip()}function kp(t,e){return t}function Ap(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Np=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ap(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function jp(t,e){return t<e?-1:t>e?1:0}function Dp(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Rp(t){return t+"\0"}var Pp=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _p(vp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _p(vp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new _p(vp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _p(vp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?jp(this.nanoseconds,t.nanoseconds):jp(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Fp=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Pp(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Lp(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mp(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Vp(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Up=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ip(),void 0===n?n=t.length-e:n>t.length-e&&Ip(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),qp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(yp.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new _p(vp.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Up),Bp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(yp.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Bp.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new _p(vp.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new _p(vp.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new _p(vp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new _p(vp.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Up),Hp=function(){function t(t){this.fields=t,t.sort(zp.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Dp(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Kp=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return jp(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Kp.EMPTY_BYTE_STRING=new Kp("");var $p=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gp(t){if(xp(!!t),"string"==typeof t){var e=0,n=$p.exec(t);if(xp(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Qp(t.seconds),nanos:Qp(t.nanos)}}function Qp(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Wp(t){return"string"==typeof t?Kp.fromBase64String(t):Kp.fromUint8Array(t)}function Xp(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yp(t){var e=t.mapValue.fields.__previous_value__;return Xp(e)?Yp(e):e}function Jp(t){var e=Gp(t.mapValue.fields.__local_write_time__.timestampValue);return new Pp(e.seconds,e.nanos)}function Zp(t){return null==t}function tm(t){return 0===t&&1/t==-1/0}function em(t){return"number"==typeof t&&Number.isInteger(t)&&!tm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var nm=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(qp.fromString(e))},t.fromName=function(e){return new t(qp.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===qp.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return qp.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new qp(e.slice()))},t}();function rm(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xp(t)?4:10:Ip()}function im(t,e){var n=rm(t);if(n!==rm(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jp(t).isEqual(Jp(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Gp(t.timestampValue),r=Gp(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Wp(t.bytesValue).isEqual(Wp(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Qp(t.geoPointValue.latitude)===Qp(e.geoPointValue.latitude)&&Qp(t.geoPointValue.longitude)===Qp(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Qp(t.integerValue)===Qp(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Qp(t.doubleValue),r=Qp(e.doubleValue);return n===r?tm(n)===tm(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Dp(t.arrayValue.values||[],e.arrayValue.values||[],im);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Lp(n)!==Lp(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!im(n[i],r[i])))return!1;return!0}(t,e);default:return Ip()}}function om(t,e){return void 0!==(t.values||[]).find(function(t){return im(t,e)})}function sm(t,e){var n=rm(t),r=rm(e);if(n!==r)return jp(n,r);switch(n){case 0:return 0;case 1:return jp(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Qp(t.integerValue||t.doubleValue),r=Qp(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return am(t.timestampValue,e.timestampValue);case 4:return am(Jp(t),Jp(e));case 5:return jp(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Wp(t),r=Wp(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=jp(n[i],r[i]);if(0!==o)return o}return jp(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=jp(Qp(t.latitude),Qp(e.latitude));return 0!==n?n:jp(Qp(t.longitude),Qp(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=sm(n[i],r[i]);if(o)return o}return jp(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=jp(r[s],o[s]);if(0!==a)return a;var u=sm(n[r[s]],i[o[s]]);if(0!==u)return u}return jp(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ip()}}function am(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return jp(t,e);var n=Gp(t),r=Gp(e),i=jp(n.seconds,r.seconds);return 0!==i?i:jp(n.nanos,r.nanos)}function um(t){return cm(t)}function cm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Gp(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Wp(t.bytesValue).toBase64():"referenceValue"in t?nm.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=cm(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+cm(t.fields[o])}return e+"}"}(t.mapValue):Ip();var e}function lm(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function hm(t){return!!t&&"integerValue"in t}function dm(t){return!!t&&"arrayValue"in t}function fm(t){return!!t&&"nullValue"in t}function pm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mm(t){return!!t&&"mapValue"in t}var gm=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(zp.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return im(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===rm(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=mm(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)}),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(zp.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!mm(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function ym(t){var e=[];return Mp(t.fields||{},function(t,n){var r=new zp([t]);if(mm(n)){var i=ym(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Hp(e)}var bm=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Fp.min(),gm.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,gm.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,gm.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=gm.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=gm.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),vm=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function _m(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new vm(t,e,n,r,i,o,s)}function wm(t){var e=kp(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+um(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Zp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Rm(e.startAt)),e.endAt&&(n+="|ub:",n+=Rm(e.endAt)),e.h=n}return e.h}function Sm(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Fm(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!im(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mm(t.startAt,e.startAt)&&Mm(t.endAt,e.endAt)}function Em(t){return nm.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Cm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(yp.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Om(t,n,r):"array-contains"===n?new km(t,r):"in"===n?new Am(t,r):"not-in"===n?new Nm(t,r):"array-contains-any"===n?new jm(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Tm(t,n):new Im(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(sm(e,this.value)):null!==e&&rm(this.value)===rm(e)&&this.m(sm(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ip()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Om=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=nm.fromName(r.referenceValue),i}return Object(yp.c)(e,t),e.prototype.matches=function(t){var e=nm.comparator(t.key,this.key);return this.m(e)},e}(Cm),Tm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=xm(0,n),r}return Object(yp.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Cm),Im=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=xm(0,n),r}return Object(yp.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Cm);function xm(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return nm.fromName(t.referenceValue)})}var km=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(yp.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return dm(e)&&om(e.arrayValue,this.value)},e}(Cm),Am=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(yp.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&om(this.value.arrayValue,e)},e}(Cm),Nm=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(yp.c)(e,t),e.prototype.matches=function(t){if(om(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!om(this.value.arrayValue,e)},e}(Cm),jm=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(yp.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!dm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return om(e.value.arrayValue,t)})},e}(Cm),Dm=function(t,e){this.position=t,this.before=e};function Rm(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return um(t)}).join(",")}var Pm=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Fm(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Lm(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?nm.comparator(nm.fromName(s.referenceValue),n.key):sm(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Mm(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!im(t.position[n],e.position[n]))return!1;return!0}var Vm=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Um(t,e,n,r,i,o,s,a){return new Vm(t,e,n,r,i,o,s,a)}function qm(t){return new Vm(t)}function Bm(t){return!Zp(t.limit)&&"F"===t.limitType}function zm(t){return!Zp(t.limit)&&"L"===t.limitType}function Hm(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Km(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function $m(t){return null!==t.collectionGroup}function Gm(t){var e=kp(t);if(null===e.p){e.p=[];var n=Km(e),r=Hm(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Pm(n)),e.p.push(new Pm(zp.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Pm(zp.keyField(),u))}}}return e.p}function Qm(t){var e=kp(t);if(!e.T)if("F"===e.limitType)e.T=_m(e.path,e.collectionGroup,Gm(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Gm(e);r<i.length;r++){var o=i[r];n.push(new Pm(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Dm(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Dm(e.startAt.position,!e.startAt.before):null;e.T=_m(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Wm(t,e,n){return new Vm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xm(t,e){return Sm(Qm(t),Qm(e))&&t.limitType===e.limitType}function Ym(t){return wm(Qm(t))+"|lt:"+t.limitType}function Jm(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+um(e.value);var e}).join(", ")+"]"),Zp(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Rm(t.startAt)),t.endAt&&(e+=", endAt: "+Rm(t.endAt)),"Target("+e+")"}(Qm(t))+"; limitType="+t.limitType+")"}function Zm(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):nm.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Lm(t.startAt,Gm(t),e)||t.endAt&&Lm(t.endAt,Gm(t),e))}(t,e)}function tg(t){return function(e,n){for(var r=!1,i=0,o=Gm(t);i<o.length;i++){var s=o[i],a=eg(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function eg(t,e,n){var r=t.field.isKeyField()?nm.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?sm(r,i):Ip()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ip()}}function ng(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tm(e)?"-0":e}}function rg(t){return{integerValue:""+t}}function ig(t,e){return em(e)?rg(e):ng(t,e)}var og=function(){this._=void 0};function sg(t,e,n){return t instanceof cg?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof lg?hg(t,e):t instanceof dg?fg(t,e):function(t,e){var n=ug(t,e),r=mg(n)+mg(t.A);return hm(n)&&hm(t.A)?rg(r):ng(t.R,r)}(t,e)}function ag(t,e,n){return t instanceof lg?hg(t,e):t instanceof dg?fg(t,e):n}function ug(t,e){return t instanceof pg?hm(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var cg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(yp.c)(e,t),e}(og),lg=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(yp.c)(e,t),e}(og);function hg(t,e){for(var n=gg(e),r=function(t){n.some(function(e){return im(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var dg=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(yp.c)(e,t),e}(og);function fg(t,e){for(var n=gg(e),r=function(t){n=n.filter(function(e){return!im(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var pg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(yp.c)(e,t),e}(og);function mg(t){return Qp(t.integerValue||t.doubleValue)}function gg(t){return dm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var yg=function(t,e){this.field=t,this.transform=e},bg=function(t,e){this.version=t,this.transformResults=e},vg=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function _g(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var wg=function(){};function Sg(t,e,n){t instanceof Ig?function(t,e,n){var r=t.value.clone(),i=Ag(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof xg?function(t,e,n){if(_g(t.precondition,e)){var r=Ag(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(kg(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Eg(t,e,n){t instanceof Ig?function(t,e,n){if(_g(t.precondition,e)){var r=t.value.clone(),i=Ng(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Tg(e),r).setHasLocalMutations()}}(t,e,n):t instanceof xg?function(t,e,n){if(_g(t.precondition,e)){var r=Ng(t.fieldTransforms,n,e),i=e.data;i.setAll(kg(t)),i.setAll(r),e.convertToFoundDocument(Tg(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){_g(t.precondition,e)&&e.convertToNoDocument(Fp.min())}(t,e)}function Cg(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=ug(o.transform,s||null);null!=a&&(null==n&&(n=gm.empty()),n.set(o.field,a))}return n||null}function Og(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Dp(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof lg&&e instanceof lg||t instanceof dg&&e instanceof dg?Dp(t.elements,e.elements,im):t instanceof pg&&e instanceof pg?im(t.A,e.A):t instanceof cg&&e instanceof cg}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Tg(t){return t.isFoundDocument()?t.version:Fp.min()}var Ig=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(yp.c)(e,t),e}(wg),xg=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(yp.c)(e,t),e}(wg);function kg(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Ag(t,e,n){var r=new Map;xp(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,ag(s,a,n[i]))}return r}function Ng(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,sg(a,u,e))}return r}var jg,Dg,Rg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(yp.c)(e,t),e}(wg),Pg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(yp.c)(e,t),e}(wg),Fg=function(t){this.count=t};function Lg(t){switch(t){case vp.OK:return Ip();case vp.CANCELLED:case vp.UNKNOWN:case vp.DEADLINE_EXCEEDED:case vp.RESOURCE_EXHAUSTED:case vp.INTERNAL:case vp.UNAVAILABLE:case vp.UNAUTHENTICATED:return!1;case vp.INVALID_ARGUMENT:case vp.NOT_FOUND:case vp.ALREADY_EXISTS:case vp.PERMISSION_DENIED:case vp.FAILED_PRECONDITION:case vp.ABORTED:case vp.OUT_OF_RANGE:case vp.UNIMPLEMENTED:case vp.DATA_LOSS:return!0;default:return Ip()}}function Mg(t){if(void 0===t)return Cp("GRPC error has no .code"),vp.UNKNOWN;switch(t){case jg.OK:return vp.OK;case jg.CANCELLED:return vp.CANCELLED;case jg.UNKNOWN:return vp.UNKNOWN;case jg.DEADLINE_EXCEEDED:return vp.DEADLINE_EXCEEDED;case jg.RESOURCE_EXHAUSTED:return vp.RESOURCE_EXHAUSTED;case jg.INTERNAL:return vp.INTERNAL;case jg.UNAVAILABLE:return vp.UNAVAILABLE;case jg.UNAUTHENTICATED:return vp.UNAUTHENTICATED;case jg.INVALID_ARGUMENT:return vp.INVALID_ARGUMENT;case jg.NOT_FOUND:return vp.NOT_FOUND;case jg.ALREADY_EXISTS:return vp.ALREADY_EXISTS;case jg.PERMISSION_DENIED:return vp.PERMISSION_DENIED;case jg.FAILED_PRECONDITION:return vp.FAILED_PRECONDITION;case jg.ABORTED:return vp.ABORTED;case jg.OUT_OF_RANGE:return vp.OUT_OF_RANGE;case jg.UNIMPLEMENTED:return vp.UNIMPLEMENTED;case jg.DATA_LOSS:return vp.DATA_LOSS;default:return Ip()}}(Dg=jg||(jg={}))[Dg.OK=0]="OK",Dg[Dg.CANCELLED=1]="CANCELLED",Dg[Dg.UNKNOWN=2]="UNKNOWN",Dg[Dg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dg[Dg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dg[Dg.NOT_FOUND=5]="NOT_FOUND",Dg[Dg.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dg[Dg.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dg[Dg.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dg[Dg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dg[Dg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dg[Dg.ABORTED=10]="ABORTED",Dg[Dg.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dg[Dg.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dg[Dg.INTERNAL=13]="INTERNAL",Dg[Dg.UNAVAILABLE=14]="UNAVAILABLE",Dg[Dg.DATA_LOSS=15]="DATA_LOSS";var Vg=function(){function t(t,e){this.comparator=t,this.root=e||qg.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qg.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qg.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Ug(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Ug(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Ug(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Ug(this.root,t,this.comparator,!0)},t}(),Ug=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),qg=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Ip();if(this.right.isRed())throw Ip();var t=this.left.check();if(t!==this.right.check())throw Ip();return t+(this.isRed()?0:1)},t}();qg.EMPTY=null,qg.RED=!0,qg.BLACK=!1,qg.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ip()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ip()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ip()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ip()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ip()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new qg(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Bg=function(){function t(t){this.comparator=t,this.data=new Vg(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new zg(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new zg(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),zg=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Hg=new Vg(nm.comparator);function Kg(){return Hg}var $g=new Vg(nm.comparator);function Gg(){return $g}var Qg=new Vg(nm.comparator);function Wg(){return Qg}var Xg=new Bg(nm.comparator);function Yg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Xg,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Jg=new Bg(jp);function Zg(){return Jg}var ty=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,ey.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Fp.min(),r,Zg(),Kg(),Yg())},t}(),ey=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Kp.EMPTY_BYTE_STRING,n,Yg(),Yg(),Yg())},t}(),ny=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},ry=function(t,e){this.targetId=t,this.V=e},iy=function(t,e,n,r){void 0===n&&(n=Kp.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},oy=function(){function t(){this.S=0,this.D=uy(),this.C=Kp.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Yg(),e=Yg(),n=Yg();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ip()}}),new ey(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=uy()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),sy=function(){function t(t){this.W=t,this.G=new Map,this.H=Kg(),this.J=ay(),this.Y=new Bg(jp)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Ip()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Em(i))if(0===n){var o=new nm(i.path);this.tt(e,o,bm.newNoDocument(o,Fp.min()))}else xp(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Em(o.target)){var s=new nm(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,bm.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=Yg();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new ty(t,n,this.Y,this.H,r);return this.H=Kg(),this.J=ay(),this.Y=new Bg(jp),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new oy,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Bg(jp),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Ep("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new oy),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function ay(){return new Vg(nm.comparator)}function uy(){return new Vg(nm.comparator)}var cy={asc:"ASCENDING",desc:"DESCENDING"},ly={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hy=function(t,e){this.databaseId=t,this.I=e};function dy(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function fy(t,e){return t.I?e.toBase64():e.toUint8Array()}function py(t,e){return dy(t,e.toTimestamp())}function my(t){return xp(!!t),Fp.fromTimestamp(function(t){var e=Gp(t);return new Pp(e.seconds,e.nanos)}(t))}function gy(t,e){return function(t){return new qp(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function yy(t){var e=qp.fromString(t);return xp(qy(e)),e}function by(t,e){return gy(t.databaseId,e.path)}function vy(t,e){var n=yy(e);if(n.get(1)!==t.databaseId.projectId)throw new _p(vp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _p(vp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new nm(Ey(n))}function _y(t,e){return gy(t.databaseId,e)}function wy(t){var e=yy(t);return 4===e.length?qp.emptyPath():Ey(e)}function Sy(t){return new qp(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ey(t){return xp(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Cy(t,e,n){return{name:by(t,e),fields:n.toProto().mapValue.fields}}function Oy(t,e,n){var r=vy(t,e.name),i=my(e.updateTime),o=new gm({mapValue:{fields:e.fields}}),s=bm.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Ty(t,e){var n;if(e instanceof Ig)n={update:Cy(t,e.key,e.value)};else if(e instanceof Rg)n={delete:by(t,e.key)};else if(e instanceof xg)n={update:Cy(t,e.key,e.data),updateMask:Uy(e.fieldMask)};else{if(!(e instanceof Pg))return Ip();n={verify:by(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof cg)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof lg)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof dg)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof pg)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Ip()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:py(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ip()}(t,e.precondition)),n}function Iy(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?vg.updateTime(my(t.updateTime)):void 0!==t.exists?vg.exists(t.exists):vg.none()}(e.currentDocument):vg.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(xp("REQUEST_TIME"===e.setToServerValue),n=new cg):"appendMissingElements"in e?n=new lg(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new dg(e.removeAllFromArray.values||[]):"increment"in e?n=new pg(t,e.increment):Ip();var r=zp.fromServerFormat(e.fieldPath);return new yg(r,n)}(t,e)}):[];if(e.update){var i=vy(t,e.update.name),o=new gm({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Hp((t.fieldPaths||[]).map(function(t){return zp.fromServerFormat(t)}))}(e.updateMask);return new xg(i,o,s,n,r)}return new Ig(i,o,n,r)}if(e.delete){var a=vy(t,e.delete);return new Rg(a,n)}if(e.verify){var u=vy(t,e.verify);return new Pg(u,n)}return Ip()}function xy(t,e){return{documents:[_y(t,e.path)]}}function ky(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=_y(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_y(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(pm(t.value))return{unaryFilter:{field:Fy(t.field),op:"IS_NAN"}};if(fm(t.value))return{unaryFilter:{field:Fy(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(pm(t.value))return{unaryFilter:{field:Fy(t.field),op:"IS_NOT_NAN"}};if(fm(t.value))return{unaryFilter:{field:Fy(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fy(t.field),op:Py(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Fy(t.field),direction:Ry(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Zp(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=jy(e.startAt)),e.endAt&&(n.structuredQuery.endAt=jy(e.endAt)),n}function Ay(t){var e=wy(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xp(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Ny(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Pm(Ly(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Zp(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Dy(n.startAt));var l=null;return n.endAt&&(l=Dy(n.endAt)),Um(e,i,a,s,u,"F",c,l)}function Ny(t){return t?void 0!==t.unaryFilter?[Vy(t)]:void 0!==t.fieldFilter?[My(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Ny(t)}).reduce(function(t,e){return t.concat(e)}):Ip():[]}function jy(t){return{before:t.before,values:t.position}}function Dy(t){return new Dm(t.values||[],!!t.before)}function Ry(t){return cy[t]}function Py(t){return ly[t]}function Fy(t){return{fieldPath:t.canonicalString()}}function Ly(t){return zp.fromServerFormat(t.fieldPath)}function My(t){return Cm.create(Ly(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ip()}}(t.fieldFilter.op),t.fieldFilter.value)}function Vy(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ly(t.unaryFilter.field);return Cm.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ly(t.unaryFilter.field);return Cm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ly(t.unaryFilter.field);return Cm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ly(t.unaryFilter.field);return Cm.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ip()}}function Uy(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function qy(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function By(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Hy(e)),e=zy(t.get(n),e);return Hy(e)}function zy(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Hy(t){return t+"\x01\x01"}function Ky(t){var e=t.length;if(xp(e>=2),2===e)return xp("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),qp.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Ip(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Ip()}o=s+2}return new qp(r)}var $y=function(t,e){this.seconds=t,this.nanoseconds=e},Gy=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Gy.store="owner",Gy.key="owner";var Qy=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Qy.store="mutationQueues",Qy.keyPath="userId";var Wy=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Wy.store="mutations",Wy.keyPath="batchId",Wy.userMutationsIndex="userMutationsIndex",Wy.userMutationsKeyPath=["userId","batchId"];var Xy=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,By(e)]},t.key=function(t,e,n){return[t,By(e),n]},t}();Xy.store="documentMutations",Xy.PLACEHOLDER=new Xy;var Yy=function(t,e){this.path=t,this.readTime=e},Jy=function(t,e){this.path=t,this.version=e},Zy=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Zy.store="remoteDocuments",Zy.readTimeIndex="readTimeIndex",Zy.readTimeIndexPath="readTime",Zy.collectionReadTimeIndex="collectionReadTimeIndex",Zy.collectionReadTimeIndexPath=["parentPath","readTime"];var tb=function(t){this.byteSize=t};tb.store="remoteDocumentGlobal",tb.key="remoteDocumentGlobalKey";var eb=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};eb.store="targets",eb.keyPath="targetId",eb.queryTargetsIndexName="queryTargetsIndex",eb.queryTargetsKeyPath=["canonicalId","targetId"];var nb=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};nb.store="targetDocuments",nb.keyPath=["targetId","path"],nb.documentTargetsIndex="documentTargetsIndex",nb.documentTargetsKeyPath=["path","targetId"];var rb=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};rb.key="targetGlobalKey",rb.store="targetGlobal";var ib=function(t,e){this.collectionId=t,this.parent=e};ib.store="collectionParents",ib.keyPath=["collectionId","parent"];var ob=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ob.store="clientMetadata",ob.keyPath="clientId";var sb=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};sb.store="bundles",sb.keyPath="bundleId";var ab=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};ab.store="namedQueries",ab.keyPath="name";var ub=Object(yp.f)(Object(yp.f)([],Object(yp.f)(Object(yp.f)([],Object(yp.f)(Object(yp.f)([],Object(yp.f)(Object(yp.f)([],[Qy.store,Wy.store,Xy.store,Zy.store,eb.store,Gy.store,rb.store,nb.store]),[ob.store])),[tb.store])),[ib.store])),[sb.store,ab.store]),cb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",lb=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),hb=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},db=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Ip(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),fb=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new hb,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new gb(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=wb(e.target.error);n.ft.reject(new gb(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new gb(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Ep("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new bb(e)},t}(),pb=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(fl.h)())&&Cp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ep("SimpleDb","Removing database:",t),vb(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(fl.h)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(yp.b)(this,void 0,void 0,function(){var e,n=this;return Object(yp.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Ep("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new gb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new _p(vp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new gb(t,n))},i.onupgradeneeded=function(t){Ep("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Ep("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(yp.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(yp.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(yp.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=fb.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),db.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Ep("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),mb=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return vb(this.Pt.delete())},t}(),gb=function(t){function e(e,n){var r=this;return(r=t.call(this,vp.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(yp.c)(e,t),e}(_p);function yb(t){return"IndexedDbTransactionError"===t.name}var bb=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ep("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ep("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),vb(n)},t.prototype.add=function(t){return Ep("SimpleDb","ADD",this.store.name,t,t),vb(this.store.add(t))},t.prototype.get=function(t){var e=this;return vb(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Ep("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Ep("SimpleDb","DELETE",this.store.name,t),vb(this.store.delete(t))},t.prototype.count=function(){return Ep("SimpleDb","COUNT",this.store.name),vb(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Ep("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new db(function(n,r){e.onerror=function(t){var e=wb(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new db(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new mb(i),s=e(i.primaryKey,i.value,o);if(s instanceof db){var a=s.catch(function(t){return o.done(),db.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return db.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function vb(t){return new db(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=wb(t.target.error);n(e)}})}var _b=!1;function wb(t){var e=pb._t(Object(fl.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new _p("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return _b||(_b=!0,setTimeout(function(){throw r},0)),r}}return t}var Sb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(yp.c)(e,t),e}(lb);function Eb(t,e){var n=kp(t);return pb.It(n.Mt,e)}var Cb=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Sg(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Eg(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Eg(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Fp.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Yg())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Dp(this.mutations,t.mutations,function(t,e){return Og(t,e)})&&Dp(this.baseMutations,t.baseMutations,function(t,e){return Og(t,e)})},t}(),Ob=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){xp(e.mutations.length===r.length);for(var i=Wg(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Tb=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Fp.min()),void 0===o&&(o=Fp.min()),void 0===s&&(s=Kp.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Ib=function(t){this.Lt=t};function xb(t,e){if(e.document)return Oy(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=nm.fromSegments(e.noDocument.path),r=Db(e.noDocument.readTime),i=bm.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=nm.fromSegments(e.unknownDocument.path);return r=Db(e.unknownDocument.version),bm.newUnknownDocument(o,r)}return Ip()}function kb(t,e,n){var r=Ab(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:by(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:dy(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Zy(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=jb(e.version);return s=e.hasCommittedMutations,new Zy(null,new Yy(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=jb(e.version);return new Zy(new Jy(c,l),null,null,!0,r,i)}return Ip()}function Ab(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Nb(t){var e=new Pp(t[0],t[1]);return Fp.fromTimestamp(e)}function jb(t){var e=t.toTimestamp();return new $y(e.seconds,e.nanoseconds)}function Db(t){var e=new Pp(t.seconds,t.nanoseconds);return Fp.fromTimestamp(e)}function Rb(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Iy(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Iy(t.Lt,e)}),o=Pp.fromMillis(e.localWriteTimeMs);return new Cb(e.batchId,o,n,i)}function Pb(t){var e,n,r=Db(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Db(t.lastLimboFreeSnapshotVersion):Fp.min();return void 0!==t.query.documents?(xp(1===(n=t.query).documents.length),e=Qm(qm(wy(n.documents[0])))):e=function(t){return Qm(Ay(t))}(t.query),new Tb(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Kp.fromBase64String(t.resumeToken))}function Fb(t,e){var n,r=jb(e.snapshotVersion),i=jb(e.lastLimboFreeSnapshotVersion);n=Em(e.target)?xy(t.Lt,e.target):ky(t.Lt,e.target);var o=e.resumeToken.toBase64();return new eb(e.targetId,wm(e.target),r,o,e.sequenceNumber,i,n)}function Lb(t){var e=Ay({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Wm(e,e.limit,"L"):e}var Mb=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Vb(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Db(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Vb(t).put({bundleId:(n=e).id,createTime:jb(my(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Ub(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Lb(e.bundledQuery),readTime:Db(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Ub(t).put(function(t){return{name:t.name,readTime:jb(my(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Vb(t){return Eb(t,sb.store)}function Ub(t){return Eb(t,ab.store)}var qb=function(){function t(){this.Bt=new Bb}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),db.resolve()},t.prototype.getCollectionParents=function(t,e){return db.resolve(this.Bt.getEntries(e))},t}(),Bb=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Bg(qp.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Bg(qp.comparator)).toArray()},t}(),zb=function(){function t(){this.qt=new Bb}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:By(i)};return Hb(t).put(o)}return db.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Rp(e),""],!1,!0);return Hb(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Ky(o.parent))}return n})},t}();function Hb(t){return Eb(t,ib.store)}var Kb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$b=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Gb(t,e,n){var r=t.store(Wy.store),i=t.store(Xy.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){xp(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Xy.key(e,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return db.waitFor(o).next(function(){return c})}function Qb(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ip();e=t.noDocument}return JSON.stringify(e).length}$b.DEFAULT_COLLECTION_PERCENTILE=10,$b.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$b.DEFAULT=new $b(41943040,$b.DEFAULT_COLLECTION_PERCENTILE,$b.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$b.DISABLED=new $b(-1,0,0);var Wb=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return xp(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yb(t).Ot({index:Wy.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Jb(t),s=Yb(t);return s.add({}).next(function(a){xp("number"==typeof a);for(var u=new Cb(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Ty(t.Lt,e)}),i=n.mutations.map(function(e){return Ty(t.Lt,e)});return new Wy(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Bg(function(t,e){return jp(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],m=Xy.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(m,Xy.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),db.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Yb(t).get(e).next(function(t){return t?(xp(t.userId===n.userId),Rb(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?db.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Yb(t).Ot({index:Wy.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(xp(e.batchId>=r),o=Rb(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Yb(t).Ot({index:Wy.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yb(t).Nt(Wy.userMutationsIndex,n).next(function(t){return t.map(function(t){return Rb(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Xy.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Jb(t).Ot({range:i},function(r,i,s){var a=r[0],u=r[2],c=Ky(r[1]);if(a===n.userId&&e.path.isEqual(c))return Yb(t).get(u).next(function(t){if(!t)throw Ip();xp(t.userId===n.userId),o.push(Rb(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Bg(jp),i=[];return e.forEach(function(e){var o=Xy.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Jb(t).Ot({range:s},function(t,i,o){var s=t[0],a=t[2],u=Ky(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),db.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Xy.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Bg(jp);return Jb(t).Ot({range:s},function(t,e,o){var s=t[0],u=t[2],c=Ky(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Yb(t).get(e).next(function(t){if(null===t)throw Ip();xp(t.userId===n.userId),r.push(Rb(n.R,t))}))}),db.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Gb(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),db.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return db.resolve();var r=IDBKeyRange.lowerBound(Xy.prefixForUser(e.userId)),i=[];return Jb(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var o=Ky(t[1]);i.push(o)}else r.done()}).next(function(){xp(0===i.length)})})},t.prototype.containsKey=function(t,e){return Xb(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Zb(t).get(this.userId).next(function(t){return t||new Qy(e.userId,-1,"")})},t}();function Xb(t,e,n){var r=Xy.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Jb(t).Ot({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Yb(t){return Eb(t,Wy.store)}function Jb(t){return Eb(t,Xy.store)}function Zb(t){return Eb(t,Qy.store)}var tv=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),ev=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new tv(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Fp.fromTimestamp(new Pp(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return nv(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return xp(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return nv(t).Ot(function(s,a){var u=Pb(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return db.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return nv(t).Ot(function(t,n){var r=Pb(n);e(r)})},t.prototype.Xt=function(t){return rv(t).get(rb.key).next(function(t){return xp(null!==t),t})},t.prototype.Zt=function(t,e){return rv(t).put(rb.key,e)},t.prototype.te=function(t,e){return nv(t).put(Fb(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=wm(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return nv(t).Ot({range:r,index:eb.queryTargetsIndexName},function(t,n,r){var o=Pb(n);Sm(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=iv(t);return e.forEach(function(e){var s=By(e.path);i.push(o.put(new nb(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),db.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=iv(t);return db.forEach(e,function(e){var o=By(e.path);return db.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=iv(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=iv(t),i=Yg();return r.Ot({range:n,kt:!0},function(t,e,n){var r=Ky(t[1]),o=new nm(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=By(e.path),r=IDBKeyRange.bound([n],[Rp(n)],!1,!0),i=0;return iv(t).Ot({index:nb.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return nv(t).get(e).next(function(t){return t?Pb(t):null})},t}();function nv(t){return Eb(t,eb.store)}function rv(t){return Eb(t,rb.store)}function iv(t){return Eb(t,nb.store)}function ov(t){return Object(yp.b)(this,void 0,void 0,function(){return Object(yp.d)(this,function(e){if(t.code!==vp.FAILED_PRECONDITION||t.message!==cb)throw t;return Ep("LocalStore","Unexpectedly lost primary lease"),[2]})})}function sv(t,e){var n=t[1],r=e[1],i=jp(t[0],e[0]);return 0===i?jp(n,r):i}var av=function(){function t(t){this.ne=t,this.buffer=new Bg(sv),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();sv(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),uv=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Ep("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(yp.b)(e,void 0,void 0,function(){var e;return Object(yp.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return yb(e=n.sent())?(Ep("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ov(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),cv=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return db.resolve(bp.o);var r=new av(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ep("LruGarbageCollector","Garbage collection skipped; disabled"),db.resolve(Kb)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Ep("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Kb):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Ep("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Sp()<=pl.a.DEBUG&&Ep("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),db.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),lv=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new cv(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return hv(t,n)},t.prototype.removeReference=function(t,e,n){return hv(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return hv(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Zb(t).$t(function(r){return Xb(t,r,e).next(function(t){return t&&(n=!0),db.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),iv(t).delete([0,By(s.path)])})});i.push(u)}}).next(function(){return db.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return hv(t,e)},t.prototype.we=function(t,e){var n,r=iv(t),i=bp.o;return r.Ot({index:nb.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==bp.o&&e(new nm(Ky(n)),i),i=s,n=o):i=bp.o}).next(function(){i!==bp.o&&e(new nm(Ky(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function hv(t,e){return iv(t).put(function(t,e){return new nb(0,By(t.path),e)}(e,t.currentSequenceNumber))}var dv=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Mp(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Vp(this.inner)},t}(),fv=function(){function t(){this.changes=new dv(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Fp.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:bm.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?db.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),pv=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return yv(t).put(bv(e),n)},t.prototype.removeEntry=function(t,e){var n=yv(t),r=bv(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return yv(t).get(bv(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return yv(t).get(bv(e)).next(function(t){return{document:n.ye(e,t),size:Qb(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Kg();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Kg(),i=new Vg(nm.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Qb(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return db.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return yv(t).Ot({range:r},function(t,e,r){for(var s=nm.fromSegments(t);o&&nm.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Kg(),o=e.path.length+1,s={};if(n.isEqual(Fp.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Ab(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Zy.collectionReadTimeIndex}return yv(t).Ot(s,function(t,n,s){if(t.length===o){var a=xb(r.R,n);e.path.isPrefixOf(a.key.path)?Zm(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new mv(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return gv(t).get(tb.key).next(function(t){return xp(!!t),t})},t.prototype.me=function(t,e){return gv(t).put(tb.key,e)},t.prototype.ye=function(t,e){if(e){var n=xb(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Fp.min()))return n}return bm.newInvalidDocument(t)},t}(),mv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new dv(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(yp.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Bg(function(t,e){return jp(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=kb(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Qb(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=kb(e.Ie.R,bm.newNoDocument(o,Fp.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),db.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(fv);function gv(t){return Eb(t,tb.store)}function yv(t){return Eb(t,Zy.store)}function bv(t){return t.path.toArray()}var vv=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;xp(n<r&&n>=0&&r<=11);var o=new fb("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Gy.store)}(t),function(t){t.createObjectStore(Qy.store,{keyPath:Qy.keyPath}),t.createObjectStore(Wy.store,{keyPath:Wy.keyPath,autoIncrement:!0}).createIndex(Wy.userMutationsIndex,Wy.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Xy.store)}(t),_v(t),function(t){t.createObjectStore(Zy.store)}(t));var s=db.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(nb.store),t.deleteObjectStore(eb.store),t.deleteObjectStore(rb.store)}(t),_v(t)),s=s.next(function(){return function(t){var e=t.store(rb.store),n=new rb(0,0,Fp.min().toTimestamp(),0);return e.put(rb.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Wy.store).Nt().next(function(n){t.deleteObjectStore(Wy.store),t.createObjectStore(Wy.store,{keyPath:Wy.keyPath,autoIncrement:!0}).createIndex(Wy.userMutationsIndex,Wy.userMutationsKeyPath,{unique:!0});var r=e.store(Wy.store),i=n.map(function(t){return r.put(t)});return db.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(ob.store,{keyPath:ob.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(tb.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Zy.store);e.createIndex(Zy.readTimeIndex,Zy.readTimeIndexPath,{unique:!1}),e.createIndex(Zy.collectionReadTimeIndex,Zy.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(sb.store,{keyPath:sb.keyPath})}(t),function(t){t.createObjectStore(ab.store,{keyPath:ab.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(Zy.store).Ot(function(t,n){e+=Qb(n)}).next(function(){var n=new tb(e);return t.store(tb.store).put(tb.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Qy.store),r=t.store(Wy.store);return n.Nt().next(function(n){return db.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Wy.userMutationsIndex,i).next(function(r){return db.forEach(r,function(r){xp(r.userId===n.userId);var i=Rb(e.R,r);return Gb(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(nb.store),n=t.store(Zy.store);return t.store(rb.store).get(rb.key).next(function(t){var r=[];return n.Ot(function(n,i){var o=new qp(n),s=function(t){return[0,By(t)]}(o);r.push(e.get(s).next(function(n){return n?db.resolve():function(n){return e.put(new nb(0,By(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return db.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(ib.store,{keyPath:ib.keyPath});var n=e.store(ib.store),r=new Bb,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:By(i)})}};return e.store(Zy.store).Ot({kt:!0},function(t,e){var n=new qp(t);return i(n.popLast())}).next(function(){return e.store(Xy.store).Ot({kt:!0},function(t,e){var n=Ky(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(eb.store);return n.Ot(function(t,r){var i=Pb(r),o=Fb(e.R,i);return n.put(o)})},t}();function _v(t){t.createObjectStore(nb.store,{keyPath:nb.keyPath}).createIndex(nb.documentTargetsIndex,nb.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(eb.store,{keyPath:eb.keyPath}).createIndex(eb.queryTargetsIndexName,eb.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(rb.store)}var wv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Sv=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new _p(vp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lv(this,i),this.Le=n+"main",this.R=new Ib(u),this.Be=new pb(this.Le,11,new vv(this.R)),this.qe=new ev(this.referenceDelegate,this.R),this.Ut=new zb,this.Ue=function(t,e){return new pv(t,e)}(this.R,this.Ut),this.Qe=new Mb,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Cp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new _p(vp.FAILED_PRECONDITION,wv);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new bp(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(yp.b)(e,void 0,void 0,function(){return Object(yp.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(yp.b)(e,void 0,void 0,function(){return Object(yp.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(yp.b)(e,void 0,void 0,function(){return Object(yp.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Cv(e).put(new ob(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(yb(e))return Ep("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ep("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Ev(t).get(Gy.key).next(function(t){return db.resolve(e.tn(t))})},t.prototype.en=function(t){return Cv(t).delete(this.clientId)},t.prototype.nn=function(){return Object(yp.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(yp.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Eb(t,ob.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return db.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?db.resolve(!0):Ev(t).get(Gy.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new _p(vp.FAILED_PRECONDITION,wv);return!1}}return!(!e.networkEnabled||!e.inForeground)||Cv(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Ep("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(yp.b)(this,void 0,void 0,function(){var t=this;return Object(yp.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Gy.store,ob.store],function(e){var n=new Sb(e,bp.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Cv(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Wb.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Ep("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",ub,function(o){return r=new Sb(o,i.Ne?i.Ne.next():bp.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Cp("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new _p(vp.FAILED_PRECONDITION,cb);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Ev(t).get(Gy.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new _p(vp.FAILED_PRECONDITION,wv)})},t.prototype.Ze=function(t){var e=new Gy(this.clientId,this.allowTabSynchronization,Date.now());return Ev(t).put(Gy.key,e)},t.yt=function(){return pb.yt()},t.prototype.Xe=function(t){var e=this,n=Ev(t);return n.get(Gy.key).next(function(t){return e.tn(t)?(Ep("IndexedDbPersistence","Releasing primary lease."),n.delete(Gy.key)):db.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Cp("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Ep("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Cp("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Cp("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Ev(t){return Eb(t,Gy.store)}function Cv(t){return Eb(t,ob.store)}function Ov(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Tv=function(t,e){this.progress=t,this.wn=e},Iv=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return nm.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):$m(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new nm(e)).next(function(t){var e=Gg();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Gg();return this.Ut.getCollectionParents(t,i).next(function(s){return db.forEach(s,function(s){var a=function(t,e){return new Vm(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=bm.newInvalidDocument(c),r=r.insert(c,l)),Eg(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Zm(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Yg(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof xg&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),xv=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Yg(),i=Yg(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),kv=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Fp.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(Bm(e)||zm(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Sp()<=pl.a.DEBUG&&Ep("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Jm(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Bg(tg(t));return e.forEach(function(e,r){Zm(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Sp()<=pl.a.DEBUG&&Ep("QueryEngine","Using full collection scan to execute query:",Jm(e)),this.Sn.getDocumentsMatchingQuery(t,e,Fp.min())},t}(),Av=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Vg(jp),this.kn=new dv(function(t){return wm(t)},Sm),this.On=Fp.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Iv(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Nv(t,e,n,r){return new Av(t,e,n,r)}function jv(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(yp.d)(this,function(s){switch(s.label){case 0:return n=kp(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Iv(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=Yg(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)s=s.add(g[m].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Dv(t,e){var n=kp(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=db.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);xp(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Rv(t){var e=kp(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Pv(t,e){var n=kp(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return xp(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=Kg();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(Fv(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Fp.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return db.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Fv(t,e,n,r,i){var o=Yg();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Kg();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Fp.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Ep("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Lv(t,e){var n=kp(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Mv(t,e){var n=kp(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?db.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Tb(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Vv(t,e,n){return Object(yp.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(yp.d)(this,function(a){switch(a.label){case 0:r=kp(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!yb(s=a.sent()))throw s;return Ep("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function Uv(t,e,n){var r=kp(t),i=Fp.min(),o=Yg();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=kp(t),i=r.kn.get(n);return void 0!==i?db.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Qm(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Fp.min(),n?o:Yg())}).next(function(t){return{documents:t,Bn:o}})})}function qv(t,e){var n=kp(t),r=kp(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Bv(t){var e=kp(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=kp(t),i=Kg(),o=Ab(n),s=yv(e),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:Zy.readTimeIndex,range:a},function(t,e){var n=xb(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Nb(o)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function zv(t){return Object(yp.b)(this,void 0,void 0,function(){var e;return Object(yp.d)(this,function(n){return[2,(e=kp(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=yv(t),n=Fp.min();return e.Ot({index:Zy.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Nb(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function Hv(t,e,n,r){return Object(yp.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,d,f;return Object(yp.d)(this,function(p){switch(p.label){case 0:for(i=kp(t),o=Yg(),s=Kg(),a=Wg(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Mv(i,function(t){return Qm(qm(qp.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Fv(t,d,s,Fp.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,o,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Kv(t,e,n){return void 0===n&&(n=Yg()),Object(yp.b)(this,void 0,void 0,function(){var r,i;return Object(yp.d)(this,function(o){switch(o.label){case 0:return[4,Mv(t,Qm(Lb(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=kp(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=my(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(Kp.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var $v=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return db.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:my(n.createTime)}),db.resolve()},t.prototype.getNamedQuery=function(t,e){return db.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Lb(t.bundledQuery),readTime:my(t.readTime)}}(e)),db.resolve()},t}(),Gv=function(){function t(){this.Wn=new Bg(Qv.Gn),this.zn=new Bg(Qv.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Qv(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Qv(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new nm(new qp([])),r=new Qv(n,t),i=new Qv(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new nm(new qp([])),n=new Qv(e,t),r=new Qv(e,t+1),i=Yg();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Qv(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Qv=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return nm.comparator(t.key,e.key)||jp(t.ns,e.ns)},t.Hn=function(t,e){return jp(t.ns,e.ns)||nm.comparator(t.key,e.key)},t}(),Wv=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Bg(Qv.Gn)}return t.prototype.checkEmpty=function(t){return db.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Cb(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Qv(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return db.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return db.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return db.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return db.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return db.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Qv(e,0),i=new Qv(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),db.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Bg(jp);return e.forEach(function(t){var e=new Qv(t,0),i=new Qv(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),db.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;nm.isDocumentKey(i)||(i=i.child(""));var o=new Qv(new nm(i),0),s=new Bg(jp);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),db.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;xp(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return db.forEach(e.mutations,function(i){var o=new Qv(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Qv(e,0),r=this.rs.firstAfterOrEqual(n);return db.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return db.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Xv=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Vg(nm.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return db.resolve(n?n.document.clone():bm.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Kg();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():bm.newInvalidDocument(t))}),db.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Kg(),i=new nm(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||Zm(e,u)&&(r=r.insert(u.key,u.clone()))}return db.resolve(r)},t.prototype.fs=function(t,e){return db.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Yv(this)},t.prototype.getSize=function(t){return db.resolve(this.size)},t}(),Yv=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(yp.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),db.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(fv),Jv=function(){function t(t){this.persistence=t,this.ds=new dv(function(t){return wm(t)},Sm),this.lastRemoteSnapshotVersion=Fp.min(),this.highestTargetId=0,this.ws=0,this._s=new Gv,this.targetCount=0,this.ys=tv.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),db.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return db.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return db.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),db.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),db.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new tv(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,db.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),db.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,db.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),db.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return db.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return db.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),db.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),db.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),db.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return db.resolve(n)},t.prototype.containsKey=function(t,e){return db.resolve(this._s.containsKey(e))},t}(),Zv=function(){function t(t,e){var n=this;this.gs={},this.Ne=new bp(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Jv(this),this.Ut=new qb,this.Ue=function(t,e){return new Xv(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Ib(e),this.Qe=new $v(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Wv(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Ep("MemoryPersistence","Starting transaction:",t);var i=new t_(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return db.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),t_=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(yp.c)(e,t),e}(lb),e_=function(){function t(t){this.persistence=t,this.As=new Gv,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ip()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),db.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),db.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),db.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return db.forEach(this.vs,function(r){var i=nm.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return db.or([function(){return db.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),n_=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function r_(t,e){return"firestore_clients_"+t+"_"+e}function i_(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function o_(t,e){return"firestore_targets_"+t+"_"+e}n_.UNAUTHENTICATED=new n_(null),n_.GOOGLE_CREDENTIALS=new n_("google-credentials-uid"),n_.FIRST_PARTY=new n_("first-party-uid");var s_=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new _p(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Cp("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),a_=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new _p(i.error.code,i.error.message)),o?new t(e,i.state,r):(Cp("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),u_=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Zg(),s=0;i&&s<r.activeTargetIds.length;++s)i=em(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Cp("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),c_=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Cp("SharedClientState","Failed to parse online state: "+e),null)},t}(),l_=function(){function t(){this.activeTargetIds=Zg()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),h_=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Vg(jp),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=r_(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new l_),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(yp.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(yp.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(r_(this.persistenceKey,r)))&&(o=u_.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(o_(this.persistenceKey,t));if(n){var r=a_.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(o_(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ep("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ep("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ep("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ep("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Cp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(yp.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(yp.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=bp.o;if(null!=t)try{var n=JSON.parse(t);xp("number"==typeof n),e=n}catch(t){Cp("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==bp.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new s_(this.currentUser,t,e,n),i=i_(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=i_(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=o_(this.persistenceKey,t),i=new a_(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return u_.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return s_.Vs(new n_(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return a_.Vs(r,e)},t.prototype.js=function(t){return c_.Vs(t)},t.prototype.ii=function(t){return Object(yp.b)(this,void 0,void 0,function(){return Object(yp.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Ep("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Zg();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),d_=function(){function t(){this.li=new l_,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new l_,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),f_=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),p_=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Ep("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Ep("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),m_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},g_=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),y_=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(yp.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new gp;s.listenOnce(fp.COMPLETE,function(){try{switch(s.getLastErrorCode()){case dp.NO_ERROR:var e=s.getResponseJson();Ep("Connection","XHR received:",JSON.stringify(e)),i(e);break;case dp.TIMEOUT:Ep("Connection",'RPC "'+t+'" timed out'),o(new _p(vp.DEADLINE_EXCEEDED,"Request time out"));break;case dp.HTTP_ERROR:var n=s.getStatus();if(Ep("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(vp).indexOf(e)>=0?e:vp.UNKNOWN}(r.status);o(new _p(a,r.message))}else o(new _p(vp.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new _p(vp.UNAVAILABLE,"Connection failed."));break;default:Ip()}}finally{Ep("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ap,i=cd(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),Object(fl.m)()||Object(fl.o)()||Object(fl.k)()||Object(fl.l)()||Object(fl.p)()||Object(fl.j)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Ep("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new g_({Ei:function(t){c?Ep("Connection","Not sending because WebChannel is closed:",t):(u||(Ep("Connection","Opening WebChannel transport."),a.open(),u=!0),Ep("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,mp.EventType.OPEN,function(){c||Ep("Connection","WebChannel transport opened.")}),h(a,mp.EventType.CLOSE,function(){c||(c=!0,Ep("Connection","WebChannel transport closed"),l.Vi())}),h(a,mp.EventType.ERROR,function(t){c||(c=!0,Op("Connection","WebChannel transport errored:",t),l.Vi(new _p(vp.UNAVAILABLE,"The operation could not be completed")))}),h(a,mp.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];xp(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Ep("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=jg[t];if(void 0!==e)return Mg(e)}(i),s=r.message;void 0===o&&(o=vp.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new _p(o,s)),a.close()}else Ep("Connection","WebChannel received:",n),l.Si(n)}}),h(i,pp.STAT_EVENT,function(t){10===t.stat?Ep("Connection","Detected buffering proxy"):11===t.stat&&Ep("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Ep("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return Ep("RestConnection","Received: ",t),t},function(e){throw Op("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.0",t["X-Firebase-GMPID"]=this.databaseInfo.appId,t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+m_[t]},t}());function b_(){return"undefined"!=typeof window?window:null}function v_(){return"undefined"!=typeof document?document:null}function __(t){return new hy(t,!0)}var w_=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Ep("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),S_=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new w_(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(yp.b)(this,void 0,void 0,function(){return Object(yp.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(yp.b)(this,void 0,void 0,function(){return Object(yp.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(yp.b)(this,void 0,void 0,function(){return Object(yp.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===vp.RESOURCE_EXHAUSTED?(Cp(e.toString()),Cp("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===vp.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new _p(vp.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(yp.b)(t,void 0,void 0,function(){return Object(yp.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Ep("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Ep("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),E_=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(yp.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ip()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(xp(void 0===e||"string"==typeof e),Kp.fromBase64String(e||"")):(xp(void 0===e||e instanceof Uint8Array),Kp.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?vp.UNKNOWN:Mg(t.code);return new _p(e,t.message||"")}(a);n=new iy(r,i,o,s||null)}else if("documentChange"in e){i=vy(t,(r=e.documentChange).document.name),o=my(r.document.updateTime);var a=new gm({mapValue:{fields:r.document.fields}}),u=(s=bm.newFoundDocument(i,o,a),r.targetIds||[]);n=new ny(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=vy(t,(r=e.documentDelete).document),o=r.readTime?my(r.readTime):Fp.min(),a=bm.newNoDocument(i,o),n=new ny([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=vy(t,(r=e.documentRemove).document),n=new ny([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ip();var c=e.filter;i=new Fg(r=c.count||0),n=new ry(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Fp.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Fp.min():e.readTime?my(e.readTime):Fp.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Sy(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Em(r)?{documents:xy(t,r)}:{query:ky(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=fy(t,e.resumeToken):e.snapshotVersion.compareTo(Fp.min())>0&&(n.readTime=dy(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ip()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Sy(this.R),e.removeTarget=t,this.cr(e)},e}(S_),C_=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(yp.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(xp(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(xp(void 0!==e),t.map(function(t){return function(t,e){var n=my(t.updateTime?t.updateTime:e);return n.isEqual(Fp.min())&&(n=my(e)),new bg(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=my(t.commitTime);return this.listener.Tr(n,e)}return xp(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Sy(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Ty(e.R,t)})};this.cr(n)},e}(S_),O_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(yp.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new _p(vp.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw t.code===vp.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw t.code===vp.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Rr=!1},e}(function(){}),T_=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Cp(e),this.Vr=!1):Ep("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),I_=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(yp.b)(o,void 0,void 0,function(){return Object(yp.d)(this,function(t){switch(t.label){case 0:return F_(this)?(Ep("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(yp.b)(this,void 0,void 0,function(){var e;return Object(yp.d)(this,function(n){switch(n.label){case 0:return(e=kp(t)).$r.add(4),[4,k_(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,x_(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new T_(n,r)};function x_(t){return Object(yp.b)(this,void 0,void 0,function(){var e,n;return Object(yp.d)(this,function(r){switch(r.label){case 0:if(!F_(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function k_(t){return Object(yp.b)(this,void 0,void 0,function(){var e,n;return Object(yp.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function A_(t,e){var n=kp(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),P_(n)?R_(n):Y_(n).er()&&j_(n,e))}function N_(t,e){var n=kp(t),r=Y_(n);n.Or.delete(e),r.er()&&D_(n,e),0===n.Or.size&&(r.er()?r.ir():F_(n)&&n.Br.set("Unknown"))}function j_(t,e){t.qr.U(e.targetId),Y_(t).mr(e)}function D_(t,e){t.qr.U(e),Y_(t).yr(e)}function R_(t){t.qr=new sy({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Y_(t).start(),t.Br.Sr()}function P_(t){return F_(t)&&!Y_(t).tr()&&t.Or.size>0}function F_(t){return 0===kp(t).$r.size}function L_(t){t.qr=void 0}function M_(t){return Object(yp.b)(this,void 0,void 0,function(){return Object(yp.d)(this,function(e){return t.Or.forEach(function(e,n){j_(t,e)}),[2]})})}function V_(t,e){return Object(yp.b)(this,void 0,void 0,function(){return Object(yp.d)(this,function(n){return L_(t),P_(t)?(t.Br.Nr(e),R_(t)):t.Br.set("Unknown"),[2]})})}function U_(t,e,n){return Object(yp.b)(this,void 0,void 0,function(){var r,i,o;return Object(yp.d)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof iy&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(yp.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Ep("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,q_(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ny?t.qr.X(e):e instanceof ry?t.qr.rt(e):t.qr.et(e),n.isEqual(Fp.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Rv(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Kp.EMPTY_BYTE_STRING,n.snapshotVersion)),D_(t,e);var r=new Tb(n.target,e,1,n.sequenceNumber);j_(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Ep("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,q_(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function q_(t,e,n){return Object(yp.b)(this,void 0,void 0,function(){var r=this;return Object(yp.d)(this,function(i){switch(i.label){case 0:if(!yb(e))throw e;return t.$r.add(1),[4,k_(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Rv(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(yp.b)(r,void 0,void 0,function(){return Object(yp.d)(this,function(e){switch(e.label){case 0:return Ep("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,x_(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function B_(t,e){return e().catch(function(n){return q_(t,n,e)})}function z_(t){return Object(yp.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(yp.d)(this,function(s){switch(s.label){case 0:e=kp(t),n=J_(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return F_(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Lv(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=J_(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,q_(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return H_(e)&&K_(e),[2]}})})}function H_(t){return F_(t)&&!J_(t).tr()&&t.kr.length>0}function K_(t){J_(t).start()}function $_(t){return Object(yp.b)(this,void 0,void 0,function(){return Object(yp.d)(this,function(e){return J_(t).Ar(),[2]})})}function G_(t){return Object(yp.b)(this,void 0,void 0,function(){var e,n,r;return Object(yp.d)(this,function(i){for(e=J_(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Q_(t,e,n){return Object(yp.b)(this,void 0,void 0,function(){var r,i;return Object(yp.d)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Ob.from(r,e,n),[4,B_(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,z_(t)];case 2:return o.sent(),[2]}})})}function W_(t,e){return Object(yp.b)(this,void 0,void 0,function(){return Object(yp.d)(this,function(n){switch(n.label){case 0:return e&&J_(t).pr?[4,function(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n,r;return Object(yp.d)(this,function(i){switch(i.label){case 0:return Lg(r=e.code)&&r!==vp.ABORTED?(n=t.kr.shift(),J_(t).sr(),[4,B_(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,z_(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return H_(t)&&K_(t),[2]}})})}function X_(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n;return Object(yp.d)(this,function(r){switch(r.label){case 0:return n=kp(t),e?(n.$r.delete(2),[4,x_(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,k_(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Y_(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=kp(t);return r.br(),new E_(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:M_.bind(null,t),Ri:V_.bind(null,t),_r:U_.bind(null,t)}),t.Mr.push(function(n){return Object(yp.b)(e,void 0,void 0,function(){return Object(yp.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),P_(t)?R_(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),L_(t),e.label=3;case 3:return[2]}})})})),t.Ur}function J_(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=kp(t);return r.br(),new C_(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:$_.bind(null,t),Ri:W_.bind(null,t),Ir:G_.bind(null,t),Tr:Q_.bind(null,t)}),t.Mr.push(function(n){return Object(yp.b)(e,void 0,void 0,function(){return Object(yp.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,z_(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Ep("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var Z_=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new hb,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _p(vp.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function tw(t,e){if(Cp("AsyncQueue",e+": "+t),yb(t))return new _p(vp.UNAVAILABLE,e+": "+t);throw t}var ew=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||nm.comparator(e.key,n.key)}:function(t,e){return nm.comparator(t.key,e.key)},this.keyedMap=Gg(),this.sortedSet=new Vg(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),nw=function(){function t(){this.Kr=new Vg(nm.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Ip():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),rw=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,ew.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),iw=function(){this.Wr=void 0,this.listeners=[]},ow=function(){this.queries=new dv(function(t){return Ym(t)},Xm),this.onlineState="Unknown",this.Gr=new Set};function sw(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(yp.d)(this,function(c){switch(c.label){case 0:if(n=kp(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new iw),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=tw(a,"Initialization of query '"+Jm(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&lw(n),[2]}})})}function aw(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(yp.d)(this,function(a){return n=kp(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function uw(t,e){for(var n=kp(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&lw(n)}function cw(t,e,n){var r=kp(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function lw(t){t.Gr.forEach(function(t){t.next()})}var hw=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new rw(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=rw.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),dw=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),fw=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return vy(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Oy(this.R,t.document,!1):bm.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return my(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new fw(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Yg()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(yp.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(yp.d)(this,function(o){switch(o.label){case 0:return[4,Hv(this.localStore,new fw(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Kv(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Tv(Object.assign({},this.progress),t))]}})})}}();var pw=function(t){this.key=t},mw=function(t){this.key=t},gw=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Yg(),this.mutatedKeys=Yg(),this.lo=tg(t),this.fo=new ew(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new nw,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Bm(this.query)&&i.size===this.query.limit?i.last():null,c=zm(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Zm(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Bm(this.query)||zm(this.query))for(;s.size>this.query.limit;){var l=Bm(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ip()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new rw(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new nw,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Yg(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new mw(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new pw(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Yg();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return rw.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),yw=function(t,e,n){this.query=t,this.targetId=e,this.view=n},bw=function(t){this.key=t,this.bo=!1},vw=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new dv(function(t){return Ym(t)},Xm),this.Vo=new Map,this.So=new Set,this.Do=new Vg(nm.comparator),this.Co=new Map,this.No=new Gv,this.xo={},this.Fo=new Map,this.ko=tv.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function _w(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(yp.d)(this,function(a){switch(a.label){case 0:return n=Ww(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Mv(n.localStore,Qm(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,ww(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&A_(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function ww(t,e,n,r){return Object(yp.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(yp.d)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(yp.b)(this,void 0,void 0,function(){var i,o,s;return Object(yp.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Uv(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Rw(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,Uv(t.localStore,e,!0)];case 1:return i=l.sent(),o=new gw(e,i.Bn),s=o._o(i.documents),a=ey.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Rw(t,n,u.To),c=new yw(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Sw(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n,r,i;return Object(yp.d)(this,function(o){switch(o.label){case 0:return n=kp(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Xm(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Vv(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),N_(n.remoteStore,r.targetId),jw(n,r.targetId)}).catch(ov)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return jw(n,r.targetId),[4,Vv(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Ew(t,e,n){return Object(yp.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(yp.d)(this,function(a){switch(a.label){case 0:r=Xw(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=kp(t),i=Pp.now(),o=e.reduce(function(t,e){return t.add(e.key)},Yg());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Cg(c,n.get(c.key));null!=l&&s.push(new xg(c.key,l,ym(l.toProto().mapValue),vg.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Vg(jp)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Lw(r,i.changes)];case 3:return a.sent(),[4,z_(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=tw(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Cw(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n,r;return Object(yp.d)(this,function(i){switch(i.label){case 0:n=kp(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Pv(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(xp(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?xp(r.bo):t.removedDocuments.size>0&&(xp(r.bo),r.bo=!1))}),[4,Lw(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ov(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Ow(t,e,n){var r=kp(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=kp(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&lw(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Tw(t,e,n){return Object(yp.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(yp.d)(this,function(c){switch(c.label){case 0:return(r=kp(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Vg(nm.comparator)).insert(o,bm.newNoDocument(o,Fp.min())),a=Yg().add(o),u=new ty(Fp.min(),new Map,new Bg(jp),s,a),[4,Cw(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Fw(r),[3,4];case 2:return[4,Vv(r.localStore,e,!1).then(function(){return jw(r,e,n)}).catch(ov)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Iw(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n,r,i;return Object(yp.d)(this,function(o){switch(o.label){case 0:n=kp(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Dv(n.localStore,e)];case 2:return i=o.sent(),Nw(n,r,null),Aw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Lw(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ov(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function xw(t,e,n){return Object(yp.b)(this,void 0,void 0,function(){var r,i;return Object(yp.d)(this,function(o){switch(o.label){case 0:r=kp(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=kp(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return xp(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),Nw(r,e,n),Aw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Lw(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ov(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function kw(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(yp.d)(this,function(a){switch(a.label){case 0:F_((n=kp(t)).remoteStore)||Ep("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=kp(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=tw(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Aw(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Nw(t,e,n){var r=kp(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function jw(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Dw(t,e)})}function Dw(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(N_(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Fw(t))}function Rw(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof pw?(t.No.addReference(o.key,e),Pw(t,o)):o instanceof mw?(Ep("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Dw(t,o.key)):Ip()}}function Pw(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Ep("SyncEngine","New document in limbo: "+n),t.So.add(r),Fw(t))}function Fw(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new nm(qp.fromString(e)),r=t.ko.next();t.Co.set(r,new bw(n)),t.Do=t.Do.insert(n,r),A_(t.remoteStore,new Tb(Qm(qm(n.path)),r,2,bp.o))}}function Lw(t,e,n){return Object(yp.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(yp.d)(this,function(a){switch(a.label){case 0:return r=kp(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=xv.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(yp.d)(this,function(l){switch(l.label){case 0:n=kp(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return db.forEach(e,function(e){return db.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return db.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!yb(r=l.sent()))throw r;return Ep("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Mw(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n,r;return Object(yp.d)(this,function(i){switch(i.label){case 0:return(n=kp(t)).currentUser.isEqual(e)?[3,3]:(Ep("SyncEngine","User change. New user:",e.toKey()),[4,jv(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new _p(vp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Lw(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Vw(t,e){var n=kp(t),r=n.Co.get(e);if(r&&r.bo)return Yg().add(r.key);var i=Yg(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function Uw(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n,r,i;return Object(yp.d)(this,function(o){switch(o.label){case 0:return[4,Uv((n=kp(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Rw(n,e.targetId,i.To),i)]}})})}function qw(t){return Object(yp.b)(this,void 0,void 0,function(){var e;return Object(yp.d)(this,function(n){return[2,Bv((e=kp(t)).localStore).then(function(t){return Lw(e,t)})]})})}function Bw(t,e,n,r){return Object(yp.b)(this,void 0,void 0,function(){var i,o;return Object(yp.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=kp(t),r=kp(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):db.resolve(null)})})}((i=kp(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,z_(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Nw(i,e,r||null),Aw(i,e),function(t,e){kp(kp(t)._n).Gt(e)}(i.localStore,e)):Ip(),s.label=4;case 4:return[4,Lw(i,o)];case 5:return s.sent(),[3,7];case 6:Ep("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function zw(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(yp.d)(this,function(c){switch(c.label){case 0:return Ww(n=kp(t)),Xw(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Hw(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,X_(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)A_(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return jw(n,e),Vv(n.localStore,e,!0)}),N_(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Hw(n,a)];case 5:return c.sent(),function(t){var e=kp(t);e.Co.forEach(function(t,n){N_(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Vg(nm.comparator)}(n),n.Oo=!1,[4,X_(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Hw(t,e,n){return Object(yp.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,d,f,p;return Object(yp.d)(this,function(m){switch(m.label){case 0:n=kp(t),r=[],i=[],o=0,s=e,m.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Mv(n.localStore,Qm(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,Uw(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,qv(n.localStore,a)];case 8:return p=m.sent(),[4,Mv(n.localStore,p)];case 9:return u=m.sent(),[4,ww(n,Kw(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Kw(t){return Um(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function $w(t){var e=kp(t);return kp(kp(e.localStore).persistence).fn()}function Gw(t,e,n,r){return Object(yp.b)(this,void 0,void 0,function(){var i,o,s;return Object(yp.d)(this,function(a){switch(a.label){case 0:return(i=kp(t)).Oo?(Ep("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Bv(i.localStore)];case 3:return o=a.sent(),s=ty.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Lw(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Vv(i.localStore,e,!0)];case 6:return a.sent(),jw(i,e,r),[3,8];case 7:Ip(),a.label=8;case 8:return[2]}})})}function Qw(t,e,n){return Object(yp.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(yp.d)(this,function(d){switch(d.label){case 0:if(!(r=Ww(t)).Oo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Ep("SyncEngine","Adding an already active target "+s),[3,5]):[4,qv(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,Mv(r.localStore,a)];case 3:return u=d.sent(),[4,ww(r,Kw(a),u.targetId,!1)];case 4:d.sent(),A_(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(yp.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Vv(r.localStore,t,!1).then(function(){N_(r.remoteStore,t),jw(r,t)}).catch(ov)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Ww(t){var e=kp(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tw.bind(null,e),e.vo._r=uw.bind(null,e.eventManager),e.vo.Mo=cw.bind(null,e.eventManager),e}function Xw(t){var e=kp(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Iw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xw.bind(null,e),e}var Yw=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(yp.b)(this,void 0,void 0,function(){return Object(yp.d)(this,function(e){switch(e.label){case 0:return this.R=__(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Nv(this.persistence,new kv,t.initialUser,this.R)},t.prototype.qo=function(t){return new Zv(e_.bs,this.R)},t.prototype.Bo=function(t){return new d_},t.prototype.terminate=function(){return Object(yp.b)(this,void 0,void 0,function(){return Object(yp.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Jw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(yp.c)(e,t),e.prototype.initialize=function(e){return Object(yp.b)(this,void 0,void 0,function(){return Object(yp.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,zv(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Xw(this.Ko.syncEngine)];case 4:return n.sent(),[4,z_(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return Nv(this.persistence,new kv,t.initialUser,this.R)},e.prototype.Uo=function(t){return new uv(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Ov(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?$b.withCacheSize(this.cacheSizeBytes):$b.DEFAULT;return new Sv(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,b_(),v_(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new d_},e}(Yw),Zw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(yp.c)(e,t),e.prototype.initialize=function(e){return Object(yp.b)(this,void 0,void 0,function(){var n,r=this;return Object(yp.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof h_?(this.sharedClientState.syncEngine={ui:Bw.bind(null,n),ai:Gw.bind(null,n),hi:Qw.bind(null,n),fn:$w.bind(null,n),ci:qw.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(yp.b)(r,void 0,void 0,function(){return Object(yp.d)(this,function(e){switch(e.label){case 0:return[4,zw(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=b_();if(!h_.yt(e))throw new _p(vp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ov(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new h_(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Jw),tS=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n=this;return Object(yp.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Ow(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Mw.bind(null,this.syncEngine),[4,X_(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new ow},t.prototype.createDatastore=function(t){var e=__(t.databaseInfo.databaseId),n=new y_(t.databaseInfo);return function(t,e,n){return new O_(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Ow(s.syncEngine,t,0)},o=p_.yt()?new p_:new f_,new I_(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new vw(t,e,n,r,i,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(yp.b)(this,void 0,void 0,function(){var e;return Object(yp.d)(this,function(n){switch(n.label){case 0:return e=kp(t),Ep("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,k_(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),eS=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),nS=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new hb,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(yp.b)(this,void 0,void 0,function(){return Object(yp.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(yp.b)(this,void 0,void 0,function(){return Object(yp.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(yp.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(yp.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new dw(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(yp.b)(this,void 0,void 0,function(){var t,e;return Object(yp.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(yp.b)(this,void 0,void 0,function(){var e;return Object(yp.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(yp.b)(this,void 0,void 0,function(){var t,e;return Object(yp.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(yp.b)(this,void 0,void 0,function(){var e,n=this;return Object(yp.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new _p(vp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(yp.d)(this,function(u){switch(u.label){case 0:return n=kp(t),r=Sy(n.R)+"/documents",i={documents:e.map(function(t){return by(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){xp(!!e.found);var n=vy(t,e.found.name),r=my(e.found.updateTime),i=new gm({mapValue:{fields:e.found.fields}});return bm.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){xp(!!e.missing),xp(!!e.readTime);var n=vy(t,e.missing),r=my(e.readTime);return bm.newNoDocument(n,r)}(t,e):Ip()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());xp(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Rg(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(yp.b)(this,void 0,void 0,function(){var t,e=this;return Object(yp.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=nm.fromPath(n);e.mutations.push(new Pg(r,e.precondition(r)))}),[4,function(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n,r,i;return Object(yp.d)(this,function(o){switch(o.label){case 0:return n=kp(t),r=Sy(n.R)+"/documents",i={writes:e.map(function(t){return Ty(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Ip();e=Fp.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new _p(vp.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?vg.updateTime(e):vg.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Fp.min()))throw new _p(vp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vg.updateTime(e)}return vg.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),rS=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new w_(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(yp.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(yp.d)(this,function(r){return t=new nS(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Zp(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Lg(e)}return!1},t}(),iS=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=n_.UNAUTHENTICATED,this.clientId=Np.u(),this.credentialListener=function(){},this.receivedInitialUser=new hb,this.credentials.setChangeListener(function(t){Ep("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(yp.b)(this,void 0,void 0,function(){return Object(yp.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new _p(vp.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new hb;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(yp.b)(t,void 0,void 0,function(){var t,n;return Object(yp.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=tw(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function oS(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(yp.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Ep("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(yp.b)(i,void 0,void 0,function(){return Object(yp.d)(this,function(t){switch(t.label){case 0:return[4,jv(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function sS(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n,r;return Object(yp.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,aS(t)];case 1:return n=i.sent(),Ep("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(yp.b)(this,void 0,void 0,function(){var n,r;return Object(yp.d)(this,function(i){switch(i.label){case 0:return(n=kp(t)).asyncQueue.verifyOperationInProgress(),Ep("RemoteStore","RemoteStore received new credentials"),r=F_(n),n.$r.add(3),[4,k_(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,x_(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function aS(t){return Object(yp.b)(this,void 0,void 0,function(){return Object(yp.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Ep("FirestoreClient","Using default OfflineComponentProvider"),[4,oS(t,new Yw)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function uS(t){return Object(yp.b)(this,void 0,void 0,function(){return Object(yp.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Ep("FirestoreClient","Using default OnlineComponentProvider"),[4,sS(t,new tS)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function cS(t){return aS(t).then(function(t){return t.persistence})}function lS(t){return aS(t).then(function(t){return t.localStore})}function hS(t){return uS(t).then(function(t){return t.remoteStore})}function dS(t){return uS(t).then(function(t){return t.syncEngine})}function fS(t){return Object(yp.b)(this,void 0,void 0,function(){var e,n;return Object(yp.d)(this,function(r){switch(r.label){case 0:return[4,uS(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=_w.bind(null,e.syncEngine),n.onUnlisten=Sw.bind(null,e.syncEngine),n)]}})})}function pS(t,e,n){var r=this;void 0===n&&(n={});var i=new hb;return t.asyncQueue.enqueueAndForget(function(){return Object(yp.b)(r,void 0,void 0,function(){var r;return Object(yp.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new eS({next:function(o){e.enqueueAndForget(function(){return aw(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new _p(vp.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new _p(vp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new hw(qm(n.path),o,{includeMetadataChanges:!0,so:!0});return sw(t,s)},[4,fS(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function mS(t,e,n){var r=this;void 0===n&&(n={});var i=new hb;return t.asyncQueue.enqueueAndForget(function(){return Object(yp.b)(r,void 0,void 0,function(){var r;return Object(yp.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new eS({next:function(n){e.enqueueAndForget(function(){return aw(t,s)}),n.fromCache&&"server"===r.source?i.reject(new _p(vp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new hw(n,o,{includeMetadataChanges:!0,so:!0});return sw(t,s)},[4,fS(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var gS=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},yS=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),bS=new Map,vS=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},_S=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(n_.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),wS=function(){function t(t){var e=this;this.oc=null,this.currentUser=n_.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Ep("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(xp("string"==typeof n.accessToken),new vS(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return xp(null===t||"string"==typeof t),new n_(t)},t}(),SS=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=n_.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),ES=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new SS(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(n_.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function CS(t,e,n){if(!n)throw new _p(vp.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function OS(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _p(vp.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function TS(t,e,n,r){if(!0===e&&!0===r)throw new _p(vp.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function IS(t){if(!nm.isDocumentKey(t))throw new _p(vp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function xS(t){if(nm.isDocumentKey(t))throw new _p(vp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function kS(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ip()}function AS(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _p(vp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=kS(t);throw new _p(vp.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function NS(t,e){if(e<=0)throw new _p(vp.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var jS=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new _p(vp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _p(vp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,TS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),DS=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new jS({}),this._settingsFrozen=!1,t instanceof yS?(this._databaseId=t,this._credentials=new _S):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _p(vp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yS(t.options.projectId)}(t),this._credentials=new wS(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new _p(vp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new _p(vp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jS(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new _S;switch(t.type){case"gapi":var e=t.client;return xp(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ES(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new _p(vp.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=bS.get(this))&&(Ep("ComponentProvider","Removing Datastore"),bS.delete(this),t.terminate()),Promise.resolve();var t},t}(),RS=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new FS(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),PS=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),FS=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,qm(r))||this)._path=r,i.type="collection",i}return Object(yp.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new RS(this.firestore,null,new nm(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(PS);function LS(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(fl.g)(t),CS("collection","path",e),t instanceof DS)return xS(n=qp.fromString.apply(qp,Object(yp.f)([e],r))),new FS(t,null,n);if(!(t instanceof RS||t instanceof FS))throw new _p(vp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xS(n=qp.fromString.apply(qp,Object(yp.f)([t.path],r)).child(qp.fromString(e))),new FS(t.firestore,null,n)}function MS(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(fl.g)(t),1===arguments.length&&(e=Np.u()),CS("doc","path",e),t instanceof DS)return IS(n=qp.fromString.apply(qp,Object(yp.f)([e],r))),new RS(t,null,new nm(n));if(!(t instanceof RS||t instanceof FS))throw new _p(vp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return IS(n=t._path.child(qp.fromString.apply(qp,Object(yp.f)([e],r)))),new RS(t.firestore,t instanceof FS?t._converter:null,new nm(n))}function VS(t,e){return t=Object(fl.g)(t),e=Object(fl.g)(e),(t instanceof RS||t instanceof FS)&&(e instanceof RS||e instanceof FS)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function US(t,e){return t=Object(fl.g)(t),e=Object(fl.g)(e),t instanceof PS&&e instanceof PS&&t.firestore===e.firestore&&Xm(t._query,e._query)&&t._converter===e._converter}var qS=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new w_(this,"async_queue_retry"),this.Ec=function(){var e=v_();e&&Ep("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=v_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=v_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(yp.b)(this,void 0,void 0,function(){var t,e=this;return Object(yp.d)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!yb(t=n.sent()))throw t;return Ep("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,Cp("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=Z_.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&Ip()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(yp.b)(this,void 0,void 0,function(){var t;return Object(yp.d)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function BS(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new hb,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var zS=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new qS,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(yp.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||KS(this),this._firestoreClient.terminate()},e}(DS);function HS(t){return t._firestoreClient||KS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function KS(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new gS(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new iS(t._credentials,t._queue,r)}function $S(t,e,n){var r=this,i=new hb;return t.asyncQueue.enqueue(function(){return Object(yp.b)(r,void 0,void 0,function(){var r;return Object(yp.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,oS(t,n)];case 1:return o.sent(),[4,sS(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===vp.FAILED_PRECONDITION||t.code===vp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function GS(t){if(t._initialized||t._terminated)throw new _p(vp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var QS=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new _p(vp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zp(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),WS=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Kp.fromBase64String(e))}catch(e){throw new _p(vp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Kp.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),XS=function(t){this._methodName=t},YS=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new _p(vp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _p(vp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return jp(this._lat,t._lat)||jp(this._long,t._long)},t}(),JS=/^__.*__$/,ZS=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new xg(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ig(t,this.data,e,this.fieldTransforms)},t}(),tE=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new xg(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function eE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ip()}}var nE=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return SE(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(eE(this.Dc)&&JS.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),rE=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||__(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new nE({Dc:t,methodName:e,Lc:n,path:zp.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function iE(t){var e=t._freezeSettings(),n=__(t._databaseId);return new rE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oE(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);bE("Data must be an object, but it was:",s,r);var a,u,c=gE(r,s);if(o.merge)a=new Hp(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=vE(e,d[h],n);if(!s.contains(f))throw new _p(vp.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");EE(l,f)||l.push(f)}a=new Hp(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new ZS(new gm(c),a,u)}var sE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(yp.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(XS);function aE(t,e,n){return new nE({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var uE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(yp.c)(e,t),e.prototype._toFieldTransform=function(t){return new yg(t.path,new cg)},e.prototype.isEqual=function(t){return t instanceof e},e}(XS),cE=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(yp.c)(e,t),e.prototype._toFieldTransform=function(t){var e=aE(this,t,!0),n=this.qc.map(function(t){return mE(t,e)}),r=new lg(n);return new yg(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(XS),lE=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(yp.c)(e,t),e.prototype._toFieldTransform=function(t){var e=aE(this,t,!0),n=this.qc.map(function(t){return mE(t,e)}),r=new dg(n);return new yg(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(XS),hE=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(yp.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new pg(t.R,ig(t.R,this.Uc));return new yg(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(XS);function dE(t,e,n,r){var i=t.Bc(1,e,n);bE("Data must be an object, but it was:",i,r);var o=[],s=gm.empty();Mp(r,function(t,r){var a=wE(e,t,n);r=Object(fl.g)(r);var u=i.kc(a);if(r instanceof sE)o.push(a);else{var c=mE(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new Hp(o);return new tE(s,a,i.fieldTransforms)}function fE(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[vE(e,r,n)],u=[i];if(o.length%2!=0)throw new _p(vp.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(vE(e,o[c])),u.push(o[c+1]);for(var l=[],h=gm.empty(),d=a.length-1;d>=0;--d)if(!EE(l,a[d])){var f=a[d],p=u[d];p=Object(fl.g)(p);var m=s.kc(f);if(p instanceof sE)l.push(f);else{var g=mE(p,m);null!=g&&(l.push(f),h.set(f,g))}}var y=new Hp(l);return new tE(h,y,s.fieldTransforms)}function pE(t,e,n,r){return void 0===r&&(r=!1),mE(n,t.Bc(r?4:3,e))}function mE(t,e){if(yE(t=Object(fl.g)(t)))return bE("Unsupported field value:",e,t),gE(t,e);if(t instanceof XS)return function(t,e){if(!eE(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=mE(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(fl.g)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ig(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Pp.fromDate(t);return{timestampValue:dy(e.R,n)}}if(t instanceof Pp)return n=new Pp(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:dy(e.R,n)};if(t instanceof YS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof WS)return{bytesValue:fy(e.R,t._byteString)};if(t instanceof RS){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:gy(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+kS(t))}(t,e)}function gE(t,e){var n={};return Vp(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mp(t,function(t,r){var i=mE(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function yE(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Pp||t instanceof YS||t instanceof WS||t instanceof RS||t instanceof XS)}function bE(t,e,n){if(!yE(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=kS(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function vE(t,e,n){if((e=Object(fl.g)(e))instanceof QS)return e._internalPath;if("string"==typeof e)return wE(t,e);throw SE("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var _E=new RegExp("[~\\*/\\[\\]]");function wE(t,e,n){if(e.search(_E)>=0)throw SE("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(QS.bind.apply(QS,Object(yp.f)([void 0],e.split(".")))))._internalPath}catch(r){throw SE("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function SE(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new _p(vp.INVALID_ARGUMENT,(a+=". ")+t+u)}function EE(t,e){return t.some(function(t){return t.isEqual(e)})}var CE=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new RS(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new OE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(TE("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),OE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(yp.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(CE);function TE(t,e){return"string"==typeof e?wE(t,e):e instanceof QS?e._internalPath:e._delegate._internalPath}var IE=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),xE=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(yp.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new kE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(TE("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(CE),kE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(yp.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(xE),AE=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new IE(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new kE(n._firestore,n._userDataWriter,r.key,r,new IE(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _p(vp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new kE(t._firestore,t._userDataWriter,e.doc.key,e.doc,new IE(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new kE(t._firestore,t._userDataWriter,e.doc.key,e.doc,new IE(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:NE(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function NE(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ip()}}function jE(t,e){return t instanceof xE&&e instanceof xE?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof AE&&e instanceof AE&&t._firestore===e._firestore&&US(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function DE(t){if(zm(t)&&0===t.explicitOrderBy.length)throw new _p(vp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var RE=function(){};function PE(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var FE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(yp.c)(e,t),e.prototype._apply=function(t){var e=iE(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new _p(vp.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){zE(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(BE(r,t,l[c]));a={arrayValue:{values:u}}}else a=BE(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||zE(s,o),a=pE(n,"where",s,"in"===o||"not-in"===o);var h=Cm.create(i,o,a);return function(t,e){if(e.g()){var n=Km(t);if(null!==n&&!n.isEqual(e.field))throw new _p(vp.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Hm(t);null!==r&&HE(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new _p(vp.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new PS(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new Vm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(RE),LE=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(yp.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new _p(vp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new _p(vp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Pm(e,n);return function(t,e){if(null===Hm(t)){var n=Km(t);null!==n&&HE(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new PS(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Vm(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(RE),ME=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(yp.c)(e,t),e.prototype._apply=function(t){return new PS(t.firestore,t._converter,Wm(t._query,this.Gc,this.zc))},e}(RE),VE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(yp.c)(e,t),e.prototype._apply=function(t){var e=qE(t,this.type,this.Hc,this.Jc);return new PS(t.firestore,t._converter,function(t,e){return new Vm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(RE),UE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(yp.c)(e,t),e.prototype._apply=function(t){var e=qE(t,this.type,this.Hc,this.Jc);return new PS(t.firestore,t._converter,function(t,e){return new Vm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(RE);function qE(t,e,n,r){if(n[0]=Object(fl.g)(n[0]),n[0]instanceof CE)return function(t,e,n,r,i){if(!r)throw new _p(vp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Gm(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(lm(e,r.key));else{var c=r.data.field(u.field);if(Xp(c))throw new _p(vp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new _p(vp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Dm(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=iE(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new _p(vp.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new _p(vp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!$m(t)&&-1!==c.indexOf("/"))throw new _p(vp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(qp.fromString(c));if(!nm.isDocumentKey(l))throw new _p(vp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new nm(l);a.push(lm(e,h))}else{var d=pE(n,r,c);a.push(d)}}return new Dm(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function BE(t,e,n){if("string"==typeof(n=Object(fl.g)(n))){if(""===n)throw new _p(vp.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!$m(e)&&-1!==n.indexOf("/"))throw new _p(vp.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(qp.fromString(n));if(!nm.isDocumentKey(r))throw new _p(vp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return lm(t,new nm(r))}if(n instanceof RS)return lm(t,n._key);throw new _p(vp.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+kS(n)+".")}function zE(t,e){if(!Array.isArray(t)||0===t.length)throw new _p(vp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new _p(vp.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function HE(t,e,n){if(!n.isEqual(e))throw new _p(vp.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var KE=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),rm(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qp(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Wp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ip()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Mp(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new YS(Qp(t.latitude),Qp(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Yp(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Jp(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Gp(t);return new Pp(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=qp.fromString(t);xp(qy(n));var r=new yS(n.get(1),n.get(3)),i=new nm(n.popFirst(5));return r.isEqual(e)||Cp("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function $E(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var GE=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(yp.c)(e,t),e.prototype.convertBytes=function(t){return new WS(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new RS(this.firestore,null,e)},e}(KE),QE=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=iE(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=WE(t,this._firestore),i=$E(r._converter,e,n),o=oE(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,vg.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=WE(t,this._firestore);return o="string"==typeof(e=Object(fl.g)(e))||e instanceof QS?fE(this._dataReader,"WriteBatch.update",s._key,e,n,r):dE(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,vg.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=WE(t,this._firestore);return this._mutations=this._mutations.concat(new Rg(e._key,vg.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new _p(vp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function WE(t,e){if((t=Object(fl.g)(t)).firestore!==e)throw new _p(vp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var XE=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(yp.c)(e,t),e.prototype.convertBytes=function(t){return new WS(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new RS(this.firestore,null,e)},e}(KE);function YE(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=AS(t,RS);var o=AS(t.firestore,zS),s=iE(o);return ZE(o,[("string"==typeof(e=Object(fl.g)(e))||e instanceof QS?fE(s,"updateDoc",t._key,e,n,r):dE(s,"updateDoc",t._key,e)).toMutation(t._key,vg.exists(!0))])}function JE(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(fl.g)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||BS(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(BS(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof RS)c=AS(t.firestore,zS),l=qm(t._key.path),u={next:function(e){i[a]&&i[a](tC(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=AS(t,PS);c=AS(f.firestore,zS),l=f._query;var p=new XE(c);u={next:function(t){i[a]&&i[a](new AE(c,p,f,t))},error:i[a+1],complete:i[a+2]},DE(t._query)}return function(t,e,n,r){var i=this,o=new eS(r),s=new hw(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(yp.b)(i,void 0,void 0,function(){var e;return Object(yp.d)(this,function(n){switch(n.label){case 0:return e=sw,[4,fS(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(yp.b)(i,void 0,void 0,function(){var e;return Object(yp.d)(this,function(n){switch(n.label){case 0:return e=aw,[4,fS(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(HS(c),l,h,u)}function ZE(t,e){return function(t,e){var n=this,r=new hb;return t.asyncQueue.enqueueAndForget(function(){return Object(yp.b)(n,void 0,void 0,function(){var n;return Object(yp.d)(this,function(i){switch(i.label){case 0:return n=Ew,[4,dS(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(HS(t),e)}function tC(t,e,n){var r=n.docs.get(e._key),i=new XE(t);return new xE(t,i,e._key,r,new IE(n.hasPendingWrites,n.fromCache),e._converter)}var eC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(yp.c)(e,t),e.prototype.get=function(e){var n=this,r=WE(e,this._firestore),i=new XE(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new xE(n._firestore,i,r._key,t._document,new IE(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=iE(t)}return t.prototype.get=function(t){var e=this,n=WE(t,this._firestore),r=new GE(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Ip();var i=t[0];if(i.isFoundDocument())return new CE(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new CE(e._firestore,r,n._key,null,n._converter);throw Ip()})},t.prototype.set=function(t,e,n){var r=WE(t,this._firestore),i=$E(r._converter,e,n),o=oE(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=WE(t,this._firestore);return o="string"==typeof(e=Object(fl.g)(e))||e instanceof QS?fE(this._dataReader,"Transaction.update",s._key,e,n,r):dE(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=WE(t,this._firestore);return this._transaction.delete(e._key),this},t}());function nC(){if("undefined"==typeof Uint8Array)throw new _p(vp.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function rC(){if("undefined"==typeof atob)throw new _p(vp.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var iC=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return rC(),new t(WS.fromBase64String(e))},t.fromUint8Array=function(e){return nC(),new t(WS.fromUint8Array(e))},t.prototype.toBase64=function(){return rC(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return nC(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),oC=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){GS(t=AS(t,zS));var n=HS(t),r=t._freezeSettings(),i=new tS;return $S(n,i,new Jw(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){GS(t=AS(t,zS));var e=HS(t),n=t._freezeSettings(),r=new tS;return $S(e,r,new Zw(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new _p(vp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new hb;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(yp.b)(e,void 0,void 0,function(){var e;return Object(yp.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(yp.b)(this,void 0,void 0,function(){return Object(yp.d)(this,function(e){switch(e.label){case 0:return pb.yt()?[4,pb.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Ov(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),sC=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof yS||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=AS(t,DS))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&Op("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(yp.b)(e,void 0,void 0,function(){var e,n;return Object(yp.d)(this,function(r){switch(r.label){case 0:return[4,cS(t)];case 1:return e=r.sent(),[4,hS(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=kp(t);return e.$r.delete(0),x_(e)}(n))]}})})})}(HS(AS(this._delegate,zS)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(yp.b)(e,void 0,void 0,function(){var e,n;return Object(yp.d)(this,function(r){switch(r.label){case 0:return[4,cS(t)];case 1:return e=r.sent(),[4,hS(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(yp.b)(this,void 0,void 0,function(){var e;return Object(yp.d)(this,function(n){switch(n.label){case 0:return(e=kp(t)).$r.add(0),[4,k_(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(HS(AS(this._delegate,zS)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&TS("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new hb;return t.asyncQueue.enqueueAndForget(function(){return Object(yp.b)(e,void 0,void 0,function(){var e;return Object(yp.d)(this,function(r){switch(r.label){case 0:return e=kw,[4,dS(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(HS(AS(this._delegate,zS)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new eS(e);return t.asyncQueue.enqueueAndForget(function(){return Object(yp.b)(n,void 0,void 0,function(){var e;return Object(yp.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){kp(t).Gr.add(e),e.next()},[4,fS(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(yp.b)(n,void 0,void 0,function(){var e;return Object(yp.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){kp(t).Gr.delete(e)},[4,fS(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(HS(t=AS(t,zS)),BS(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new _p(vp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new _C(this,LS(this._delegate,t))}catch(t){throw dC(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new hC(this,MS(this._delegate,t))}catch(t){throw dC(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new yC(this,function(t,e){if(t=AS(t,DS),CS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _p(vp.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new PS(t,null,function(t){return new Vm(qp.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw dC(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new hb;return t.asyncQueue.enqueueAndForget(function(){return Object(yp.b)(n,void 0,void 0,function(){var n;return Object(yp.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return uS(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new rS(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(HS(t),function(n){return e(new eC(t,n))})}(this._delegate,function(n){return t(new uC(e,n))})},t.prototype.batch=function(){var t=this;return HS(this._delegate),new cC(new QE(this._delegate,function(e){return ZE(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new _p(vp.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new _p(vp.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),aC=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(yp.c)(e,t),e.prototype.convertBytes=function(t){return new iC(new WS(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return hC.Zc(e,this.firestore,null)},e}(KE),uC=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new aC(t)}return t.prototype.get=function(t){var e=this,n=wC(t);return this._delegate.get(n).then(function(t){return new mC(e._firestore,new xE(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},t.prototype.set=function(t,e,n){var r=wC(t);return n?(OS("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=wC(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(yp.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=wC(t);return this._delegate.delete(e),this},t}(),cC=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=wC(t);return n?(OS("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=wC(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(yp.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=wC(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),lC=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new kE(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new gC(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new aC(e),n),i.set(n,o)),o},t}();lC.eu=new WeakMap;var hC=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new aC(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new _p(vp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new RS(n._delegate,r,new nm(e)))},t.Zc=function(e,n,r){return new t(n,new RS(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new _C(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new _C(this.firestore,LS(this._delegate,t))}catch(t){throw dC(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(fl.g)(t))instanceof RS&&VS(this._delegate,t)},t.prototype.set=function(t,e){e=OS("DocumentReference.set",e);try{return function(t,e,n){t=AS(t,RS);var r=AS(t.firestore,zS),i=$E(t._converter,e,n);return ZE(r,[oE(iE(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,vg.none())])}(this._delegate,t,e)}catch(t){throw dC(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?YE(this._delegate,t):YE.apply(void 0,Object(yp.f)([this._delegate,t,e],n))}catch(t){throw dC(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return ZE(AS((t=this._delegate).firestore,zS),[new Rg(t._key,vg.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=fC(e),i=pC(e,function(e){return new mC(t.firestore,new xE(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return JE(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=AS(t,RS);var e=AS(t.firestore,zS),n=HS(e),r=new XE(e);return function(t,e){var n=this,r=new hb;return t.asyncQueue.enqueueAndForget(function(){return Object(yp.b)(n,void 0,void 0,function(){var n;return Object(yp.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(yp.b)(this,void 0,void 0,function(){var r,i;return Object(yp.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=kp(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new _p(vp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=tw(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,lS(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new xE(e,r,t._key,n,new IE(null!==n&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=AS(t,RS);var e=AS(t.firestore,zS);return pS(HS(e),t._key,{source:"server"}).then(function(n){return tC(e,t,n)})}(this._delegate):function(t){t=AS(t,RS);var e=AS(t.firestore,zS);return pS(HS(e),t._key).then(function(n){return tC(e,t,n)})}(this._delegate)).then(function(t){return new mC(e.firestore,new xE(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?lC.tu(this.firestore,e):null))},t}();function dC(t,e,n){return t.message=t.message.replace(e,n),t}function fC(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!BS(r))return r}return{}}function pC(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=BS(t[0])?t[0]:BS(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var mC=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new hC(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return jE(this._delegate,t._delegate)},t}(),gC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(yp.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(mC),yC=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new aC(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,PE(this._delegate,function(t,e,n){var r=e,i=TE("where",t);return new FE(i,r,n)}(e,n,r)))}catch(e){throw dC(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,PE(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=TE("orderBy",t);return new LE(r,n)}(e,n)))}catch(e){throw dC(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,PE(this._delegate,function(t){return NS("limit",t),new ME("limit",t,"F")}(e)))}catch(e){throw dC(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,PE(this._delegate,function(t){return NS("limitToLast",t),new ME("limitToLast",t,"L")}(e)))}catch(e){throw dC(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,PE(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new VE("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw dC(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,PE(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new VE("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw dC(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,PE(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new UE("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw dC(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,PE(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new UE("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw dC(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return US(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=AS(t,PS);var e=AS(t.firestore,zS),n=HS(e),r=new XE(e);return function(t,e){var n=this,r=new hb;return t.asyncQueue.enqueueAndForget(function(){return Object(yp.b)(n,void 0,void 0,function(){var n;return Object(yp.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(yp.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(yp.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Uv(t,e,!0)];case 1:return a=u.sent(),r=new gw(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=tw(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,lS(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new AE(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=AS(t,PS);var e=AS(t.firestore,zS),n=HS(e),r=new XE(e);return mS(n,t._query,{source:"server"}).then(function(n){return new AE(e,r,t,n)})}(this._delegate):function(t){t=AS(t,PS);var e=AS(t.firestore,zS),n=HS(e),r=new XE(e);return DE(t._query),mS(n,t._query).then(function(n){return new AE(e,r,t,n)})}(this._delegate)).then(function(t){return new vC(e.firestore,new AE(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=fC(e),i=pC(e,function(e){return new vC(t.firestore,new AE(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return JE(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?lC.tu(this.firestore,e):null))},t}(),bC=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new gC(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),vC=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new yC(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new gC(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new bC(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new gC(n._firestore,r))})},t.prototype.isEqual=function(t){return jE(this._delegate,t._delegate)},t}(),_C=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(yp.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new hC(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new hC(this.firestore,void 0===t?MS(this._delegate):MS(this._delegate,t))}catch(t){throw dC(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=AS(t.firestore,zS),r=MS(t),i=$E(t._converter,e);return ZE(n,[oE(iE(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,vg.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new hC(e.firestore,t)})},e.prototype.isEqual=function(t){return VS(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?lC.tu(this.firestore,t):null))},e}(yC);function wC(t){return AS(t,RS)}var SC,EC=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(QS.bind.apply(QS,Object(yp.f)([void 0],t)))}return t.documentId=function(){return new t(zp.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(fl.g)(t))instanceof QS&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),CC=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new uE("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new sE("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new cE("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lE("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new hE("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),OC=n("/6Yf"),TC={Firestore:sC,GeoPoint:YS,Timestamp:Pp,Blob:iC,Transaction:uC,WriteBatch:cC,DocumentReference:hC,DocumentSnapshot:mC,Query:yC,QueryDocumentSnapshot:gC,QuerySnapshot:vC,CollectionReference:_C,FieldPath:EC,FieldValue:CC,setLogLevel:function(t){wp.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new OC.a("firestore",function(t){return function(t,e){return new sC(t,new zS(t,e),new oC)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},TC)))})(SC=dl.a),SC.registerVersion("@firebase/firestore","2.2.4");var IC=n("VRyK"),xC=n("qgXg"),kC=n("Ylt2");class AC extends St.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new NC(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Et.a;if(this.isStopped||this.hasError?o=Ce.a.EMPTY:(this.observers.push(t),o=new kC.a(this,t)),r&&t.add(t=new cl.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||xC.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class NC{constructor(t,e){this.time=t,this.value=e}}function jC(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new AC(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function DC(t,e){return e?Kt(()=>t,e):Kt(()=>t)}var RC=n("tf+s");const PC=new r.s("angularfire2.auth.use-emulator"),FC=new r.s("angularfire2.auth.settings"),LC=new r.s("angularfire2.auth.tenant-id"),MC=new r.s("angularfire2.auth.langugage-code"),VC=new r.s("angularfire2.auth.use-device-language"),UC=new r.s("angularfire.auth.persistence");let qC=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new ll.d(i),d=Object(ll.h)(h),f=new St.a,p=Object(wt.a)(void 0).pipe(Object(cl.b)(h.outsideAngular),Kt(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(zt.a)(()=>Object(ll.g)(t,i,e)),Object(zt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(ll.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),jC({bufferSize:1,refCount:!1}));if(V(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(wt.a)(null);else{p.pipe(we()).subscribe();const t=p.pipe(Kt(t=>t.getRedirectResult().then(t=>t,()=>null)),d,jC({bufferSize:1,refCount:!1})),e=t=>new Nt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Kt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Kt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(DC(n),Object(RC.a)(h.outsideAngular),Object(cl.b)(h.insideAngular)),this.user=t.pipe(DC(r),Object(RC.a)(h.outsideAngular),Object(cl.b)(h.insideAngular)),this.idToken=this.user.pipe(Kt(t=>t?Object(_t.a)(t.getIdToken()):Object(wt.a)(null))),this.idTokenResult=this.user.pipe(Kt(t=>t?Object(_t.a)(t.getIdTokenResult()):Object(wt.a)(null))),this.credential=Object(IC.a)(t,f,this.authState.pipe(ne(t=>!t))).pipe(Object(zt.a)(t=>(null==t?void 0:t.user)?t:null),Object(RC.a)(h.outsideAngular),Object(cl.b)(h.insideAngular))}return Object(ll.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(ll.c),r.Xb(ll.b,8),r.Xb(r.D),r.Xb(r.B),r.Xb(PC,8),r.Xb(FC,8),r.Xb(LC,8),r.Xb(MC,8),r.Xb(VC,8),r.Xb(UC,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Xb)(ll.c),Object(r.Xb)(ll.b,8),Object(r.Xb)(r.D),Object(r.Xb)(r.B),Object(r.Xb)(PC,8),Object(r.Xb)(FC,8),Object(r.Xb)(LC,8),Object(r.Xb)(MC,8),Object(r.Xb)(VC,8),Object(r.Xb)(UC,8))},token:t,providedIn:"any"}),t})();function BC(t,e){return function(t,e=Va.b){return new Nt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function zC(t,e){return BC(t,e).pipe(Object(zt.a)(t=>({payload:t,type:"query"})))}function HC(t,e){return zC(t,e).pipe(Jt(void 0),il(),Object(zt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function KC(t,e,n){return HC(t,n).pipe(Zt((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return $C(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return $C(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return $C(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new al(void 0,void 0)),Object(zt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function $C(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function GC(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(ll.e)(qC,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class QC{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=HC(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(zt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Jt(void 0),il(),ne(([t,e])=>e.length>0||!t),Object(zt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Zt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=GC(t);return KC(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return zC(this.query,this.afs.schedulers.outsideAngular).pipe(Object(zt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(_t.a)(this.query.get(t)).pipe(Object(cl.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new WC(this.ref.doc(t),this.afs)}}class WC{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=eO(n,e);return new QC(r,i,this.afs)}snapshotChanges(){return BC(this.ref,this.afs.schedulers.outsideAngular).pipe(Jt(void 0),il(),Object(zt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(zt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(_t.a)(this.ref.get(t)).pipe(Object(cl.b)(this.afs.schedulers.insideAngular))}}class XC{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?HC(this.query,this.afs.schedulers.outsideAngular).pipe(Object(zt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ne(t=>t.length>0),this.afs.keepUnstableUntilFirst):HC(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Zt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=GC(t);return KC(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return zC(this.query,this.afs.schedulers.outsideAngular).pipe(Object(zt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(_t.a)(this.query.get(t)).pipe(Object(cl.b)(this.afs.schedulers.insideAngular))}}const YC=new r.s("angularfire2.enableFirestorePersistence"),JC=new r.s("angularfire2.firestore.persistenceSettings"),ZC=new r.s("angularfire2.firestore.settings"),tO=new r.s("angularfire2.firestore.use-emulator");function eO(t,e=(t=>t)){return{query:e(t),ref:t}}let nO=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new ll.d(o),this.keepUnstableUntilFirst=Object(ll.h)(this.schedulers);const c=Object(ll.g)(t,o,e);!hl.a.auth&&u&&Object(ll.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(ll.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!V(i)){const e=()=>{try{return Object(_t.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(SC){return"undefined"!=typeof console&&console.warn(SC),Object(wt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(wt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=eO(n,e),o=this.schedulers.ngZone.run(()=>r);return new QC(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new XC(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new WC(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(ll.c),r.Xb(ll.b,8),r.Xb(YC,8),r.Xb(ZC,8),r.Xb(r.D),r.Xb(r.B),r.Xb(JC,8),r.Xb(tO,8),r.Xb(PC,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Xb)(ll.c),Object(r.Xb)(ll.b,8),Object(r.Xb)(YC,8),Object(r.Xb)(ZC,8),Object(r.Xb)(r.D),Object(r.Xb)(r.B),Object(r.Xb)(JC,8),Object(r.Xb)(tO,8),Object(r.Xb)(PC,8))},token:t,providedIn:"any"}),t})(),rO=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:YC,useValue:!0},{provide:JC,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[nO]}),t})(),iO=(()=>{class t{constructor(t){this.db=t}getGameData(){return this.gameData}setGameData(t){this.gameData=t}saveGame(t){this.db.collection("save-data").add(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(nO))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var oO=n("n6bG");function sO(t,e,n,r){return Object(oO.a)(n)&&(r=n,n=void 0),r?sO(t,e,n).pipe(Object(zt.a)(t=>Object(Tt.a)(t)?r(...t):r(t))):new Nt.a(r=>{aO(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function aO(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)aO(t[o],e,n,r,i)}r.add(o)}function uO(t){return e=>e.lift(new cO(t))}class cO{constructor(t){this.notifier=t}call(t,e){const n=new lO(t),r=Object(Ht.c)(this.notifier,new Ht.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class lO extends Ht.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const hO=["underline"],dO=["connectionContainer"],fO=["inputContainer"],pO=["label"];function mO(t,e){1&t&&(r.Rb(0),r.Tb(1,"div",14),r.Ob(2,"div",15),r.Ob(3,"div",16),r.Ob(4,"div",17),r.Sb(),r.Tb(5,"div",18),r.Ob(6,"div",15),r.Ob(7,"div",16),r.Ob(8,"div",17),r.Sb(),r.Qb())}function gO(t,e){1&t&&(r.Tb(0,"div",19),r.dc(1,1),r.Sb())}function yO(t,e){if(1&t&&(r.Rb(0),r.dc(1,2),r.Tb(2,"span"),r.oc(3),r.Sb(),r.Qb()),2&t){const t=r.cc(2);r.Db(3),r.pc(t._control.placeholder)}}function bO(t,e){1&t&&r.dc(0,3,["*ngSwitchCase","true"])}function vO(t,e){1&t&&(r.Tb(0,"span",23),r.oc(1," *"),r.Sb())}function _O(t,e){if(1&t){const t=r.Ub();r.Tb(0,"label",20,21),r.ac("cdkObserveContent",function(){return r.jc(t),r.cc().updateOutlineGap()}),r.nc(2,yO,4,1,"ng-container",12),r.nc(3,bO,1,0,"ng-content",12),r.nc(4,vO,2,0,"span",22),r.Sb()}if(2&t){const t=r.cc();r.Fb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.fc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.Eb("for",t._control.id)("aria-owns",t._control.id),r.Db(2),r.fc("ngSwitchCase",!1),r.Db(1),r.fc("ngSwitchCase",!0),r.Db(1),r.fc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function wO(t,e){1&t&&(r.Tb(0,"div",24),r.dc(1,4),r.Sb())}function SO(t,e){if(1&t&&(r.Tb(0,"div",25,26),r.Ob(2,"span",27),r.Sb()),2&t){const t=r.cc();r.Db(2),r.Fb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function EO(t,e){if(1&t&&(r.Tb(0,"div"),r.dc(1,5),r.Sb()),2&t){const t=r.cc();r.fc("@transitionMessages",t._subscriptAnimationState)}}function CO(t,e){if(1&t&&(r.Tb(0,"div",31),r.oc(1),r.Sb()),2&t){const t=r.cc(2);r.fc("id",t._hintLabelId),r.Db(1),r.pc(t.hintLabel)}}function OO(t,e){if(1&t&&(r.Tb(0,"div",28),r.nc(1,CO,2,2,"div",29),r.dc(2,6),r.Ob(3,"div",30),r.dc(4,7),r.Sb()),2&t){const t=r.cc();r.fc("@transitionMessages",t._subscriptAnimationState),r.Db(1),r.fc("ngIf",t.hintLabel)}}const TO=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],IO=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let xO=0;const kO=new r.s("MatError");let AO=(()=>{class t{constructor(){this.id="mat-error-"+xO++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&r.Eb("id",e.id)},inputs:{id:"id"},features:[r.Cb([{provide:kO,useExisting:t}])]}),t})();const NO={transitionMessages:no("transitionMessages",[so("enter",oo({opacity:1,transform:"translateY(0%)"})),ao("void => enter",[oo({opacity:0,transform:"translateY(-5px)"}),ro("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let jO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t}),t})();const DO=new r.s("MatHint");let RO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-label"]]}),t})(),PO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-placeholder"]]}),t})();const FO=new r.s("MatPrefix"),LO=new r.s("MatSuffix");let MO=0;class VO{constructor(t){this._elementRef=t}}const UO=Eu(VO,"primary"),qO=new r.s("MAT_FORM_FIELD_DEFAULT_OPTIONS"),BO=new r.s("MatFormField");let zO=(()=>{class t extends UO{constructor(t,e,n,r,i,o,s,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=o,this._ngZone=s,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new St.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+MO++,this._labelId="mat-form-field-label-"+MO++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=za(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Jt(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(uO(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(uO(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(IC.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Jt(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Jt(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(uO(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,sO(this._label.nativeElement,"transitionend").pipe(Wt(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),o=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const o=this._getStartEnd(i),s=t.children,a=this._getStartEnd(s[0].getBoundingClientRect());let u=0;for(let t=0;t<s.length;t++)u+=s[t].offsetWidth;e=Math.abs(a-o)-5,n=u>0?.75*u+10:0}for(let s=0;s<i.length;s++)i[s].style.width=`${e}px`;for(let s=0;s<o.length;s++)o[s].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.h),r.Nb(r.l),r.Nb(mu,8),r.Nb(qO,8),r.Nb(Ga),r.Nb(r.B),r.Nb(Fa,8))},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(r.Gb(n,jO,1),r.Gb(n,jO,3),r.Gb(n,RO,1),r.Gb(n,RO,3),r.Gb(n,PO,1),r.Gb(n,kO,1),r.Gb(n,DO,1),r.Gb(n,FO,1),r.Gb(n,LO,1)),2&t){let t;r.ic(t=r.bc())&&(e._controlNonStatic=t.first),r.ic(t=r.bc())&&(e._controlStatic=t.first),r.ic(t=r.bc())&&(e._labelChildNonStatic=t.first),r.ic(t=r.bc())&&(e._labelChildStatic=t.first),r.ic(t=r.bc())&&(e._placeholderChild=t.first),r.ic(t=r.bc())&&(e._errorChildren=t),r.ic(t=r.bc())&&(e._hintChildren=t),r.ic(t=r.bc())&&(e._prefixChildren=t),r.ic(t=r.bc())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(r.rc(hO,1),r.rc(dO,3),r.rc(fO,1),r.rc(pO,1)),2&t){let t;r.ic(t=r.bc())&&(e.underlineRef=t.first),r.ic(t=r.bc())&&(e._connectionContainerRef=t.first),r.ic(t=r.bc())&&(e._inputContainerRef=t.first),r.ic(t=r.bc())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&r.Fb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.Cb([{provide:BO,useExisting:t}]),r.Ab],ngContentSelectors:IO,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.ec(TO),r.Tb(0,"div",0),r.Tb(1,"div",1,2),r.ac("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),r.nc(3,mO,9,0,"ng-container",3),r.nc(4,gO,2,0,"div",4),r.Tb(5,"div",5,6),r.dc(7),r.Tb(8,"span",7),r.nc(9,_O,5,16,"label",8),r.Sb(),r.Sb(),r.nc(10,wO,2,0,"div",9),r.Sb(),r.nc(11,SO,3,4,"div",10),r.Tb(12,"div",11),r.nc(13,EO,2,1,"div",12),r.nc(14,OO,5,2,"div",13),r.Sb(),r.Sb()),2&t&&(r.Db(3),r.fc("ngIf","outline"==e.appearance),r.Db(1),r.fc("ngIf",e._prefixChildren.length),r.Db(5),r.fc("ngIf",e._hasFloatingLabel()),r.Db(1),r.fc("ngIf",e._suffixChildren.length),r.Db(1),r.fc("ngIf","outline"!=e.appearance),r.Db(1),r.fc("ngSwitch",e._getDisplayedMessages()),r.Db(1),r.fc("ngSwitchCase","error"),r.Db(1),r.fc("ngSwitchCase","hint"))},directives:[j,F,L,nu],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[NO.transitionMessages]},changeDetection:0}),t})(),HO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[M,wu,ru],wu]}),t})();n("Y7HM");const KO=Za({passive:!0});let $O=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ut.a;const e=Ha(t),n=this._monitoredElements.get(e);if(n)return n.subject;const r=new St.a,i="cdk-text-field-autofilled",o=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",o,KO),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",o,KO)}}),r}stopMonitoring(t){const e=Ha(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Ga),r.Xb(r.B))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Xb)(Ga),Object(r.Xb)(r.B))},token:t,providedIn:"root"}),t})(),GO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[Qa]]}),t})();const QO=new r.s("MAT_INPUT_VALUE_ACCESSOR"),WO=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let XO=0;class YO{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const JO=Ou(YO);let ZO=(()=>{class t extends JO{constructor(t,e,n,r,i,o,s,a,u,c){super(o,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=c,this._uid="mat-input-"+XO++,this.focused=!1,this.stateChanges=new St.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Xa().has(t));const l=this._elementRef.nativeElement,h=l.nodeName.toLowerCase();this._inputValueAccessor=s||l,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=l.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=za(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=za(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Xa().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=za(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){WO.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(Ga),r.Nb(Ec,10),r.Nb(Wc,8),r.Nb(el,8),r.Nb(Tu),r.Nb(QO,10),r.Nb($O),r.Nb(r.B),r.Nb(BO,8))},t.\u0275dir=r.Ib({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&r.ac("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(r.Wb("disabled",e.disabled)("required",e.required),r.Eb("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState&&!e.empty)("aria-required",e.required),r.Fb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r.Cb([{provide:jO,useExisting:t}]),r.Ab,r.Bb]}),t})(),tT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[Tu],imports:[[GO,HO,wu],GO,HO]}),t})();function eT(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div"),r.Tb(1,"span"),r.oc(2,"Click here when all scores are filled:"),r.Sb(),r.Tb(3,"button",2),r.ac("click",function(){return r.jc(t),r.cc().getGameData()}),r.oc(4,"End Game"),r.Sb(),r.Sb()}}function nT(t,e){if(1&t&&(r.Tb(0,"tr"),r.Tb(1,"td"),r.oc(2),r.Sb(),r.Tb(3,"td"),r.oc(4),r.Sb(),r.Tb(5,"td"),r.oc(6),r.Sb(),r.Sb()),2&t){const t=e.$implicit;r.Db(2),r.pc(t.name),r.Db(2),r.pc(t.score),r.Db(2),r.pc(t.standing)}}const rT=function(){return[0]};function iT(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div"),r.Tb(1,"table"),r.Tb(2,"tbody"),r.Tb(3,"tr"),r.Tb(4,"td",3),r.oc(5,"Player Name"),r.Sb(),r.Tb(6,"td",4),r.oc(7,"Score"),r.Sb(),r.Tb(8,"td",4),r.oc(9,"Standing"),r.Sb(),r.Sb(),r.nc(10,nT,7,3,"tr",5),r.Sb(),r.Sb(),r.Tb(11,"button",6),r.ac("click",function(){return r.jc(t),r.cc().save()}),r.oc(12," Save to Firebase "),r.Sb(),r.Sb()}if(2&t){const t=r.cc();r.Db(10),r.fc("ngForOf",void 0!==t.scores[0]?t.scores:r.hc(1,rT))}}let oT=(()=>{class t{constructor(t,e){this.gameDataService=t,this.router=e,this.scores=[]}ngOnInit(){this.gameData=[{},{}],this.visible=!1}getGameData(){this.gameData===this.gameDataService.getGameData()?this.gameData=this.gameDataService.getGameData():(this.gameData=this.gameDataService.getGameData(),void 0!==this.gameData&&(console.log("iterating through players"),this.gameData.playerData.forEach(t=>{console.log(t);let e=0,n="";for(let r=0;r<t.data.out.length;r++)e+=t.data.out[r].score;for(let r=0;r<t.data.in.length;r++)e+=t.data.in[r].score;e<this.gameData.par&&(n="Below Par. Awesome!"),e>this.gameData.par&&(n="Over par. Better luck next time"),e==this.gameData.par&&(n="On par!"),this.scores.push({name:t.name,score:e,standing:n})}),console.log(this.scores),this.visible=!0))}save(){this.gameDataService.saveGame(this.gameData),this.router.navigate(["./home"])}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(iO),r.Nb(Zr))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-summary"]],decls:3,vars:2,consts:[[1,"flex"],[4,"ngIf"],["mat-button","",3,"click"],[1,"rowLabel"],[1,"columnLabel"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"submit",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"mat-card",0),r.nc(1,eT,5,0,"div",1),r.nc(2,iT,13,2,"div",1),r.Sb()),2&t&&(r.Db(1),r.fc("ngIf",!1===e.visible),r.Db(1),r.fc("ngIf",e.visible))},directives:[zu,j,Yu,A],styles:["button[_ngcontent-%COMP%]{background-color:rgba(0,115,255,.447);margin:5px;font-size:12px;text-align:center;max-width:125px}table[_ngcontent-%COMP%]{border-collapse:collapse;margin:25px 0;font-size:.9em;font-family:sans-serif;min-width:375px;width:auto;box-shadow:0 0 20px rgba(0,0,0,.15)}td[_ngcontent-%COMP%]{border:thin solid #000;text-align:center}.flex[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}"]}),t})();function sT(t,e){if(1&t){const t=r.Ub();r.Tb(0,"button",31),r.ac("click",function(){r.jc(t);const n=e.$implicit;return r.cc(2).setTee(n.tee)}),r.oc(1),r.Sb()}if(2&t){const t=e.$implicit;r.Db(1),r.qc(" ",t.tee," ")}}function aT(t,e){if(1&t&&(r.Tb(0,"div",27),r.Tb(1,"div",28),r.Tb(2,"h1"),r.oc(3),r.Sb(),r.Tb(4,"div",29),r.Tb(5,"span"),r.oc(6,"Select Tee:"),r.Sb(),r.nc(7,sT,2,1,"button",30),r.Sb(),r.Sb(),r.Sb()),2&t){const t=e.$implicit,n=r.cc();r.Db(3),r.pc(t.name),r.Db(4),r.fc("ngForOf",n.tees)}}function uT(t,e){if(1&t&&(r.Tb(0,"td"),r.oc(1),r.Sb()),2&t){const t=e.$implicit;r.Db(1),r.qc(" ",t.par," ")}}function cT(t,e){if(1&t&&(r.Tb(0,"td"),r.oc(1),r.Sb()),2&t){const t=e.$implicit;r.Db(1),r.qc(" ",t.yards," ")}}function lT(t,e){if(1&t&&(r.Tb(0,"td"),r.oc(1),r.Sb()),2&t){const t=e.$implicit;r.Db(1),r.qc(" ",t.hcp," ")}}function hT(t,e){if(1&t){const t=r.Ub();r.Tb(0,"td"),r.Tb(1,"input",33),r.ac("keypress",function(e){return r.jc(t),r.cc(2).isNumber(e)})("keyup",function(e){return r.jc(t),r.cc(2).updateScore(e)}),r.Sb(),r.Sb()}if(2&t){const t=e.$implicit;r.Db(1),r.gc("id",t.hole)}}function dT(t,e){if(1&t&&(r.Tb(0,"tr",32),r.Tb(1,"td"),r.oc(2),r.Sb(),r.nc(3,hT,2,1,"td",10),r.Tb(4,"td",32),r.oc(5),r.Sb(),r.Sb()),2&t){const t=e.$implicit;r.gc("id",t.id),r.Db(2),r.pc(t.name),r.Db(1),r.fc("ngForOf",t.data.out),r.Db(1),r.gc("id",t.id),r.Db(1),r.pc(t.data.outScore)}}function fT(t,e){if(1&t&&(r.Tb(0,"td"),r.oc(1),r.Sb()),2&t){const t=e.$implicit;r.Db(1),r.qc(" ",t.par," ")}}function pT(t,e){if(1&t&&(r.Tb(0,"td"),r.oc(1),r.Sb()),2&t){const t=e.$implicit;r.Db(1),r.qc(" ",t.yards," ")}}function mT(t,e){if(1&t&&(r.Tb(0,"td"),r.oc(1),r.Sb()),2&t){const t=e.$implicit;r.Db(1),r.qc(" ",t.hcp," ")}}function gT(t,e){if(1&t){const t=r.Ub();r.Tb(0,"td"),r.Tb(1,"input",33),r.ac("keypress",function(e){return r.jc(t),r.cc(2).isNumber(e)})("keyup",function(e){return r.jc(t),r.cc(2).updateScore(e)}),r.Sb(),r.Sb()}if(2&t){const t=e.$implicit;r.Db(1),r.gc("id",t.hole)}}function yT(t,e){if(1&t&&(r.Tb(0,"tr",32),r.nc(1,gT,2,1,"td",10),r.Tb(2,"td",32),r.oc(3),r.Sb(),r.Sb()),2&t){const t=e.$implicit;r.gc("id",t.id),r.Db(1),r.fc("ngForOf",t.data.in),r.Db(1),r.gc("id",t.id),r.Db(1),r.pc(t.data.inScore)}}function bT(t,e){1&t&&(r.Tb(0,"mat-error"),r.oc(1," Name already in use. Try again. "),r.Sb())}const vT=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:tc},{path:"play",component:(()=>{class t{constructor(t,e,n){this.CoursesService=t,this.route=e,this.gameDataService=n,this.selectedCourse=[],this.players=[],this.tees=[],this.playerNameFC=new Hc("",this.nameValidator())}ngOnInit(){this.tee=2,this.isComplete=!1,this.outHcap=0,this.outPar=0,this.outYards=0,this.inHcap=0,this.inPar=0,this.inYards=0,this.CoursesService.getCourses().subscribe(t=>{t.courses.forEach(t=>{this.CoursesService.getCourseData(t.id).subscribe(t=>{t.data.id==this.route.snapshot.params.id&&(console.log("course found"),this.selectedCourse.push({id:t.data.id,name:t.data.name,image:t.data.thumbnail,holes:t.data.holes}),console.log(this.selectedCourse),this.calculateTotalCourseValues(),this.populateTees())})})})}getOutPar(){let t=[];return this.selectedCourse[0].holes.forEach(e=>{e.hole<=9&&t.push(e.teeBoxes[this.tee])}),t}getInPar(){let t=[];return this.selectedCourse[0].holes.forEach(e=>{e.hole>9&&t.push(e.teeBoxes[this.tee])}),t}getOutYards(){let t=[];return this.selectedCourse[0].holes.forEach(e=>{e.hole<=9&&t.push(e.teeBoxes[this.tee])}),t}getInYards(){let t=[];return this.selectedCourse[0].holes.forEach(e=>{e.hole>9&&t.push(e.teeBoxes[this.tee])}),t}getOutHcap(){let t=[];return this.selectedCourse[0].holes.forEach(e=>{e.hole<=9&&t.push(e.teeBoxes[this.tee])}),t}getInHcap(){let t=[];return this.selectedCourse[0].holes.forEach(e=>{e.hole>9&&t.push(e.teeBoxes[this.tee])}),t}setTee(t){let e=this.tees.findIndex(e=>e.tee===t);this.tee=e,this.calculateTotalCourseValues()}addPlayer(){this.players.length<4&&this.playerNameFC.value&&(this.players.push({id:"player"+Number(this.players.length+1),name:this.playerNameFC.value,data:{out:[{hole:`player${this.players.length+1}h1`,score:0},{hole:`player${this.players.length+1}h2`,score:0},{hole:`player${this.players.length+1}h3`,score:0},{hole:`player${this.players.length+1}h4`,score:0},{hole:`player${this.players.length+1}h5`,score:0},{hole:`player${this.players.length+1}h6`,score:0},{hole:`player${this.players.length+1}h7`,score:0},{hole:`player${this.players.length+1}h8`,score:0},{hole:`player${this.players.length+1}h9`,score:0}],in:[{hole:`player${this.players.length+1}h10`,score:0},{hole:`player${this.players.length+1}h11`,score:0},{hole:`player${this.players.length+1}h12`,score:0},{hole:`player${this.players.length+1}h13`,score:0},{hole:`player${this.players.length+1}h14`,score:0},{hole:`player${this.players.length+1}h15`,score:0},{hole:`player${this.players.length+1}h16`,score:0},{hole:`player${this.players.length+1}h17`,score:0},{hole:`player${this.players.length+1}h18`,score:0}],outScore:0,inScore:0}}),this.playerNameFC.setValue(""))}isNumber(t){if(!Number(t.key))return!1;this.updateScore(t)}updateScore(t){if(Number(t.key)){let e=Number(t.target.id.substr(8)-1),n=t.target.parentNode.parentNode.id,r=Number(t.target.value);console.log(e);let i=this.players.find(t=>t.id===n);console.log(i),e<=8&&(i.data.out[e].score=r),e>=9&&(i.data.in[e-9].score=r),this.calcOutInScore(i.id)}this.isGameComplete()&&(this.isComplete=!0)}isGameComplete(){let t=0,e=!1;return this.players.forEach(e=>{let n=e.data.out.some(t=>0===t.score),r=e.data.in.some(t=>0===t.score);!1===n&&!1===r&&(t+=1)}),t===this.players.length&&(e=!0,this.gameDataService.setGameData({playerData:this.players,par:this.inPar+this.outPar,course:this.selectedCourse}),console.log("TRIGGER")),e}nameValidator(){return t=>{let e=null;return this.players&&this.players.length&&this.players.forEach(n=>{n.name.toLowerCase()===t.value.toLowerCase()&&(e={duplicate:!0})}),e}}calculateTotalCourseValues(){let t=0,e=0,n=0,r=0,i=0,o=0,s=this.selectedCourse[0];for(let a=0;a<s.holes.length;a++)a<=8?(r+=s.holes[a].teeBoxes[this.tee].par,i+=s.holes[a].teeBoxes[this.tee].yards,o+=s.holes[a].teeBoxes[this.tee].hcp):a>=9&&(t+=s.holes[a].teeBoxes[this.tee].par,e+=s.holes[a].teeBoxes[this.tee].yards,n+=s.holes[a].teeBoxes[this.tee].hcp);this.inPar=t,this.inYards=e,this.inHcap=n,this.outPar=r,this.outYards=i,this.outHcap=o}populateTees(){this.selectedCourse[0].holes[0].teeBoxes.forEach(t=>{"pro"==t.teeType&&this.tees.push({tee:t.teeType,value:0}),"champion"==t.teeType&&this.tees.push({tee:t.teeType,value:1}),"men"==t.teeType&&this.tees.push({tee:t.teeType,value:2}),"women"==t.teeType&&this.tees.push({tee:t.teeType,value:3}),console.log(this.tees)})}calcOutInScore(t){let e=this.players.find(e=>e.id===t),n=0,r=0;e.data.out.forEach(t=>{n+=t.score}),e.data.in.forEach(t=>{r+=t.score}),e.data.outScore=n,e.data.inScore=r}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Zi),r.Nb(Rn),r.Nb(iO))},t.\u0275cmp=r.Hb({type:t,selectors:[["score-card"]],decls:98,vars:18,consts:[["id","main-container"],["id","controls",4,"ngFor","ngForOf"],["id","game-finished-message"],["id","main-card-container"],["id","out-container"],[1,"hole-row"],[1,"rowLabel"],[1,"columnLabel"],[1,"top-section"],[1,"par-row"],[4,"ngFor","ngForOf"],["id","par-out-total"],[1,"yardage-row"],["id","yards-out-total"],[1,"handicap-row"],["id","handicap-out-total"],[3,"id",4,"ngFor","ngForOf"],["id","in-container"],["id","hole-in-total",1,"columnLabel"],["id","par-in-total"],["id","yards-in-total"],["id","handicap-in-total"],[1,"addPlayer"],[1,"formfield"],["matInput","","type","text","placeholder","Insert name here...",3,"formControl"],[4,"ngIf"],["mat-button","",1,"button",3,"disabled","click"],["id","controls"],[1,"flex-column"],["id","tee-select",1,"flex"],["mat-button","","class","button",3,"click",4,"ngFor","ngForOf"],["mat-button","",1,"button",3,"click"],[3,"id"],["matInput","","type","text","maxlength","2","placeholder","...",3,"id","keypress","keyup"]],template:function(t,e){1&t&&(r.Tb(0,"div"),r.Tb(1,"div",0),r.nc(2,aT,8,2,"div",1),r.Ob(3,"div",2),r.Tb(4,"div",3),r.Tb(5,"table",4),r.Tb(6,"tbody"),r.Tb(7,"tr",5),r.Tb(8,"td",6),r.oc(9,"Hole"),r.Sb(),r.Tb(10,"td",7),r.oc(11,"1"),r.Sb(),r.Tb(12,"td",7),r.oc(13,"2"),r.Sb(),r.Tb(14,"td",7),r.oc(15,"3"),r.Sb(),r.Tb(16,"td",7),r.oc(17,"4"),r.Sb(),r.Tb(18,"td",7),r.oc(19,"5"),r.Sb(),r.Tb(20,"td",7),r.oc(21,"6"),r.Sb(),r.Tb(22,"td",7),r.oc(23,"7"),r.Sb(),r.Tb(24,"td",7),r.oc(25,"8"),r.Sb(),r.Tb(26,"td",7),r.oc(27,"9"),r.Sb(),r.Tb(28,"td",7),r.oc(29,"Out"),r.Sb(),r.Sb(),r.Sb(),r.Tb(30,"tbody",8),r.Tb(31,"tr",9),r.Tb(32,"td",6),r.oc(33,"Par"),r.Sb(),r.nc(34,uT,2,1,"td",10),r.Tb(35,"td",11),r.oc(36),r.Sb(),r.Sb(),r.Tb(37,"tr",12),r.Tb(38,"td",6),r.oc(39,"Yards"),r.Sb(),r.nc(40,cT,2,1,"td",10),r.Tb(41,"td",13),r.oc(42),r.Sb(),r.Sb(),r.Sb(),r.Tb(43,"tbody"),r.Tb(44,"tr",14),r.Tb(45,"td",6),r.oc(46,"Hcap"),r.Sb(),r.nc(47,lT,2,1,"td",10),r.Tb(48,"td",15),r.oc(49),r.Sb(),r.Sb(),r.Sb(),r.Tb(50,"tbody"),r.nc(51,dT,6,5,"tr",16),r.Sb(),r.Sb(),r.Tb(52,"table",17),r.Tb(53,"tbody"),r.Tb(54,"tr",5),r.Tb(55,"td",7),r.oc(56,"10"),r.Sb(),r.Tb(57,"td",7),r.oc(58,"11"),r.Sb(),r.Tb(59,"td",7),r.oc(60,"12"),r.Sb(),r.Tb(61,"td",7),r.oc(62,"13"),r.Sb(),r.Tb(63,"td",7),r.oc(64,"14"),r.Sb(),r.Tb(65,"td",7),r.oc(66,"15"),r.Sb(),r.Tb(67,"td",7),r.oc(68,"16"),r.Sb(),r.Tb(69,"td",7),r.oc(70,"17"),r.Sb(),r.Tb(71,"td",7),r.oc(72,"18"),r.Sb(),r.Tb(73,"td",18),r.oc(74,"In"),r.Sb(),r.Sb(),r.Sb(),r.Tb(75,"tbody",8),r.Tb(76,"tr",9),r.nc(77,fT,2,1,"td",10),r.Tb(78,"td",19),r.oc(79),r.Sb(),r.Sb(),r.Tb(80,"tr",12),r.nc(81,pT,2,1,"td",10),r.Tb(82,"td",20),r.oc(83),r.Sb(),r.Sb(),r.Sb(),r.Tb(84,"tbody"),r.Tb(85,"tr",14),r.nc(86,mT,2,1,"td",10),r.Tb(87,"td",21),r.oc(88),r.Sb(),r.Sb(),r.Sb(),r.Tb(89,"tbody"),r.nc(90,yT,4,4,"tr",16),r.Sb(),r.Sb(),r.Sb(),r.Tb(91,"div",22),r.Tb(92,"mat-form-field",23),r.Ob(93,"input",24),r.nc(94,bT,2,0,"mat-error",25),r.Sb(),r.Tb(95,"button",26),r.ac("click",function(){return e.addPlayer()}),r.oc(96," Add Player "),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Ob(97,"app-summary")),2&t&&(r.Db(2),r.fc("ngForOf",e.selectedCourse),r.Db(32),r.fc("ngForOf",e.getOutPar()),r.Db(2),r.pc(e.outPar),r.Db(4),r.fc("ngForOf",e.getOutYards()),r.Db(2),r.pc(e.outYards),r.Db(5),r.fc("ngForOf",e.getOutHcap()),r.Db(2),r.pc(e.outHcap),r.Db(2),r.fc("ngForOf",e.players),r.Db(26),r.fc("ngForOf",e.getInPar()),r.Db(2),r.pc(e.inPar),r.Db(2),r.fc("ngForOf",e.getInYards()),r.Db(2),r.pc(e.inYards),r.Db(3),r.fc("ngForOf",e.getInHcap()),r.Db(2),r.pc(e.inHcap),r.Db(2),r.fc("ngForOf",e.players),r.Db(3),r.fc("formControl",e.playerNameFC),r.Db(1),r.fc("ngIf",e.playerNameFC.hasError("duplicate")),r.Db(1),r.fc("disabled",e.playerNameFC.invalid))},directives:[A,zO,ZO,ac,Cc,Zc,j,Yu,oT,AO],styles:["a[_ngcontent-%COMP%], abbr[_ngcontent-%COMP%], acronym[_ngcontent-%COMP%], address[_ngcontent-%COMP%], applet[_ngcontent-%COMP%], article[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], audio[_ngcontent-%COMP%], b[_ngcontent-%COMP%], big[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], body[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%], caption[_ngcontent-%COMP%], center[_ngcontent-%COMP%], cite[_ngcontent-%COMP%], code[_ngcontent-%COMP%], dd[_ngcontent-%COMP%], del[_ngcontent-%COMP%], details[_ngcontent-%COMP%], dfn[_ngcontent-%COMP%], div[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], dt[_ngcontent-%COMP%], em[_ngcontent-%COMP%], embed[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%], figcaption[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], form[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], header[_ngcontent-%COMP%], hgroup[_ngcontent-%COMP%], html[_ngcontent-%COMP%], i[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], ins[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], label[_ngcontent-%COMP%], legend[_ngcontent-%COMP%], li[_ngcontent-%COMP%], mark[_ngcontent-%COMP%], menu[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], object[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], output[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], q[_ngcontent-%COMP%], ruby[_ngcontent-%COMP%], s[_ngcontent-%COMP%], samp[_ngcontent-%COMP%], section[_ngcontent-%COMP%], small[_ngcontent-%COMP%], span[_ngcontent-%COMP%], strike[_ngcontent-%COMP%], strong[_ngcontent-%COMP%], sub[_ngcontent-%COMP%], summary[_ngcontent-%COMP%], sup[_ngcontent-%COMP%], table[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], th[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], time[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], tt[_ngcontent-%COMP%], u[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], var[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:initial}#main-card-container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center}.button[_ngcontent-%COMP%]{background-color:rgba(0,115,255,.447);margin:5px;font-size:12px;text-align:center}.formfield[_ngcontent-%COMP%]{max-height:20px;width:auto;display:flex;align-items:center}.formfield[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;justify-content:center}mat-form-field[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none}table[_ngcontent-%COMP%]{border-collapse:collapse;margin:25px 0;font-size:.9em;font-family:sans-serif;min-width:375px;width:100%;box-shadow:0 0 20px rgba(0,0,0,.15)}td[_ngcontent-%COMP%]{border:thin solid #000;text-align:center}.hole-row[_ngcontent-%COMP%]{background-color:#009879;color:#fff}.flex[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.flex-column[_ngcontent-%COMP%]{display:flex;flex-direction:column}img[_ngcontent-%COMP%]{max-width:375px}input[_ngcontent-%COMP%]{width:100%;padding:0;text-align:center;margin:0;display:flex;border:none;background:transparent;outline:none}#player1[_ngcontent-%COMP%]{background-color:rgba(0,251,255,.379)}#player2[_ngcontent-%COMP%]{background-color:rgba(165,75,47,.379)}#player3[_ngcontent-%COMP%]{background-color:rgba(86,165,47,.379)}#player4[_ngcontent-%COMP%]{background-color:rgba(165,161,47,.379)}.addPlayer[_ngcontent-%COMP%]{display:flex;justify-content:center}@media screen and (max-width:800px){#main-card-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;align-items:center}}"]}),t})()}];let _T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[di.forRoot(vT)],di]}),t})();const wT=["*",[["mat-toolbar-row"]]],ST=["*","mat-toolbar-row"];class ET{constructor(t){this._elementRef=t}}const CT=Eu(ET);let OT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),TT=(()=>{class t extends CT{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(Ga),r.Nb(s))},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&r.Gb(n,OT,1),2&t){let t;r.ic(t=r.bc())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&r.Fb("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.Ab],ngContentSelectors:ST,decls:2,vars:0,template:function(t,e){1&t&&(r.ec(wT),r.dc(0),r.dc(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),IT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[wu],wu]}),t})();var xT=n("z6cu"),kT=n("w1tV");const AT=["*"];function NT(t){return Error(`Unable to find icon with the name "${t}"`)}function jT(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function DT(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class RT{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let PT=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new RT(n,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,i){const o=this._sanitizer.sanitize(r.K.HTML,n);if(!o)throw DT(n);return this._addSvgIconConfig(t,e,new RT("",o,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new RT(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.K.HTML,e);if(!i)throw DT(e);return this._addSvgIconSetConfig(t,new RT("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.K.RESOURCE_URL,t);if(!e)throw jT(t);const n=this._cachedIconsByUrl.get(e);return n?Object(wt.a)(FT(n)):this._loadSvgIconFromConfig(new RT(t,null)).pipe(Object(Se.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(zt.a)(t=>FT(t)))}getNamedSvgIcon(t,e=""){const n=LT(e,t);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(e,t),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(xT.a)(NT(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(wt.a)(FT(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(zt.a)(t=>FT(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(wt.a)(n):nc(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(oe(e=>{const n=this._sanitizer.sanitize(r.K.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(wt.a)(null)})))).pipe(Object(zt.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw NT(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(Se.a)(e=>t.svgText=e),Object(zt.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(wt.a)(null):this._fetchIcon(t).pipe(Object(Se.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(i),this._setSvgAttributes(o,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,o=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(r.K.RESOURCE_URL,n);if(!s)throw jT(n);const a=this._inProgressUrlFetches.get(s);if(a)return a;const u=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Oe(()=>this._inProgressUrlFetches.delete(s)),Object(kT.a)());return this._inProgressUrlFetches.set(s,u),u}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(LT(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](e,t);if(i)return(n=i).url&&n.options?new RT(i.url,null,i.options):new RT(i,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Li,8),r.Xb(pt),r.Xb(s,8),r.Xb(r.n))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Xb)(Li,8),Object(r.Xb)(pt),Object(r.Xb)(s,8),Object(r.Xb)(r.n))},token:t,providedIn:"root"}),t})();function FT(t){return t.cloneNode(!0)}function LT(t,e){return t+":"+e}class MT{constructor(t){this._elementRef=t}}const VT=Eu(MT),UT=new r.s("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.X)(s),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),qT=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],BT=qT.map(t=>`[${t}]`).join(", "),zT=/^url\(['"]?#(.*?)['"]?\)$/;let HT=(()=>{class t extends VT{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=Ce.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=za(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(BT),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)qT.forEach(t=>{const i=e[r],o=i.getAttribute(t),s=o?o.match(zT):null;if(s){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:s[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(Wt(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(PT),r.Yb("aria-hidden"),r.Nb(UT),r.Nb(r.n))},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Eb("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.Fb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.Ab],ngContentSelectors:AT,decls:1,vars:0,template:function(t,e){1&t&&(r.ec(),r.dc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),KT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[wu],wu]}),t})(),$T=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-nav-bar"]],decls:6,vars:0,consts:[["mat-icon-button","","routerLink","./home"]],template:function(t,e){1&t&&(r.Tb(0,"mat-toolbar"),r.Tb(1,"button",0),r.Tb(2,"mat-icon"),r.oc(3,"home"),r.Sb(),r.Sb(),r.Tb(4,"div"),r.oc(5,"Ng Golf Scorecard"),r.Sb(),r.Sb())},directives:[TT,Yu,ti,HT],styles:[".material-icons[_ngcontent-%COMP%]{font-size:35px}mat-icon[_ngcontent-%COMP%]{width:35px;height:35px}.mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-icon-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{line-height:35px}div[_ngcontent-%COMP%]{margin-left:10px;cursor:pointer}"]}),t})(),GT=(()=>{class t{constructor(){this.title="golf-score-card"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"flex",2,"height","100%"],[2,"height","0px"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Ob(1,"app-nav-bar"),r.Ob(2,"router-outlet",1),r.Sb())},directives:[$T,ni],styles:[".flex[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),t})();n("3N8a"),n("IjjT"),n("7Hc7");let QT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({}),t})(),WT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[gu,Qa,QT],gu,QT]}),t})(),XT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[WT]]}),t})(),YT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[XT,wu],wu]}),t})(),JT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[M,YT,IT,Ju,KT,tT,rl],YT,Ku,IT,Ju,KT,tT,rl]}),t})();const ZT={apiKey:"AIzaSyCgGLK5hl1bS2SA5QzTufp-4G6y9cC-8Cc",authDomain:"angulargolfscorecard.firebaseapp.com",projectId:"angulargolfscorecard",storageBucket:"angulargolfscorecard.appspot.com",messagingSenderId:"807232197496",appId:"1:807232197496:web:cbb3ec563fb3d3d47fee8d",measurementId:"G-1Y9Z65VHFB"};let tI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t,bootstrap:[GT]}),t.\u0275inj=r.Kb({providers:[],imports:[[vt,_T,Ma,JT,Ji,ll.a.initializeApp(ZT),rO]]}),t})();Object(r.V)(),yt().bootstrapModule(tI).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);